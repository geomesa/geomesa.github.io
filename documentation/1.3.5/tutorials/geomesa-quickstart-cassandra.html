

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>GeoMesa Cassandra Quick Start &mdash; GeoMesa 1.3.5 Manuals</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme_custom.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="GeoMesa 1.3.5 Manuals" href="../index.html"/>
        <link rel="up" title="Tutorials" href="index.html"/>
        <link rel="next" title="GeoMesa Kafka Quick Start" href="geomesa-quickstart-kafka.html"/>
        <link rel="prev" title="GeoMesa HBase Quick Start" href="geomesa-quickstart-hbase.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> GeoMesa
          

          
          </a>

          
            
            
              <div class="version">
                1.3.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Manual</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Tutorials</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#getting-started">Getting Started</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="geomesa-quickstart-accumulo.html">GeoMesa Accumulo Quick Start</a></li>
<li class="toctree-l3"><a class="reference internal" href="geomesa-quickstart-hbase.html">GeoMesa HBase Quick Start</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">GeoMesa Cassandra Quick Start</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="#create-a-cassandra-namespace">Create A Cassandra Namespace</a></li>
<li class="toctree-l4"><a class="reference internal" href="#download-and-build-the-tutorial">Download and Build the Tutorial</a></li>
<li class="toctree-l4"><a class="reference internal" href="#about-this-tutorial">About this Tutorial</a></li>
<li class="toctree-l4"><a class="reference internal" href="#run-the-tutorial">Run the Tutorial</a></li>
<li class="toctree-l4"><a class="reference internal" href="#looking-at-the-code">Looking at the Code</a></li>
<li class="toctree-l4"><a class="reference internal" href="#visualize-data-with-geoserver">Visualize Data With GeoServer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="geomesa-quickstart-kafka.html">GeoMesa Kafka Quick Start</a></li>
<li class="toctree-l3"><a class="reference internal" href="geomesa-quickstart-lambda.html">GeoMesa Lambda Quick Start</a></li>
<li class="toctree-l3"><a class="reference internal" href="geomesa-quickstart-nifi.html">GeoMesa NiFi Quick Start</a></li>
<li class="toctree-l3"><a class="reference internal" href="geodocker-geomesa/index.html">GeoDocker GeoMesa</a></li>
<li class="toctree-l3"><a class="reference internal" href="geomesa-hbase-s3-on-aws.html">Bootstrapping GeoMesa HBase on AWS S3</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#data-in-out">Data In/Out</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#data-analysis">Data Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#security">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#indexing-and-queries">Indexing and Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#about-tutorial-versions">About Tutorial Versions</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">GeoMesa</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Tutorials</a> &raquo;</li>
      
    <li>GeoMesa Cassandra Quick Start</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/tutorials/geomesa-quickstart-cassandra.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="geomesa-cassandra-quick-start">
<h1>GeoMesa Cassandra Quick Start<a class="headerlink" href="#geomesa-cassandra-quick-start" title="Permalink to this headline">¶</a></h1>
<p>This tutorial is the fastest and easiest way to get started with
GeoMesa. It is a good stepping-stone on the path to the other tutorials
that present increasingly involved examples of how to use GeoMesa.</p>
<p>In the spirit of keeping things simple, the code in this tutorial only
does a few small things:</p>
<ol class="arabic simple">
<li>establishes a new (static) SimpleFeatureType</li>
<li>prepares the Cassandra table to store this type of data</li>
<li>creates 1000 SimpleFeatures</li>
<li>writes these SimpleFeatures to the Cassandra table</li>
<li>queries for a given geographic rectangle, time range, and attribute
filter, writing out the entries in the result set</li>
</ol>
<p>The only dynamic element in the tutorial is the Cassandra destination;
that is a property that you provide on the command-line when running the
code.</p>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>Before you begin, you must have the following:</p>
<ul class="simple">
<li>an instance of Cassandra 3.x standalone or cluster,</li>
<li>a Cassandra user that has both create-table and write permissions
(not needed for Cassandra standalone versions),</li>
<li>a local copy of the <a class="reference external" href="http://java.oracle.com/">Java</a> JDK 8,</li>
<li>Apache <a class="reference external" href="http://maven.apache.org/">Maven</a> installed, and</li>
<li>a GitHub client installed.</li>
</ul>
</div>
<div class="section" id="create-a-cassandra-namespace">
<h2>Create A Cassandra Namespace<a class="headerlink" href="#create-a-cassandra-namespace" title="Permalink to this headline">¶</a></h2>
<p>You will need a namespace in Cassandra for the tutorial to create tables
in. The Easiest way to do this is with the <code class="docutils literal"><span class="pre">cqlsh</span></code> tool provided with
Cassandra distributions. Start cqlsh, then type:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>cqlsh&gt;  CREATE KEYSPACE mykeyspace WITH <span class="nv">REPLICATION</span> <span class="o">=</span> <span class="o">{</span><span class="s1">&#39;class&#39;</span>: <span class="s1">&#39;SimpleStrategy&#39;</span>, <span class="s1">&#39;replication_factor&#39;</span> : <span class="m">3</span><span class="o">}</span><span class="p">;</span>
</pre></div>
</div>
<p>This creates a key space called “mykeyspace”. This is a top-level name
space within Cassandra and it will provide a place for GeoMesa to put
all of its data, including data for spatial features and associated
metadata.</p>
</div>
<div class="section" id="download-and-build-the-tutorial">
<h2>Download and Build the Tutorial<a class="headerlink" href="#download-and-build-the-tutorial" title="Permalink to this headline">¶</a></h2>
<p>Pick a reasonable directory on your machine, and run:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ git clone https://github.com/geomesa/geomesa-tutorials.git
$ <span class="nb">cd</span> geomesa-tutorials
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You may need to download a particular release of the
tutorials project to target a particular GeoMesa release.</p>
</div>
<p>To build, run</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ mvn clean install -pl geomesa-quickstart-cassandra
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Ensure that the version of Cassandra, Hadoop, etc in
the root <code class="docutils literal"><span class="pre">pom.xml</span></code> match your environment.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Depending on the version, you may also need to build
GeoMesa locally. Instructions can be found
<a class="reference external" href="https://github.com/locationtech/geomesa/">here</a>.</p>
</div>
</div>
<div class="section" id="about-this-tutorial">
<h2>About this Tutorial<a class="headerlink" href="#about-this-tutorial" title="Permalink to this headline">¶</a></h2>
<p>The QuickStart operates by inserting and then querying 1000 features.
After the insertions are complete, a sequence of queries are run to
demonstrate different types of queries possible via the GeoTools API.</p>
</div>
<div class="section" id="run-the-tutorial">
<h2>Run the Tutorial<a class="headerlink" href="#run-the-tutorial" title="Permalink to this headline">¶</a></h2>
<p>On the command-line, run:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ java -cp geomesa-quickstart-cassandra/target/geomesa-quickstart-cassandra-<span class="si">${</span><span class="nv">geomesa</span><span class="p">.version</span><span class="si">}</span>.jar <span class="se">\</span>
  com.example.geomesa.cassandra.CassandraQuickStart <span class="se">\</span>
  -contact_point &lt;host:port&gt;                        <span class="se">\</span>
  -keyspace &lt;keyspace&gt;                              <span class="se">\</span>
  -catalog_table &lt;catalog_table&gt;                    <span class="se">\</span>
  -username &lt;username&gt;                              <span class="se">\</span>
  -password &lt;password&gt;
</pre></div>
</div>
<p>where you provide the following arguments:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">&lt;host:port&gt;</span></code> the hostname and port your Cassandra instance is
running on. For Cassandra standalong this is localhost:9042.<a class="reference external" href="http://www.geomesa.org/documentation/user/cassandra/install.html#connecting-to-cassandra">More
info on how to find this information
here</a></li>
<li><code class="docutils literal"><span class="pre">&lt;keyspace&gt;</span></code> keyspace your table will be put into. <a class="reference external" href="http://www.geomesa.org/documentation/user/cassandra/install.html#connecting-to-cassandra">More info on
how to setup keyspaces
here</a></li>
<li><code class="docutils literal"><span class="pre">&lt;catalog_table&gt;</span></code> the name of the destination table that will
accept these test records; this table should either not exist or
should be empty</li>
<li><code class="docutils literal"><span class="pre">&lt;user&gt;</span></code> (optional) the name of a Cassandra user that has
permissions to create, read and write tables</li>
<li><code class="docutils literal"><span class="pre">&lt;password&gt;</span></code> (optional) the password for the previously-mentioned
Cassandra user</li>
</ul>
<p>You should see output similar to the following (not including some of
Maven’s output and log4j’s warnings):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">New</span> <span class="n">Cassandra</span> <span class="n">host</span> <span class="o">/</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">9042</span> <span class="n">added</span>
<span class="n">Creating</span> <span class="n">feature</span><span class="o">-</span><span class="nb">type</span> <span class="p">(</span><span class="n">schema</span><span class="p">):</span>  <span class="n">CassandraQuickStart</span>
<span class="n">Creating</span> <span class="n">new</span> <span class="n">features</span>
<span class="n">Inserting</span> <span class="n">new</span> <span class="n">features</span>
<span class="n">Submitting</span> <span class="n">query</span>
<span class="mf">1.</span>  <span class="n">Bierce</span><span class="o">|</span><span class="mi">640</span><span class="o">|</span><span class="n">Sun</span> <span class="n">Sep</span> <span class="mi">14</span> <span class="mi">15</span><span class="p">:</span><span class="mi">48</span><span class="p">:</span><span class="mi">25</span> <span class="n">EDT</span> <span class="mi">2014</span><span class="o">|</span><span class="n">POINT</span> <span class="p">(</span><span class="o">-</span><span class="mf">77.36222958792739</span> <span class="o">-</span><span class="mf">37.13013846773835</span><span class="p">)</span><span class="o">|</span><span class="n">null</span>
<span class="mf">2.</span>  <span class="n">Bierce</span><span class="o">|</span><span class="mi">886</span><span class="o">|</span><span class="n">Tue</span> <span class="n">Jul</span> <span class="mi">22</span> <span class="mi">14</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">36</span> <span class="n">EDT</span> <span class="mi">2014</span><span class="o">|</span><span class="n">POINT</span> <span class="p">(</span><span class="o">-</span><span class="mf">76.59795732474399</span> <span class="o">-</span><span class="mf">37.18420917493149</span><span class="p">)</span><span class="o">|</span><span class="n">null</span>
<span class="mf">3.</span>  <span class="n">Bierce</span><span class="o">|</span><span class="mi">925</span><span class="o">|</span><span class="n">Sun</span> <span class="n">Aug</span> <span class="mi">17</span> <span class="mi">23</span><span class="p">:</span><span class="mi">28</span><span class="p">:</span><span class="mi">33</span> <span class="n">EDT</span> <span class="mi">2014</span><span class="o">|</span><span class="n">POINT</span> <span class="p">(</span><span class="o">-</span><span class="mf">76.5621106573523</span> <span class="o">-</span><span class="mf">37.34321201566148</span><span class="p">)</span><span class="o">|</span><span class="n">null</span>
<span class="mf">4.</span>  <span class="n">Bierce</span><span class="o">|</span><span class="mi">589</span><span class="o">|</span><span class="n">Sat</span> <span class="n">Jul</span> <span class="mi">05</span> <span class="mi">02</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">15</span> <span class="n">EDT</span> <span class="mi">2014</span><span class="o">|</span><span class="n">POINT</span> <span class="p">(</span><span class="o">-</span><span class="mf">76.88146600670152</span> <span class="o">-</span><span class="mf">37.40156607152168</span><span class="p">)</span><span class="o">|</span><span class="n">null</span>
<span class="mf">5.</span>  <span class="n">Bierce</span><span class="o">|</span><span class="mi">394</span><span class="o">|</span><span class="n">Fri</span> <span class="n">Aug</span> <span class="mi">01</span> <span class="mi">19</span><span class="p">:</span><span class="mi">55</span><span class="p">:</span><span class="mi">05</span> <span class="n">EDT</span> <span class="mi">2014</span><span class="o">|</span><span class="n">POINT</span> <span class="p">(</span><span class="o">-</span><span class="mf">77.42555615743139</span> <span class="o">-</span><span class="mf">37.26710898726304</span><span class="p">)</span><span class="o">|</span><span class="n">null</span>
<span class="mf">6.</span>  <span class="n">Bierce</span><span class="o">|</span><span class="mi">931</span><span class="o">|</span><span class="n">Fri</span> <span class="n">Jul</span> <span class="mi">04</span> <span class="mi">18</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mi">38</span> <span class="n">EDT</span> <span class="mi">2014</span><span class="o">|</span><span class="n">POINT</span> <span class="p">(</span><span class="o">-</span><span class="mf">76.51304097832912</span> <span class="o">-</span><span class="mf">37.49406125975311</span><span class="p">)</span><span class="o">|</span><span class="n">null</span>
<span class="mf">7.</span>  <span class="n">Bierce</span><span class="o">|</span><span class="mi">322</span><span class="o">|</span><span class="n">Tue</span> <span class="n">Jul</span> <span class="mi">15</span> <span class="mi">17</span><span class="p">:</span><span class="mi">09</span><span class="p">:</span><span class="mi">42</span> <span class="n">EDT</span> <span class="mi">2014</span><span class="o">|</span><span class="n">POINT</span> <span class="p">(</span><span class="o">-</span><span class="mf">77.01760098223343</span> <span class="o">-</span><span class="mf">37.30933767159561</span><span class="p">)</span><span class="o">|</span><span class="n">null</span>
<span class="mf">8.</span>  <span class="n">Bierce</span><span class="o">|</span><span class="mi">343</span><span class="o">|</span><span class="n">Wed</span> <span class="n">Aug</span> <span class="mi">06</span> <span class="mi">04</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="mi">22</span> <span class="n">EDT</span> <span class="mi">2014</span><span class="o">|</span><span class="n">POINT</span> <span class="p">(</span><span class="o">-</span><span class="mf">76.66826220670282</span> <span class="o">-</span><span class="mf">37.44503877750368</span><span class="p">)</span><span class="o">|</span><span class="n">null</span>
<span class="mf">9.</span>  <span class="n">Bierce</span><span class="o">|</span><span class="mi">259</span><span class="o">|</span><span class="n">Thu</span> <span class="n">Aug</span> <span class="mi">28</span> <span class="mi">15</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="mi">30</span> <span class="n">EDT</span> <span class="mi">2014</span><span class="o">|</span><span class="n">POINT</span> <span class="p">(</span><span class="o">-</span><span class="mf">76.90122194030118</span> <span class="o">-</span><span class="mf">37.148525741002466</span><span class="p">)</span><span class="o">|</span><span class="n">null</span>
<span class="n">Submitting</span> <span class="n">secondary</span> <span class="n">index</span> <span class="n">query</span>
<span class="n">Feature</span> <span class="n">ID</span> <span class="n">Observation</span><span class="o">.</span><span class="mi">859</span> <span class="o">|</span> <span class="n">Who</span><span class="p">:</span> <span class="n">Bierce</span>
<span class="n">Feature</span> <span class="n">ID</span> <span class="n">Observation</span><span class="o">.</span><span class="mi">355</span> <span class="o">|</span> <span class="n">Who</span><span class="p">:</span> <span class="n">Bierce</span>
<span class="n">Feature</span> <span class="n">ID</span> <span class="n">Observation</span><span class="o">.</span><span class="mi">940</span> <span class="o">|</span> <span class="n">Who</span><span class="p">:</span> <span class="n">Bierce</span>
<span class="n">Feature</span> <span class="n">ID</span> <span class="n">Observation</span><span class="o">.</span><span class="mi">631</span> <span class="o">|</span> <span class="n">Who</span><span class="p">:</span> <span class="n">Bierce</span>
<span class="n">Feature</span> <span class="n">ID</span> <span class="n">Observation</span><span class="o">.</span><span class="mi">817</span> <span class="o">|</span> <span class="n">Who</span><span class="p">:</span> <span class="n">Bierce</span>
<span class="n">Submitting</span> <span class="n">secondary</span> <span class="n">index</span> <span class="n">query</span> <span class="k">with</span> <span class="n">sorting</span> <span class="p">(</span><span class="nb">sorted</span> <span class="n">by</span> <span class="s1">&#39;What&#39;</span> <span class="n">descending</span><span class="p">)</span>
<span class="n">Feature</span> <span class="n">ID</span> <span class="n">Observation</span><span class="o">.</span><span class="mi">999</span> <span class="o">|</span> <span class="n">Who</span><span class="p">:</span> <span class="n">Addams</span> <span class="o">|</span> <span class="n">What</span><span class="p">:</span> <span class="mi">999</span>
<span class="n">Feature</span> <span class="n">ID</span> <span class="n">Observation</span><span class="o">.</span><span class="mi">996</span> <span class="o">|</span> <span class="n">Who</span><span class="p">:</span> <span class="n">Addams</span> <span class="o">|</span> <span class="n">What</span><span class="p">:</span> <span class="mi">996</span>
<span class="n">Feature</span> <span class="n">ID</span> <span class="n">Observation</span><span class="o">.</span><span class="mi">993</span> <span class="o">|</span> <span class="n">Who</span><span class="p">:</span> <span class="n">Addams</span> <span class="o">|</span> <span class="n">What</span><span class="p">:</span> <span class="mi">993</span>
<span class="n">Feature</span> <span class="n">ID</span> <span class="n">Observation</span><span class="o">.</span><span class="mi">990</span> <span class="o">|</span> <span class="n">Who</span><span class="p">:</span> <span class="n">Addams</span> <span class="o">|</span> <span class="n">What</span><span class="p">:</span> <span class="mi">990</span>
<span class="n">Feature</span> <span class="n">ID</span> <span class="n">Observation</span><span class="o">.</span><span class="mi">987</span> <span class="o">|</span> <span class="n">Who</span><span class="p">:</span> <span class="n">Addams</span> <span class="o">|</span> <span class="n">What</span><span class="p">:</span> <span class="mi">987</span>
</pre></div>
</div>
<p>The quick start code may also be run via Maven using the <code class="docutils literal"><span class="pre">live-test</span></code>
profile:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ mvn -pl geomesa-quckstart-cassandra -Plive-test exec:exec -Dcontact_point<span class="o">=</span>&lt;host:port&gt; -Dkeyspace<span class="o">=</span>&lt;keyspace&gt; -Dcatalog_table<span class="o">=</span>&lt;catalog_table&gt; -Dusername<span class="o">=</span>&lt;username&gt; -Dpassword<span class="o">=</span>&lt;password&gt;
</pre></div>
</div>
<p>Similarly, the <code class="docutils literal"><span class="pre">username</span></code> and <code class="docutils literal"><span class="pre">password</span></code> are not required here and
if you are using a Cassandra standalone instance with the example
namespace setup in “<a class="reference external" href="http://www.geomesa.org/documentation/user/cassandra/install.html#connecting-to-cassandra">Connecting to
Cassandra</a>”
then you may simply run:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ mvn -pl geomesa-quckstart-cassandra -Plive-test exec:exec
</pre></div>
</div>
</div>
<div class="section" id="looking-at-the-code">
<h2>Looking at the Code<a class="headerlink" href="#looking-at-the-code" title="Permalink to this headline">¶</a></h2>
<p>The source code is meant to be accessible for this tutorial, but here is
a high-level breakdown of the methods in the <code class="docutils literal"><span class="pre">CassandraQuickStart</span></code>
class that are relevant:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">getCommonRequiredOptions</span></code> helper code to establish the
command-line parser for Cassandra options</li>
<li><code class="docutils literal"><span class="pre">getCassandraDataStoreConf</span></code> create a <code class="docutils literal"><span class="pre">HashMap</span></code> of Cassandra
parameters that will be used to fetch a <code class="docutils literal"><span class="pre">DataStore</span></code></li>
<li><code class="docutils literal"><span class="pre">createSimpleFeatureType</span></code> defines the custom <code class="docutils literal"><span class="pre">FeatureType</span></code> used
in the tutorial. There are five fields: Who, What, When, Where, and
Why.</li>
<li><code class="docutils literal"><span class="pre">createNewFeatures</span></code> creates a collection of new features, each of
which is initialized to some randomized set of values</li>
<li><code class="docutils literal"><span class="pre">insertFeatures</span></code> instructs the <code class="docutils literal"><span class="pre">DataStore</span></code> to write the
collection of new features to the GeoMesa-managed Cassandra table</li>
<li><code class="docutils literal"><span class="pre">createFilter</span></code> given a set of geometric bounds, temporal bounds,
and an optional attribute-only expression, construct a common query
language (CQL) filter that embodies these constraints. This filter
will be used to query data.</li>
<li><code class="docutils literal"><span class="pre">queryFeatures</span></code> query for records; for each, print out the five
field (attribute) values</li>
<li><code class="docutils literal"><span class="pre">secondaryIndexExample</span></code> additional examples that build other CQL
queries</li>
<li><code class="docutils literal"><span class="pre">main</span></code> this is the main entry point; it collects command-line
parameters, builds the <code class="docutils literal"><span class="pre">DataStore</span></code>, creates and inserts new
records, and then kicks off the queries</li>
</ul>
</div>
<div class="section" id="visualize-data-with-geoserver">
<h2>Visualize Data With GeoServer<a class="headerlink" href="#visualize-data-with-geoserver" title="Permalink to this headline">¶</a></h2>
<div class="section" id="register-the-geomesa-store-with-geoserver">
<h3>Register the GeoMesa store with GeoServer<a class="headerlink" href="#register-the-geomesa-store-with-geoserver" title="Permalink to this headline">¶</a></h3>
<p>Log into GeoServer using your user and password credentials. Click
“Stores” and “Add new Store”. If you do not see the Cassandra Feature
Data Store listed under Vector Data Sources, ensure the plugin is in the
right directory and restart GeoServer. For instructions on how to
install the GeoMesa plugin for GeoServer see <a class="reference internal" href="../user/cassandra/install.html#install-cassandra-geoserver"><span class="std std-ref">Installing GeoMesa Cassandra in GeoServer</span></a>.</p>
<p>Select the <code class="docutils literal"><span class="pre">Cassandra</span> <span class="pre">(GeoMesa)</span></code> vector data source, and enter the
following parameters:</p>
<p>Basic store info:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">workspace</span></code> this is dependent upon your GeoServer installation</li>
<li><code class="docutils literal"><span class="pre">data</span> <span class="pre">source</span> <span class="pre">name</span></code> pick a sensible name, such as,
<code class="docutils literal"><span class="pre">geomesa_quick_start</span></code></li>
<li><code class="docutils literal"><span class="pre">description</span></code> this is strictly decorative; <code class="docutils literal"><span class="pre">GeoMesa</span> <span class="pre">quick</span> <span class="pre">start</span></code></li>
</ul>
<p>Connection parameters:</p>
<ul class="simple">
<li>these are the same parameter values that you supplied on the
command-line when you ran the tutorial; they describe how to connect
to the Cassandra instance where your data reside.</li>
<li>the <code class="docutils literal"><span class="pre">geomesa.cassandra.username</span></code> and <code class="docutils literal"><span class="pre">geomesa.cassandra.password</span></code>
are required fields here. If you are using the Cassandra standalone,
use the default value of <code class="docutils literal"><span class="pre">cassandra</span></code> for both.</li>
</ul>
<p>Click “Save”, and GeoServer will search your Cassandra table for any
GeoMesa-managed feature types.</p>
</div>
<div class="section" id="publish-the-layer">
<h3>Publish the layer<a class="headerlink" href="#publish-the-layer" title="Permalink to this headline">¶</a></h3>
<p>GeoServer should recognize the <code class="docutils literal"><span class="pre">CassandraQuickStart</span></code> feature type, and
should present that as a layer that could be published. Click on the
“Publish” link.</p>
<p>You will be taken to the Edit Layer screen. Two of the tabs need to be
updated: Data and Dimensions.</p>
<p>In the Data pane, enter values for the bounding boxes. In this case, you
can click on the link to compute these values from the data.</p>
<p>In the Dimensions tab, check the “Enabled” checkbox under Time. Then
select “When” in the Attribute and End Attribute dropdowns, and
“Continuous Interval” in the Presentation dropdown.</p>
<p>Click on the “Save” button when you are done.</p>
</div>
<div class="section" id="take-a-look">
<h3>Take a look<a class="headerlink" href="#take-a-look" title="Permalink to this headline">¶</a></h3>
<p>Click on the “Layer Preview” link in the left-hand gutter. If you don’t
see the quick-start layer on the first page of results, enter the name
of the layer you just created into the search box, and press
<code class="docutils literal"><span class="pre">&lt;Enter&gt;</span></code>.</p>
<p>Once you see your layer, click on the “OpenLayers” link, which will open
a new tab. By default, the display that opens will not show all the
data, because we have enabled the time dimension for this layer, but the
preview does not specify a time. In the URL bar for the visualization,
add the following to the end:</p>
<p><code class="docutils literal"><span class="pre">&amp;TIME=2014-01-01T00:00:00.000Z/2014-01-31T23:59:59.999Z</span></code></p>
<p>That tells GeoServer to display the records for the entire month of
January 2014. You can find more information about the TIME parameter
from <a class="reference external" href="http://docs.geoserver.org/2.9.1/user/services/wms/time.html">GeoServer’s
documentation</a>.</p>
<p>Once you press <code class="docutils literal"><span class="pre">&lt;Enter&gt;</span></code>, the display will update, and you should see
a collection of red dots similar to the following image.</p>
<div class="figure" id="id1">
<img alt="Visualizing quickstart data" src="../_images/geoserver-layer-preview1.png" />
<p class="caption"><span class="caption-text">Visualizing quickstart data</span></p>
</div>
</div>
<div class="section" id="tweaking-the-display">
<h3>Tweaking the display<a class="headerlink" href="#tweaking-the-display" title="Permalink to this headline">¶</a></h3>
<p>Here are just a few simple ways you can play with the visualization:</p>
<ul class="simple">
<li>Click on one of the red points in the display, and GeoServer will
report the detail records underneath the map area.</li>
<li>Shift-click to highlight a region within the map that you would like
to zoom into.</li>
<li>Alter the <code class="docutils literal"><span class="pre">TIME=</span></code> parameter in the URL to a different date range,
and you can filter to see only the records that satisfy the temporal
constraint.</li>
<li>Click on the “Toggle options toolbar” icon in the upper-left corner
of the preview window. The right-hand side of the screen will include
a “Filter” text box. Enter <code class="docutils literal"><span class="pre">Who</span> <span class="pre">=</span> <span class="pre">'Bierce'</span></code>, and press on the
“play” icon. The display will now show only those points matching
your filter criterion. This is a CQL filter, which can be constructed
in various ways to query our data. You can find more information
about CQL from <a class="reference external" href="http://docs.geoserver.org/2.9.1/user/tutorials/cql/cql_tutorial.html">GeoServer’s CQL
tutorial</a>.</li>
</ul>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="geomesa-quickstart-kafka.html" class="btn btn-neutral float-right" title="GeoMesa Kafka Quick Start" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="geomesa-quickstart-hbase.html" class="btn btn-neutral" title="GeoMesa HBase Quick Start" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>

<div role="contentinfo">
  <p>
    &copy; Copyright 2013-2017 <a href="https://www.ccri.com/">Commonwealth Computer Research, Inc.</a>
    <br/>
    Licensed under the <a href="http://www.opensource.org/licenses/apache2.0.php">Apache License, Version 2.0</a>
  </p>
</div>

Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>



</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.3.5',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>