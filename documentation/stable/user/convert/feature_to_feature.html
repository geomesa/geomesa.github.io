<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>9.16. Feature-To-Feature Converter &mdash; GeoMesa 5.3.0 Manuals</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme_custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="canonical" href="https://www.geomesa.org/documentation/user/convert/feature_to_feature.html"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script src="../../_static/tabs.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="9.17. Prepackaged Converter Definitions" href="premade/index.html" />
    <link rel="prev" title="9.15. Composite Converters" href="composite.html" />


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> GeoMesa
          </a>
              <div class="version">
                5.3.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html">2. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../download.html">3. Versions and Downloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html">4. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html">5. Architecture Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geotools.html">6. GeoTools Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datastores/index.html">7. GeoMesa Data Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/index.html">8. Command-Line Tools</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">9. GeoMesa Converters</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="common.html">9.1. Converter Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="parsing_and_validation.html">9.2. Parsing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="cache.html">9.3. Using Caches for Enrichment</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage_tools.html">9.4. Using Converters with the Command-Line Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage_code.html">9.5. Using Converters Programmatically</a></li>
<li class="toctree-l3"><a class="reference internal" href="delimited_text.html">9.6. Delimited Text Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="json.html">9.7. JSON Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="xml.html">9.8. XML Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="avro.html">9.9. Avro Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="avro_schema_registry.html">9.10. Avro Schema Registry Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="parquet.html">9.11. Parquet Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="shp.html">9.12. Shapefile Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="fixed_width.html">9.13. Fixed-Width Text Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="jdbc.html">9.14. JDBC Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="composite.html">9.15. Composite Converters</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">9.16. Feature-To-Feature Converter</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#configuration">9.16.1. Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-usage">9.16.2. Example Usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="premade/index.html">9.17. Prepackaged Converter Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="function_overview.html">9.18. Transformation Function Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="function_usage.html">9.19. Transformation Function Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="extending.html">9.20. Extending the Converter Library</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../geoserver.html">10. GeoServer Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spark/index.html">11. GeoMesa Spark</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nifi/index.html">12. GeoMesa NiFi Bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../process.html">13. GeoMesa Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../accumulo/index.html">14. Accumulo Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hbase/index.html">15. HBase Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cassandra/index.html">16. Cassandra Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../postgis/index.html">17. Partitioned PostGIS Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kafka/index.html">18. Kafka Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../redis/index.html">19. Redis Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../filesystem/index.html">20. FileSystem Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lambda/index.html">21. Lambda Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ds_views.html">22. Combined Data Store Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade.html">23. Upgrade Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#appendix">Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GeoMesa</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">User Manual</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">9. </span>GeoMesa Converters</a></li>
      <li class="breadcrumb-item active"><span class="section-number">9.16. </span>Feature-To-Feature Converter</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="feature-to-feature-converter">
<h1><span class="section-number">9.16. </span>Feature-To-Feature Converter<a class="headerlink" href="#feature-to-feature-converter" title="Permalink to this headline">¶</a></h1>
<p>The feature-to-feature converter can be used to transform <code class="docutils literal notranslate"><span class="pre">SimpleFeature</span></code>s from one <code class="docutils literal notranslate"><span class="pre">SimpleFeatureType</span></code> to another.
Unlike other GeoMesa converters, the feature-to-feature converter must be invoked programmatically, as there is no
native decoding of features from an input stream.</p>
<section id="configuration">
<h2><span class="section-number">9.16.1. </span>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>The feature-to-feature converter expects a <code class="docutils literal notranslate"><span class="pre">type</span></code> of <code class="docutils literal notranslate"><span class="pre">simple-feature</span></code>. It also requires the input feature type to be
defined with <code class="docutils literal notranslate"><span class="pre">input-sft</span></code>, which must reference the name of a feature type available on the classpath - see
<a class="reference internal" href="common.html#converter-sft-defs"><span class="std std-ref">Defining SimpleFeatureTypes</span></a> for details on making the feature type available.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">fields</span></code> of the converter can reference the attributes of the input feature type by name, using <code class="docutils literal notranslate"><span class="pre">$</span></code> notation. Note
that the input feature type will take precedence over any converter fields when resolving attribute references. Any
fields that have the same name as the input type will be automatically copied, unless they are explicitly redefined in the
converter definition. The feature ID will also be copied, unless it is redefined with <code class="docutils literal notranslate"><span class="pre">id-field</span></code>.</p>
</section>
<section id="example-usage">
<h2><span class="section-number">9.16.2. </span>Example Usage<a class="headerlink" href="#example-usage" title="Permalink to this headline">¶</a></h2>
<p>Given an input feature type defined as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">geomesa</span><span class="o">.</span><span class="n">sfts</span><span class="o">.</span><span class="n">intype</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nb">type</span><span class="o">-</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;intype&quot;</span>
  <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;number&quot;</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;Integer&quot;</span> <span class="p">}</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;color&quot;</span><span class="p">,</span>  <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;String&quot;</span>  <span class="p">}</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;weight&quot;</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;Double&quot;</span>  <span class="p">}</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;geom&quot;</span><span class="p">,</span>   <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;Point&quot;</span>   <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>And an output feature type defined as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">geomesa</span><span class="o">.</span><span class="n">sfts</span><span class="o">.</span><span class="n">outtype</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nb">type</span><span class="o">-</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;outtype&quot;</span>
  <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;number&quot;</span><span class="p">,</span>   <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;Integer&quot;</span> <span class="p">}</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;color&quot;</span><span class="p">,</span>    <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;String&quot;</span>  <span class="p">}</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;weight&quot;</span><span class="p">,</span>   <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;Double&quot;</span>  <span class="p">}</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;numberx2&quot;</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;Integer&quot;</span> <span class="p">}</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;geom&quot;</span><span class="p">,</span>     <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;Point&quot;</span>   <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The following example will copy the attributes of the input features, while adding a new attribute (<code class="docutils literal notranslate"><span class="pre">numberx2</span></code>) derived
from one of the input fields:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">geomesa</span><span class="o">.</span><span class="n">converters</span><span class="o">.</span><span class="n">myconverter</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;simple-feature&quot;</span>
  <span class="nb">input</span><span class="o">-</span><span class="n">sft</span> <span class="o">=</span> <span class="s2">&quot;intype&quot;</span>
  <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span>
    <span class="o">//</span> <span class="n">note</span><span class="p">:</span> <span class="n">number</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">weight</span><span class="p">,</span> <span class="ow">and</span> <span class="n">geom</span> <span class="n">will</span> <span class="n">be</span> <span class="n">auto</span><span class="o">-</span><span class="n">copied</span> <span class="n">since</span> <span class="n">they</span> <span class="n">exist</span> <span class="ow">in</span> <span class="n">both</span> <span class="nb">input</span> <span class="ow">and</span> <span class="n">output</span> <span class="n">types</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;numberx2&quot;</span><span class="p">,</span> <span class="n">transform</span> <span class="o">=</span> <span class="s2">&quot;add($number, $number)::int&quot;</span> <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-U2NhbGE=" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-0-U2NhbGE=" name="U2NhbGE=" role="tab" tabindex="0">Scala</button><button aria-controls="panel-0-SmF2YQ==" aria-selected="false" class="sphinx-tabs-tab code-tab group-tab" id="tab-0-SmF2YQ==" name="SmF2YQ==" role="tab" tabindex="-1">Java</button></div><div aria-labelledby="tab-0-U2NhbGE=" class="sphinx-tabs-panel code-tab group-tab" id="panel-0-U2NhbGE=" name="U2NhbGE=" role="tabpanel" tabindex="0"><div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nn">org</span><span class="p">.</span><span class="nn">geotools</span><span class="p">.</span><span class="nn">api</span><span class="p">.</span><span class="nn">feature</span><span class="p">.</span><span class="nn">simple</span><span class="p">.</span><span class="nc">SimpleFeature</span>
<span class="k">import</span><span class="w"> </span><span class="nn">org</span><span class="p">.</span><span class="nn">locationtech</span><span class="p">.</span><span class="nn">geomesa</span><span class="p">.</span><span class="nn">convert</span><span class="p">.</span><span class="nc">ConverterConfigLoader</span>
<span class="k">import</span><span class="w"> </span><span class="nn">org</span><span class="p">.</span><span class="nn">locationtech</span><span class="p">.</span><span class="nn">geomesa</span><span class="p">.</span><span class="nn">convert2</span><span class="p">.</span><span class="nn">simplefeature</span><span class="p">.</span><span class="nc">FeatureToFeatureConverter</span>
<span class="k">import</span><span class="w"> </span><span class="nn">org</span><span class="p">.</span><span class="nn">locationtech</span><span class="p">.</span><span class="nn">geomesa</span><span class="p">.</span><span class="nn">utils</span><span class="p">.</span><span class="nn">collection</span><span class="p">.</span><span class="nc">CloseableIterator</span>
<span class="k">import</span><span class="w"> </span><span class="nn">org</span><span class="p">.</span><span class="nn">locationtech</span><span class="p">.</span><span class="nn">geomesa</span><span class="p">.</span><span class="nn">utils</span><span class="p">.</span><span class="nn">geotools</span><span class="p">.</span><span class="nc">SimpleFeatureTypeLoader</span>

<span class="kd">val</span><span class="w"> </span><span class="n">sft</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">SimpleFeatureTypeLoader</span><span class="p">.</span><span class="n">sftForName</span><span class="p">(</span><span class="s">&quot;outtype&quot;</span><span class="p">).</span><span class="n">getOrElse</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">RuntimeException</span><span class="p">(</span><span class="s">&quot;Could not load feature type&quot;</span><span class="p">)</span>
<span class="p">}</span>
<span class="kd">val</span><span class="w"> </span><span class="n">conf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ConverterConfigLoader</span><span class="p">.</span><span class="n">configForName</span><span class="p">(</span><span class="s">&quot;myconverter&quot;</span><span class="p">).</span><span class="n">getOrElse</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">RuntimeException</span><span class="p">(</span><span class="s">&quot;Could not load converter definition&quot;</span><span class="p">)</span>
<span class="p">}</span>
<span class="kd">val</span><span class="w"> </span><span class="n">converter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">FeatureToFeatureConverter</span><span class="p">(</span><span class="n">sft</span><span class="p">,</span><span class="w"> </span><span class="n">conf</span><span class="p">)</span>
<span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">features</span><span class="p">:</span><span class="w"> </span><span class="nc">Iterator</span><span class="p">[</span><span class="nc">SimpleFeature</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">???</span><span class="w"> </span><span class="c1">// list of input features to transform</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">iter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">converter</span><span class="p">.</span><span class="n">convert</span><span class="p">(</span><span class="nc">CloseableIterator</span><span class="p">(</span><span class="n">features</span><span class="p">))</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">iter</span><span class="p">.</span><span class="n">foreach</span><span class="p">(</span><span class="o">???</span><span class="p">)</span><span class="w"> </span><span class="c1">// do something with the conversion result</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">iter</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">converter</span><span class="p">.</span><span class="n">close</span><span class="p">()</span><span class="w"> </span><span class="c1">// clean up any resources associated with your converter</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-SmF2YQ==" class="sphinx-tabs-panel code-tab group-tab" hidden="true" id="panel-0-SmF2YQ==" name="SmF2YQ==" role="tabpanel" tabindex="0"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.typesafe.config.Config</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.geotools.api.feature.simple.SimpleFeature</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.geotools.api.feature.simple.SimpleFeatureType</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.locationtech.geomesa.convert.ConverterConfigLoader</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.locationtech.geomesa.convert.EvaluationContext</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.locationtech.geomesa.convert2.simplefeature.FeatureToFeatureConverter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.locationtech.geomesa.utils.collection.CloseableIterator</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.locationtech.geomesa.utils.geotools.SimpleFeatureTypeLoader</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>

<span class="n">SimpleFeatureType</span><span class="w"> </span><span class="n">outsft</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SimpleFeatureTypeLoader</span><span class="p">.</span><span class="na">sftForName</span><span class="p">(</span><span class="s">&quot;outtype&quot;</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>
<span class="n">Config</span><span class="w"> </span><span class="n">parserConf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ConverterConfigLoader</span><span class="p">.</span><span class="na">configForName</span><span class="p">(</span><span class="s">&quot;myconverter&quot;</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>

<span class="n">List</span><span class="o">&lt;</span><span class="n">SimpleFeature</span><span class="o">&gt;</span><span class="w"> </span><span class="n">features</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">...;</span><span class="w"> </span><span class="c1">// list of input features to transform</span>

<span class="c1">// use try-with-resources to clean up the converter when we&#39;re done</span>
<span class="k">try</span><span class="w"> </span><span class="p">(</span><span class="n">FeatureToFeatureConverter</span><span class="w"> </span><span class="n">converter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FeatureToFeatureConverter</span><span class="p">.</span><span class="na">apply</span><span class="p">(</span><span class="n">outsft</span><span class="p">,</span><span class="w"> </span><span class="n">parserConf</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">EvaluationContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">converter</span><span class="p">.</span><span class="na">createEvaluationContext</span><span class="p">(</span><span class="n">Map</span><span class="p">.</span><span class="na">of</span><span class="p">());</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">(</span><span class="n">CloseableIterator</span><span class="o">&lt;</span><span class="n">SimpleFeature</span><span class="o">&gt;</span><span class="w"> </span><span class="n">iter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">converter</span><span class="p">.</span><span class="na">convert</span><span class="p">(</span><span class="n">CloseableIterator</span><span class="p">.</span><span class="na">apply</span><span class="p">(</span><span class="n">features</span><span class="p">.</span><span class="na">iterator</span><span class="p">()),</span><span class="w"> </span><span class="n">ec</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">iter</span><span class="p">.</span><span class="na">hasNext</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">iter</span><span class="p">.</span><span class="na">next</span><span class="p">();</span><span class="w"> </span><span class="c1">// do something with the conversion result</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="composite.html" class="btn btn-neutral float-left" title="9.15. Composite Converters" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="premade/index.html" class="btn btn-neutral float-right" title="9.17. Prepackaged Converter Definitions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  

<div role="contentinfo">
  <p>
    &copy; Copyright 2013-2025 <a href="https://www.ga-ccri.com/">General Atomics</a>
    <br/>
    Licensed under the <a href="https://www.opensource.org/licenses/apache2.0.php">Apache License, Version 2.0</a>
  </p>
</div>

<div role="contentinfo">
  <p>
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
    using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>
    - contribute to this page on
    <a href="https://github.com/locationtech/geomesa/edit/main/docs/user/convert/feature_to_feature.rst">GitHub <img src="../../_static/launch.svg"/></a>
  </p>

</div>



</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>