

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>11.5. Accumulo Command-Line Tools &mdash; GeoMesa 2.2.2 Manuals</title>
  

  
  
  
  
    <link rel="canonical" href="https://www.geomesa.org/documentation/user/accumulo/commandline.html"/>
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme_custom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="11.6. Command Line Examples" href="examples.html" />
    <link rel="prev" title="11.4. Using the Accumulo Data Store in GeoServer" href="geoserver.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> GeoMesa
          

          
          </a>

          
            
            
              <div class="version">
                2.2.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../download.html">2. Versions and Downloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html">3. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html">4. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html">5. Architecture Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datastores/index.html">6. GeoMesa Data Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/index.html">7. Command-Line Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geoserver.html">8. GeoServer Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spark/index.html">9. GeoMesa Spark</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hbase/index.html">10. HBase Data Store</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">11. Accumulo Data Store</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="install.html">11.1. Installing GeoMesa Accumulo</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html">11.2. Accumulo Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage.html">11.3. Using the Accumulo Data Store Programmatically</a></li>
<li class="toctree-l3"><a class="reference internal" href="geoserver.html">11.4. Using the Accumulo Data Store in GeoServer</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">11.5. Accumulo Command-Line Tools</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#general-arguments">11.5.1. General Arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="#commands">11.5.2. Commands</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="examples.html">11.6. Command Line Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="visibilities.html">11.7. Accumulo Visibilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_management.html">11.8. Data Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="jobs.html">11.9. GeoMesa Jobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="raster.html">11.10. GeoMesa Raster</a></li>
<li class="toctree-l3"><a class="reference internal" href="internals.html">11.11. Internals</a></li>
<li class="toctree-l3"><a class="reference internal" href="kerberos.html">11.12. Kerberos</a></li>
<li class="toctree-l3"><a class="reference internal" href="ageoff.html">11.13. Age-Off Iterators</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bigtable/index.html">12. Bigtable Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cassandra/index.html">13. Cassandra Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kafka/index.html">14. Kafka Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../filesystem/index.html">15. FileSystem Data Store (HDFS, S3)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kudu/index.html">16. Kudu Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lambda/index.html">17. Lambda Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../merged_view.html">18. Merged Data Store View</a></li>
<li class="toctree-l2"><a class="reference internal" href="../convert/index.html">19. GeoMesa Convert</a></li>
<li class="toctree-l2"><a class="reference internal" href="../process.html">20. GeoMesa Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geojson.html">21. GeoMesa GeoJSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nifi.html">22. GeoMesa NiFi Bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blobstore.html">23. GeoMesa Blob Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../native_api.html">24. GeoMesa Native API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stream.html">25. GeoMesa Stream Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade.html">26. Upgrade Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#appendix">Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">Developer Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GeoMesa</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">User Manual</a> &raquo;</li>
        
          <li><a href="index.html">11. Accumulo Data Store</a> &raquo;</li>
        
      <li>11.5. Accumulo Command-Line Tools</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="accumulo-command-line-tools">
<span id="accumulo-tools"></span><h1>11.5. Accumulo Command-Line Tools<a class="headerlink" href="#accumulo-command-line-tools" title="Permalink to this headline">¶</a></h1>
<p>The GeoMesa Accumulo distribution includes a set of command-line tools for feature
management, ingest, export and debugging.</p>
<p>To install the tools, see <a class="reference internal" href="install.html#setting-up-accumulo-commandline"><span class="std std-ref">Setting up the Accumulo Command Line Tools</span></a>.</p>
<p>Once installed, the tools should be available through the command <code class="docutils literal notranslate"><span class="pre">geomesa-accumulo</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ geomesa-accumulo
INFO  Usage: geomesa-accumulo [command] [command options]
  Commands:
    ...
</pre></div>
</div>
<p>Commands that are common to multiple back ends are described in <a class="reference internal" href="../cli/index.html"><span class="doc">Command-Line Tools</span></a>. The commands
here are Accumulo-specific.</p>
<div class="section" id="general-arguments">
<h2>11.5.1. General Arguments<a class="headerlink" href="#general-arguments" title="Permalink to this headline">¶</a></h2>
<p>Most commands require you to specify the connection to Accumulo. This generally includes a username and
password (or Kerberos keytab file). Specify the username and password with <code class="docutils literal notranslate"><span class="pre">--user</span></code> and <code class="docutils literal notranslate"><span class="pre">--password</span></code>
(or <code class="docutils literal notranslate"><span class="pre">-u</span></code> and <code class="docutils literal notranslate"><span class="pre">-p</span></code>). In order to avoid plaintext passwords in the bash history and process list,
the password argument may be omitted, in which case it will be prompted for instead.</p>
<p>To use Kerberos authentication instead of a password, use <code class="docutils literal notranslate"><span class="pre">--keytab</span></code> with a path to a Kerberos keytab
file containing an entry for the specified user. Since a keytab file allows authentication without any
further constraints, it should be protected appropriately.</p>
<p>If the necessary environment variables are set (generally as part of the install process), the tools should
connect automatically to the Accumulo instance. To specify the connection instead, use <code class="docutils literal notranslate"><span class="pre">--instance-name</span></code>
and <code class="docutils literal notranslate"><span class="pre">--zookeepers</span></code> (or <code class="docutils literal notranslate"><span class="pre">-i</span></code> and <code class="docutils literal notranslate"><span class="pre">-z</span></code>).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--auths</span></code> and <code class="docutils literal notranslate"><span class="pre">--visibilities</span></code> arguments correspond to the <code class="docutils literal notranslate"><span class="pre">AccumuloDataStore</span></code> parameters
<code class="docutils literal notranslate"><span class="pre">geomesa.security.auths</span></code> and <code class="docutils literal notranslate"><span class="pre">geomesa.security.visibilities</span></code>, respectively. See <a class="reference internal" href="../datastores/authorizations.html#authorizations"><span class="std std-ref">Authorizations</span></a>
and <a class="reference internal" href="visibilities.html#accumulo-visibilities"><span class="std std-ref">Accumulo Visibilities</span></a> for more information.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--mock</span></code> argument can be used to run against a mock Accumulo instance, for testing. In particular,
this can be useful for verifying ingest converters.</p>
</div>
<div class="section" id="commands">
<h2>11.5.2. Commands<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h2>
<div class="section" id="add-index">
<span id="add-index-command"></span><h3>11.5.2.1. <code class="docutils literal notranslate"><span class="pre">add-index</span></code><a class="headerlink" href="#add-index" title="Permalink to this headline">¶</a></h3>
<p>Add or update indices for an existing feature type. This can be used to upgrade-in-place, converting an older
index format into the latest. See <a class="reference internal" href="data_management.html#index-upgrades"><span class="std std-ref">Upgrading Existing Indices</span></a> for more information.</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-c,</span> <span class="pre">--catalog</span> <span class="pre">*</span></code></td>
<td>The catalog table containing schema metadata</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-f,</span> <span class="pre">--feature-name</span> <span class="pre">*</span></code></td>
<td>The name of the schema</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--index</span> <span class="pre">*</span></code></td>
<td>The name of the index to add (z2, z3, etc)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-q,</span> <span class="pre">--cql</span></code></td>
<td>A filter to apply for back-filling data</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--no-back-fill</span></code></td>
<td>Skip back-filling data</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">--index</span></code> argument specifies the index to add. It must be the name of one of the known index types, e.g. <code class="docutils literal notranslate"><span class="pre">z3</span></code>
or <code class="docutils literal notranslate"><span class="pre">xz3</span></code>. See <a class="reference internal" href="../datastores/index_overview.html#index-overview"><span class="std std-ref">Index Overview</span></a> for available indices.</p>
<p>By default, the command will launch a map/reduce job to populate the new index with any existing features in the
schema. For large data sets, this may not be desired. The <code class="docutils literal notranslate"><span class="pre">--no-back-fill</span></code> argument can be used to disable index
population entirely, or <code class="docutils literal notranslate"><span class="pre">--cql</span></code> can be used to populate the index with a subset of the existing features.</p>
<p>When running this command, ensure that the appropriate authorizations and visibilities are set. Otherwise data
might not be back-filled correctly.</p>
</div>
<div class="section" id="add-attribute-index">
<h3>11.5.2.2. <code class="docutils literal notranslate"><span class="pre">add-attribute-index</span></code><a class="headerlink" href="#add-attribute-index" title="Permalink to this headline">¶</a></h3>
<p>Add an index on an attribute. Attributes can be indexed individually during schema creation; this command can
add a new index in an existing schema. See <a class="reference internal" href="../datastores/index_basics.html#attribute-indices"><span class="std std-ref">Attribute Index</span></a> for more information on indices.</p>
<p>This command is a convenience wrapper for launching the map/reduce job described in <a class="reference internal" href="jobs.html#attribute-indexing-job"><span class="std std-ref">Attribute Indexing</span></a>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-c,</span> <span class="pre">--catalog</span> <span class="pre">*</span></code></td>
<td>The catalog table containing schema metadata</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-f,</span> <span class="pre">--feature-name</span> <span class="pre">*</span></code></td>
<td>The name of the schema</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-a,</span> <span class="pre">--attributes</span> <span class="pre">*</span></code></td>
<td>Attribute(s) to index, comma-separated</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--coverage</span> <span class="pre">*</span></code></td>
<td>Type of index, either <code class="docutils literal notranslate"><span class="pre">join</span></code> or <code class="docutils literal notranslate"><span class="pre">full</span></code></td>
</tr>
</tbody>
</table>
<p>For a description of index coverage, see <a class="reference internal" href="data_management.html#accumulo-attribute-indices"><span class="std std-ref">Accumulo Attribute Indices</span></a>.</p>
</div>
<div class="section" id="compact">
<span id="compact-command"></span><h3>11.5.2.3. <code class="docutils literal notranslate"><span class="pre">compact</span></code><a class="headerlink" href="#compact" title="Permalink to this headline">¶</a></h3>
<p>Incrementally compact tables for a given feature type.
<a class="reference external" href="https://accumulo.apache.org/1.9/accumulo_user_manual.html#_compaction">Compactions</a> in Accumulo will merge
multiple data files into a single file, which has the side effect of permanently deleting rows which have been
marked for deletion. Compactions can be triggered through the Accumulo shell; however queuing up too many
compactions at once can impact the performance of a cluster. This command will handle compacting all the tables
for a given feature type, and throttle the compactions so that only a few are running at one time.</p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-c,</span> <span class="pre">--catalog</span> <span class="pre">*</span></code></td>
<td>The catalog table containing schema metadata</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-f,</span> <span class="pre">--feature-name</span> <span class="pre">*</span></code></td>
<td>The name of the schema</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--threads</span></code></td>
<td>Number of ranges to compact simultaneously, by default 4</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--from</span></code></td>
<td>How long ago to compact data, based on the default date attribute, relative to current time.
E.g. ‘1 day’, ‘2 weeks and 1 hour’, etc</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--duration</span></code></td>
<td>Amount of time to compact data, based on the default date attribute, relative to <code class="docutils literal notranslate"><span class="pre">--from</span></code>.
E.g. ‘1 day’, ‘2 weeks and 1 hour’, etc</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--z3-feature-ids</span></code></td>
<td>Indicates that feature IDs were written using the Z3FeatureIdGenerator. This allows
optimization of compactions on the ID table, based on the configured <code class="docutils literal notranslate"><span class="pre">time</span></code>. See
<a class="reference internal" href="../datastores/runtime_config.html#id-generator-config"><span class="std std-ref">geomesa.feature.id-generator</span></a> for more information</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">--from</span></code> and <code class="docutils literal notranslate"><span class="pre">--duration</span></code> parameters can be used to reduce the number of files that need to be compacted,
based on the default date attribute for the schema. Due to table keys, this is mainly useful for the Z3 index,
and the ID index when used with <code class="docutils literal notranslate"><span class="pre">--z3-feature-ids</span></code>. Other indices will typically be compacted in full, as they
are not partitioned by date.</p>
<p>This command is particularly useful when using <a class="reference internal" href="ageoff.html#ageoff-accumulo"><span class="std std-ref">Age-Off Iterators</span></a>, to ensure that expired rows are physically
deleted from disk. In this scenario, the <code class="docutils literal notranslate"><span class="pre">--from</span></code> parameter should be set to the age-off period, and the
<code class="docutils literal notranslate"><span class="pre">--duration</span></code> parameter should be set based on how often compactions are run. The intent is to only compact
the data that may have aged-off since the last compaction. Note that the time periods align with attribute-based
age-off; ingest time age-off may need a time buffer, assuming some relationship between ingest time and the default
date attribute.</p>
<p>This command can also be used to speed up queries by removing entries that are duplicated or marked for deletion.
This may be useful for a static data set, which will not be automatically compacted by Accumulo once the size
stops growing. In this scenario, the <code class="docutils literal notranslate"><span class="pre">--from</span></code> and <code class="docutils literal notranslate"><span class="pre">--duration</span></code> parameters can be omitted, so that the
entire data set is compacted.</p>
</div>
<div class="section" id="configure-age-off">
<h3>11.5.2.4. <code class="docutils literal notranslate"><span class="pre">configure-age-off</span></code><a class="headerlink" href="#configure-age-off" title="Permalink to this headline">¶</a></h3>
<p>List, add or remove age-off on a given feature type. See <a class="reference internal" href="ageoff.html#ageoff-accumulo"><span class="std std-ref">Age-Off Iterators</span></a> for more information.</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-c,</span> <span class="pre">--catalog</span> <span class="pre">*</span></code></td>
<td>The catalog table containing schema metadata</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-f,</span> <span class="pre">--feature-name</span> <span class="pre">*</span></code></td>
<td>The name of the schema</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-l,</span> <span class="pre">--list</span></code></td>
<td>List any age-off configured for the schema</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-r,</span> <span class="pre">--remove</span></code></td>
<td>Remove age-off for the schema</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-s,</span> <span class="pre">--set</span></code></td>
<td>Set age-off for the schema (requires <code class="docutils literal notranslate"><span class="pre">--expiry</span></code>)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-e,</span> <span class="pre">--expiry</span></code></td>
<td>Duration before entries are aged-off(‘1 day’, ‘2 weeks and 1 hour’, etc)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--dtg</span></code></td>
<td>Use attribute-based age-off on the specified date field</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">--list</span></code> argument will display any configured age-off.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--remove</span></code> argument will remove any configured age-off.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--set</span></code> argument will configure age-off. When using <code class="docutils literal notranslate"><span class="pre">--set</span></code>, <code class="docutils literal notranslate"><span class="pre">--expiry</span></code> must also be provided.
<code class="docutils literal notranslate"><span class="pre">--expiry</span></code> can be any time duration string, specified in natural language. If <code class="docutils literal notranslate"><span class="pre">--dtg</span></code> is provided,
age-off will be based on the specified date-type attribute. Otherwise, age-off will be based on ingest
time.</p>
</div>
<div class="section" id="configure-stats">
<h3>11.5.2.5. <code class="docutils literal notranslate"><span class="pre">configure-stats</span></code><a class="headerlink" href="#configure-stats" title="Permalink to this headline">¶</a></h3>
<p>List, add or remove stat iterator configuration on a given catalog table. GeoMesa automatically configures an
iterator on the summary statistics table (<code class="docutils literal notranslate"><span class="pre">_stats</span></code>). Generally this does not need to be modified, however
if the Accumulo classpath is mis-configured, or data gets corrupted, it may be impossible to delete the
table without first removing the iterator configuration.</p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-c,</span> <span class="pre">--catalog</span> <span class="pre">*</span></code></td>
<td>The catalog table containing schema metadata</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-l,</span> <span class="pre">--list</span></code></td>
<td>List any stats iterator configured for the catalog table</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-r,</span> <span class="pre">--remove</span></code></td>
<td>Remove the stats iterator configuration for the catalog table</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-a,</span> <span class="pre">--add</span></code></td>
<td>Add the stats iterator configuration for the catalog table</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">--list</span></code> argument will display any configured stats iterator.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--remove</span></code> argument will remove any configured stats iterator.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--add</span></code> argument will add the stats iterator.</p>
</div>
<div class="section" id="configure-table">
<h3>11.5.2.6. <code class="docutils literal notranslate"><span class="pre">configure-table</span></code><a class="headerlink" href="#configure-table" title="Permalink to this headline">¶</a></h3>
<p>The command will list and update properties on the Accumulo tables used by GeoMesa. It has two
sub-commands:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">list</span></code> List the configuration options for a table</li>
<li><code class="docutils literal notranslate"><span class="pre">update</span></code> Update a given configuration option for a table</li>
</ul>
<p>To invoke the command, use the command name followed by the subcommand, then any arguments. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ geomesa-accumulo configure-table list --catalog ...
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-c,</span> <span class="pre">--catalog</span> <span class="pre">*</span></code></td>
<td>The catalog table containing schema metadata</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-f,</span> <span class="pre">--feature-name</span> <span class="pre">*</span></code></td>
<td>The name of the schema</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--index</span> <span class="pre">*</span></code></td>
<td>The index table to examine/update (z2, z3, etc)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-k,</span> <span class="pre">--key</span></code></td>
<td>Property name to operate on (required for update sub-command)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-v,</span> <span class="pre">--value</span> <span class="pre">*</span></code></td>
<td>Property value to set (only for update sub-command)</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">--index</span></code> argument specifies the index to examine. It must be the name of one of the known index types,
e.g. <code class="docutils literal notranslate"><span class="pre">z3</span></code> or <code class="docutils literal notranslate"><span class="pre">xz3</span></code>. See <a class="reference internal" href="../datastores/index_overview.html#index-overview"><span class="std std-ref">Index Overview</span></a> for available indices. Note that not all
schemas will have all index types.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--key</span></code> argument can be used during both list and update. For list, it will filter the properties to
only show the one requested. For update, it is required as the property to update.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--value</span></code> argument is only used during update.</p>
</div>
<div class="section" id="stats-analyze">
<span id="accumulo-tools-stats-analyze"></span><h3>11.5.2.7. <code class="docutils literal notranslate"><span class="pre">stats-analyze</span></code><a class="headerlink" href="#stats-analyze" title="Permalink to this headline">¶</a></h3>
<p>This command will re-generate the cached data statistics maintained by GeoMesa. This may be desirable for
several reasons:</p>
<ul class="simple">
<li>Stats are compiled incrementally during ingestion, which can sometimes lead to reduced accuracy</li>
<li>Most stats are not updated when features are deleted, as they do not maintain enough information to handle deletes</li>
<li>Errors or data corruption can lead to stats becoming unreadable</li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-c,</span> <span class="pre">--catalog</span> <span class="pre">*</span></code></td>
<td>The catalog table containing schema metadata</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-f,</span> <span class="pre">--feature-name</span> <span class="pre">*</span></code></td>
<td>The name of the schema</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="ingest-raster">
<span id="accumulo-tools-raster"></span><h3>11.5.2.8. <code class="docutils literal notranslate"><span class="pre">ingest-raster</span></code><a class="headerlink" href="#ingest-raster" title="Permalink to this headline">¶</a></h3>
<p>Ingest one or more raster image files into Geomesa. Input files, GeoTIFF or DTED, should be located
on the local file system.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In order to ingest rasters, ensure that you install JAI and JLine as described under
<a class="reference internal" href="install.html#setting-up-accumulo-commandline"><span class="std std-ref">Setting up the Accumulo Command Line Tools</span></a>.</p>
</div>
<p>Input raster files are assumed to have CRS of <code class="docutils literal notranslate"><span class="pre">EPSG:4326</span></code>. Non-<code class="docutils literal notranslate"><span class="pre">EPSG:4326</span></code> files will need to be
converted into <code class="docutils literal notranslate"><span class="pre">EPSG:4326</span></code> raster files before ingestion. An example of doing conversion with GDAL is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdalwarp</span> <span class="o">-</span><span class="n">t_srs</span> <span class="n">EPSG</span><span class="p">:</span><span class="mi">4326</span> <span class="n">input_file</span> <span class="n">out_file</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-t,</span> <span class="pre">--raster-table</span> <span class="pre">*</span></code></td>
<td>Accumulo table for storing raster data</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-f,</span> <span class="pre">--file</span> <span class="pre">*</span></code></td>
<td>A single raster file or a directly containing raster files to ingest</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-F,</span> <span class="pre">--format</span></code></td>
<td>The format of raster files, which must match the file extension</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-P,</span> <span class="pre">--parallel-level</span></code></td>
<td>Maximum number of local threads for ingesting multiple raster files</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-T,</span> <span class="pre">--timestamp</span></code></td>
<td>Ingestion time (defaults to current time)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--write-memory</span></code></td>
<td>Memory allocation for ingestion operation</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--write-threads</span></code></td>
<td>Numer of threads used for writing raster data</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--query-threads</span></code></td>
<td>Number of threads used for querying raster data</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">When ingesting rasters from a directory, ensure that the <code class="docutils literal notranslate"><span class="pre">--format</span></code> argument matches the file extension of
the files. Otherwise, no files will be ingested.</p>
</div>
</div>
<div class="section" id="delete-raster">
<h3>11.5.2.9. <code class="docutils literal notranslate"><span class="pre">delete-raster</span></code><a class="headerlink" href="#delete-raster" title="Permalink to this headline">¶</a></h3>
<p>Delete ingested rasters.</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-t,</span> <span class="pre">--raster-table</span> <span class="pre">*</span></code></td>
<td>Accumulo table for storing raster data</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--force</span></code></td>
<td>Delete without prompting for confirmation</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="examples.html" class="btn btn-neutral float-right" title="11.6. Command Line Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="geoserver.html" class="btn btn-neutral" title="11.4. Using the Accumulo Data Store in GeoServer" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>

<div role="contentinfo">
  <p>
    &copy; Copyright 2013-2019 <a href="https://www.ccri.com/">Commonwealth Computer Research, Inc.</a>
    <br/>
    Licensed under the <a href="http://www.opensource.org/licenses/apache2.0.php">Apache License, Version 2.0</a>
  </p>
</div>

<div role="contentinfo">
  <p>
    Built with <a href="http://sphinx-doc.org/">Sphinx</a>
    using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>
    
    - view <a href="../../_sources/user/accumulo/commandline.rst.txt" rel="nofollow">page source</a>
    
  </p>
</div>



</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 

<!-- analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-53087457-1', 'auto');
ga('send', 'pageview');
</script>




</body>
</html>