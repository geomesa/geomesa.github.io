

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>15.1. Installing GeoMesa Accumulo &mdash; GeoMesa 3.2.2 Manuals</title>
  

  
  
  
  
    <link rel="canonical" href="https://www.geomesa.org/documentation/user/accumulo/install.html"/>
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme_custom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sphinx_tabs/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sphinx_tabs/semantic-ui-2.2.10/segment.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sphinx_tabs/semantic-ui-2.2.10/menu.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sphinx_tabs/semantic-ui-2.2.10/tab.min.css" type="text/css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="15.2. Using the Accumulo Data Store Programmatically" href="usage.html" />
    <link rel="prev" title="15. Accumulo Data Store" href="index.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> GeoMesa
          

          
          </a>

          
            
            
              <div class="version">
                3.2.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../download.html">2. Versions and Downloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html">3. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html">4. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geotools.html">5. GeoTools Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html">6. Architecture Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datastores/index.html">7. GeoMesa Data Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/index.html">8. Command-Line Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../convert/index.html">9. GeoMesa Convert</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geoserver.html">10. GeoServer Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spark/index.html">11. GeoMesa Spark</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nifi/index.html">12. GeoMesa NiFi Bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../process.html">13. GeoMesa Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hbase/index.html">14. HBase Data Store</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">15. Accumulo Data Store</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">15.1. Installing GeoMesa Accumulo</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#installing-from-the-binary-distribution">15.1.1. Installing from the Binary Distribution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#building-from-source">15.1.2. Building from Source</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installing-the-accumulo-distributed-runtime-library">15.1.3. Installing the Accumulo Distributed Runtime Library</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setting-up-the-accumulo-command-line-tools">15.1.4. Setting up the Accumulo Command Line Tools</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installing-geomesa-accumulo-in-geoserver">15.1.5. Installing GeoMesa Accumulo in GeoServer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#upgrading">15.1.6. Upgrading</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="usage.html">15.2. Using the Accumulo Data Store Programmatically</a></li>
<li class="toctree-l3"><a class="reference internal" href="geoserver.html">15.3. Using the Accumulo Data Store in GeoServer</a></li>
<li class="toctree-l3"><a class="reference internal" href="commandline.html">15.4. Accumulo Command-Line Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html">15.5. Accumulo Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="index_config.html">15.6. Accumulo Index Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="jobs.html">15.7. GeoMesa Jobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="kerberos.html">15.8. Kerberos</a></li>
<li class="toctree-l3"><a class="reference internal" href="examples.html">15.9. Command Line Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cassandra/index.html">16. Cassandra Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bigtable/index.html">17. Bigtable Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kafka/index.html">18. Kafka Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../redis/index.html">19. Redis Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../filesystem/index.html">20. FileSystem Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kudu/index.html">21. Kudu Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lambda/index.html">22. Lambda Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ds_views.html">23. Combined Data Store Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geojson.html">24. GeoMesa GeoJSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stream.html">25. GeoMesa Stream Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade.html">26. Upgrade Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#appendix">Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">Developer Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GeoMesa</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">User Manual</a> &raquo;</li>
        
          <li><a href="index.html">15. Accumulo Data Store</a> &raquo;</li>
        
      <li>15.1. Installing GeoMesa Accumulo</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installing-geomesa-accumulo">
<h1>15.1. Installing GeoMesa Accumulo<a class="headerlink" href="#installing-geomesa-accumulo" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">GeoMesa currently supports Accumulo versions 1.7.x, 1.8.x, 1.9.x and 2.0.x.</p>
</div>
<div class="section" id="installing-from-the-binary-distribution">
<h2>15.1.1. Installing from the Binary Distribution<a class="headerlink" href="#installing-from-the-binary-distribution" title="Permalink to this headline">¶</a></h2>
<p>GeoMesa Accumulo artifacts are available for download or can be built from source.
The easiest way to get started is to download the most recent binary version
(3.2.2) from <a class="reference external" href="https://github.com/locationtech/geomesa/releases">GitHub</a>.</p>
<p>Extract it somewhere convenient:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># download and unpackage the most recent distribution:</span>
$ wget <span class="s2">&quot;https://github.com/locationtech/geomesa/releases/download/geomesa_2.11-</span><span class="nv">$VERSION</span><span class="s2">/geomesa-accumulo_2.11-</span><span class="nv">$VERSION</span><span class="s2">-bin.tar.gz&quot;</span>
$ tar xvf geomesa-accumulo_2.11-<span class="nv">$VERSION</span>-bin.tar.gz
$ <span class="nb">cd</span> geomesa-accumulo_2.11-<span class="nv">$VERSION</span>
$ ls
bin/  conf/  dist/  docs/  examples/  lib/  LICENSE.txt  logs/
</pre></div>
</div>
</div>
<div class="section" id="building-from-source">
<span id="accumulo-install-source"></span><h2>15.1.2. Building from Source<a class="headerlink" href="#building-from-source" title="Permalink to this headline">¶</a></h2>
<p>GeoMesa Accumulo may also be built from source. For more information refer to <a class="reference internal" href="../../developer/introduction.html#building-from-source"><span class="std std-ref">Building from Source</span></a>
in the developer manual, or to the <code class="docutils literal notranslate"><span class="pre">README.md</span></code> file in the the source distribution.
The remainder of the instructions in this chapter assume the use of the binary GeoMesa Accumulo
distribution. If you have built from source, the distribution is created in the <code class="docutils literal notranslate"><span class="pre">target</span></code> directory of
<code class="docutils literal notranslate"><span class="pre">geomesa-accumulo/geomesa-accumulo-dist</span></code>.</p>
<p>More information about developing with GeoMesa may be found in the <a class="reference internal" href="../../developer/index.html"><span class="doc">Developer Manual</span></a>.</p>
</div>
<div class="section" id="installing-the-accumulo-distributed-runtime-library">
<span id="install-accumulo-runtime"></span><h2>15.1.3. Installing the Accumulo Distributed Runtime Library<a class="headerlink" href="#installing-the-accumulo-distributed-runtime-library" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">geomesa-accumulo_2.11-$VERSION/dist/accumulo/</span></code> directory contains the distributed
runtime JAR that contains server-side code for Accumulo that must be made
available on each of the Accumulo tablet servers in the cluster. This JAR
contains GeoMesa code and the Accumulo iterators required for querying GeoMesa data.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">GeoMesa requires commons-vfs2.jar 2.1 or later. This JAR ships with Accumulo 1.7.2+, but for older
installations the JAR needs to be updated in <code class="docutils literal notranslate"><span class="pre">$ACCUMULO_HOME/lib</span></code> on all Accumulo servers.</p>
</div>
<p>The version of the distributed runtime JAR must match the version of the GeoMesa
data store client JAR (usually installed in GeoServer; see below). If not,
queries might not work correctly or at all.</p>
<div class="section" id="namespace-install">
<span id="install-accumulo-runtime-namespace"></span><h3>15.1.3.1. Namespace Install<a class="headerlink" href="#namespace-install" title="Permalink to this headline">¶</a></h3>
<p>GeoMesa leverages namespaces and classpath contexts to isolate the GeoMesa
classpath from the rest of Accumulo.</p>
<p>To install the distributed runtime JAR, first copy it into HDFS:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ hadoop fs -mkdir /accumulo/classpath/myNamespace
$ hadoop fs -put <span class="se">\</span>
  geomesa-accumulo_2.11-<span class="nv">$VERSION</span>/dist/accumulo/geomesa-accumulo-distributed-runtime_2.11-<span class="nv">$VERSION</span>.jar <span class="se">\</span>
  /accumulo/classpath/myNamespace/
</pre></div>
</div>
<p>Then configure the namespace classpath through the Accumulo shell:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ accumulo shell -u root
&gt; createnamespace myNamespace
&gt; grant NameSpace.CREATE_TABLE -ns myNamespace -u myUser
&gt; config -s general.vfs.context.classpath.myNamespace<span class="o">=</span>hdfs://NAME_NODE_FDQN:9000/accumulo/classpath/myNamespace/<span class="o">[</span>^.<span class="o">]</span>.*.jar
&gt; config -ns myNamespace -s table.classpath.context<span class="o">=</span>myNamespace
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The path above is just an example; you can included nested folders with project
names, version numbers, and other information in order to have different versions of GeoMesa on
the same Accumulo instance. You should remove any GeoMesa JARs under
<code class="docutils literal notranslate"><span class="pre">$ACCUMULO_HOME/lib/ext</span></code> to prevent classpath conflicts.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When connecting to a data store using Accumulo namespaces, you must prefix
the <code class="docutils literal notranslate"><span class="pre">accumulo.catalog</span></code> parameter with the namespace. For example, refer to the
<code class="docutils literal notranslate"><span class="pre">my_catalog</span></code> table as <code class="docutils literal notranslate"><span class="pre">myNamespace.my_catalog</span></code>.</p>
</div>
</div>
<div class="section" id="system-install">
<span id="install-accumulo-runtime-manual"></span><h3>15.1.3.2. System Install<a class="headerlink" href="#system-install" title="Permalink to this headline">¶</a></h3>
<p>Alternatively, the GeoMesa runtime JAR can be copied into the <code class="docutils literal notranslate"><span class="pre">$ACCUMULO_HOME/lib/ext</span></code> folder on
each tablet server.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This approach is not recommended, as the GeoMesa classes will be on the global
Accumulo classpath, and may conflict with other custom JARs installed in Accumulo.</p>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="k">for</span> tserver <span class="k">in</span> <span class="k">$(</span>cat <span class="nv">$ACCUMULO_HOME</span>/conf/tservers<span class="k">)</span><span class="p">;</span> <span class="k">do</span> <span class="se">\</span>
    scp dist/accumulo/geomesa-accumulo-distributed-runtime_2.11-<span class="nv">$VERSION</span>.jar <span class="se">\</span>
    <span class="nv">$tserver</span>:<span class="nv">$ACCUMULO_HOME</span>/lib/ext<span class="p">;</span> <span class="k">done</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="setting-up-the-accumulo-command-line-tools">
<span id="setting-up-accumulo-commandline"></span><h2>15.1.4. Setting up the Accumulo Command Line Tools<a class="headerlink" href="#setting-up-the-accumulo-command-line-tools" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">To use the Accumulo data store with the command line tools, you need to install
the distributed runtime first. See <a class="reference internal" href="#install-accumulo-runtime"><span class="std std-ref">Installing the Accumulo Distributed Runtime Library</span></a>.</p>
</div>
<p>GeoMesa comes with a set of command line tools for managing Accumulo features located in
<code class="docutils literal notranslate"><span class="pre">geomesa-accumulo_2.11-$VERSION/bin/</span></code> of the binary distribution.</p>
<p>GeoMesa requires <code class="docutils literal notranslate"><span class="pre">java</span></code> to be available on the default path.</p>
<div class="section" id="configuring-the-classpath">
<h3>15.1.4.1. Configuring the Classpath<a class="headerlink" href="#configuring-the-classpath" title="Permalink to this headline">¶</a></h3>
<p>GeoMesa needs Accumulo and Hadoop JARs on the classpath. These are not bundled by default, as they should match
the versions installed on the target system.</p>
<p>If the environment variables <code class="docutils literal notranslate"><span class="pre">ACCUMULO_HOME</span></code> and <code class="docutils literal notranslate"><span class="pre">HADOOP_HOME</span></code> are set, then GeoMesa will load the appropriate
JARs and configuration files from those locations and no further configuration is required. Otherwise, you will
be prompted to download the appropriate JARs the first time you invoke the tools. Environment variables can be
specified in <code class="docutils literal notranslate"><span class="pre">conf/*-env.sh</span></code> and dependency versions can be specified in <code class="docutils literal notranslate"><span class="pre">conf/dependencies.sh</span></code>.</p>
<p>In order to run map/reduce jobs, the Hadoop <code class="docutils literal notranslate"><span class="pre">*-site.xml</span></code> configuration files from your Hadoop installation
must be on the classpath. If <code class="docutils literal notranslate"><span class="pre">HADOOP_HOME</span></code> is not set, then copy them into <code class="docutils literal notranslate"><span class="pre">geomesa-accumulo_2.11-$VERSION/conf</span></code>.</p>
<p>GeoMesa also provides the ability to add additional JARs to the classpath using the environmental variable
<code class="docutils literal notranslate"><span class="pre">$GEOMESA_EXTRA_CLASSPATHS</span></code>. GeoMesa will prepend the contents of this environmental variable  to the computed
classpath, giving it highest precedence in the classpath. Users can provide directories of jar files or individual
files using a colon (<code class="docutils literal notranslate"><span class="pre">:</span></code>) as a delimiter. These entries will also be added the the map-reduce libjars variable.</p>
<p>Due to licensing restrictions, dependencies for shape file support must be separately installed.
Do this with the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./bin/install-shapefile-support.sh
</pre></div>
</div>
<p>For logging, see <a class="reference internal" href="../cli/logging.html#slf4j-configuration"><span class="std std-ref">Logging Configuration</span></a> for information about configuring the SLF4J implementation.</p>
<p>Use the <code class="docutils literal notranslate"><span class="pre">geomesa-accumulo</span> <span class="pre">classpath</span></code> command to print the final classpath that will be used when executing GeoMesa
commands.</p>
</div>
<div class="section" id="running-commands">
<h3>15.1.4.2. Running Commands<a class="headerlink" href="#running-commands" title="Permalink to this headline">¶</a></h3>
<p>Test the command that invokes the GeoMesa Tools:</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span>$ geomesa-accumulo
Usage: geomesa-accumulo [command] [command options]
  Commands:
  ...
</pre></div>
</div>
<p>For details on the available commands, see <a class="reference internal" href="commandline.html#accumulo-tools"><span class="std std-ref">Accumulo Command-Line Tools</span></a>.</p>
</div>
</div>
<div class="section" id="installing-geomesa-accumulo-in-geoserver">
<span id="install-accumulo-geoserver"></span><h2>15.1.5. Installing GeoMesa Accumulo in GeoServer<a class="headerlink" href="#installing-geomesa-accumulo-in-geoserver" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">See <a class="reference internal" href="../geoserver.html#geoserver-versions"><span class="std std-ref">GeoServer Versions</span></a> to ensure that GeoServer is compatible with your GeoMesa version.</p>
</div>
<div class="section" id="installing-geoserver">
<h3>15.1.5.1. Installing GeoServer<a class="headerlink" href="#installing-geoserver" title="Permalink to this headline">¶</a></h3>
<p>As described in <a class="reference internal" href="../architecture.html#geomesa-and-geoserver"><span class="std std-ref">GeoMesa and GeoServer</span></a>, GeoMesa implements a <a class="reference external" href="http://geotools.org/">GeoTools</a>-compatible data store. This makes
it possible to use GeoMesa Accumulo as a data store in <a class="reference external" href="http://geoserver.org/">GeoServer</a>. GeoServer’s web site includes
<a class="reference external" href="http://docs.geoserver.org/stable/en/user/installation/index.html">installation instructions for GeoServer</a>.</p>
<p>After GeoServer is running, you may optionally install the WPS plugin. The GeoServer WPS Plugin must match the
version of your GeoServer instance. The GeoServer website includes instructions for downloading
and installing <a class="reference external" href="http://docs.geoserver.org/stable/en/user/services/wps/install.html">the WPS plugin</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If using Tomcat as a web server, it will most likely be necessary to
pass some custom options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">CATALINA_OPTS</span><span class="o">=</span><span class="s2">&quot;-Xmx8g -XX:MaxPermSize=512M -Duser.timezone=UTC </span><span class="se">\</span>
<span class="s2">-server -Djava.awt.headless=true&quot;</span>
</pre></div>
</div>
<p class="last">The value of <code class="docutils literal notranslate"><span class="pre">-Xmx</span></code> should be as large as your system will permit. Be sure to
restart Tomcat for changes to take place.</p>
</div>
</div>
<div class="section" id="installing-the-geomesa-accumulo-data-store">
<h3>15.1.5.2. Installing the GeoMesa Accumulo Data Store<a class="headerlink" href="#installing-the-geomesa-accumulo-data-store" title="Permalink to this headline">¶</a></h3>
<p>To install the GeoMesa data store, extract the contents of the
<code class="docutils literal notranslate"><span class="pre">geomesa-accumulo-gs-plugin_2.11-$VERSION-install.tar.gz</span></code> file in <code class="docutils literal notranslate"><span class="pre">geomesa-accumulo_2.11-$VERSION/dist/gs-plugins/</span></code>
in the binary distribution or <code class="docutils literal notranslate"><span class="pre">geomesa-accumulo/geomesa-accumulo-gs-plugin/target/</span></code> in the source
distribution into your GeoServer’s <code class="docutils literal notranslate"><span class="pre">lib</span></code> directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ tar -xzvf <span class="se">\</span>
  geomesa-accumulo_2.11-<span class="nv">$VERSION</span>/dist/gs-plugins/geomesa-accumulo-gs-plugin_2.11-<span class="nv">$VERSION</span>-install.tar.gz <span class="se">\</span>
  -C /path/to/geoserver/webapps/geoserver/WEB-INF/lib
</pre></div>
</div>
<p>Next, install the JARs for Accumulo and Hadoop. By default, JARs will be downloaded from Maven central. You may
override this by setting the environment variable <code class="docutils literal notranslate"><span class="pre">GEOMESA_MAVEN_URL</span></code>. If you do no have an internet connection
you can download the JARs manually via <a class="reference external" href="http://search.maven.org/">http://search.maven.org/</a>.</p>
<p>Edit the file <code class="docutils literal notranslate"><span class="pre">geomesa-accumulo_2.11-$VERSION/conf/dependencies.sh</span></code> to set the versions of Accumulo and Hadoop
to match the target environment, and then run the script:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./bin/install-dependencies.sh /path/to/geoserver/webapps/geoserver/WEB-INF/lib
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Due to a classpath conflict with GeoServer, the version of Accumulo client JARs installed must be 1.9.2 or later.
Note that newer Accumulo clients can talk to older Accumulo instances, so it is only necessary to upgrade the
client JARs in GeoServer, but not the entire Accumulo cluster.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">GeoServer ships with an older version of commons-text, 1.4. The <code class="docutils literal notranslate"><span class="pre">install-dependencies.sh</span></code> script will
remove it, but if you don’t use the script you will need to delete it manually.</p>
</div>
<p>The specific JARs needed for some common configurations are listed below:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-0-0 docutils container">
<div class="docutils container">
Accumulo 2.0</div>
</div>
<div class="item sphinx-data-tab-0-1 docutils container">
<div class="docutils container">
Accumulo 1.9</div>
</div>
<div class="item sphinx-data-tab-0-2 docutils container">
<div class="docutils container">
Accumulo 1.7</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-0-0 active docutils container">
<ul class="simple">
<li>accumulo-core-2.0.0.jar</li>
<li>accumulo-server-base-2.0.0.jar</li>
<li>accumulo-start-2.0.0.jar</li>
<li>commons-configuration-1.6.jar</li>
<li>commons-configuration2-2.5.jar</li>
<li>commons-logging-1.1.3.jar</li>
<li>commons-text-1.6.jar</li>
<li>commons-vfs2-2.3.jar</li>
<li>hadoop-auth-2.8.5.jar</li>
<li>hadoop-client-2.8.5.jar</li>
<li>hadoop-common-2.8.5.jar</li>
<li>hadoop-hdfs-2.8.5.jar</li>
<li>htrace-core-3.1.0-incubating.jar</li>
<li>htrace-core4-4.1.0-incubating.jar</li>
<li>libthrift-0.12.0.jar</li>
<li>zookeeper-3.4.14.jar</li>
</ul>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-0-1 docutils container">
<ul class="simple">
<li>accumulo-core-1.9.3.jar</li>
<li>accumulo-fate-1.9.3.jar</li>
<li>accumulo-server-base-1.9.3.jar</li>
<li>accumulo-start-1.9.3.jar</li>
<li>accumulo-trace-1.9.3.jar</li>
<li>commons-configuration-1.6.jar</li>
<li>commons-vfs2-2.1.jar</li>
<li>hadoop-auth-2.8.5.jar</li>
<li>hadoop-client-2.8.5.jar</li>
<li>hadoop-common-2.8.5.jar</li>
<li>hadoop-hdfs-2.8.5.jar</li>
<li>htrace-core-3.1.0-incubating.jar</li>
<li>libthrift-0.9.3.jar</li>
<li>zookeeper-3.4.14.jar</li>
</ul>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-0-2 docutils container">
<ul class="simple">
<li>accumulo-core-1.7.4.jar</li>
<li>accumulo-fate-1.7.4.jar</li>
<li>accumulo-server-base-1.7.4.jar</li>
<li>accumulo-start-1.7.4.jar</li>
<li>accumulo-trace-1.7.4.jar</li>
<li>commons-configuration-1.6.jar</li>
<li>commons-vfs2-2.1.jar</li>
<li>hadoop-auth-2.8.5.jar</li>
<li>hadoop-client-2.8.5.jar</li>
<li>hadoop-common-2.8.5.jar</li>
<li>hadoop-hdfs-2.8.5.jar</li>
<li>htrace-core-3.1.0-incubating.jar</li>
<li>libthrift-0.9.1.jar</li>
<li>zookeeper-3.4.14.jar</li>
</ul>
</div>
</div>
<p>Restart GeoServer after the JARs are installed.</p>
</div>
<div class="section" id="install-geomesa-processes">
<span id="install-geomesa-process"></span><h3>15.1.5.3. Install GeoMesa Processes<a class="headerlink" href="#install-geomesa-processes" title="Permalink to this headline">¶</a></h3>
<p>GeoMesa provides some WPS processes, such as <code class="docutils literal notranslate"><span class="pre">geomesa:Density</span></code> which is used to generate heat maps. In order
to use these processes, install the GeoServer WPS plugin as described in <a class="reference internal" href="../process.html#geomesa-process"><span class="std std-ref">GeoMesa Processes</span></a>.</p>
</div>
</div>
<div class="section" id="upgrading">
<h2>15.1.6. Upgrading<a class="headerlink" href="#upgrading" title="Permalink to this headline">¶</a></h2>
<p>To upgrade between minor releases of GeoMesa, the versions of all GeoMesa components
<strong>must</strong> match. This means that the version of the <code class="docutils literal notranslate"><span class="pre">geomesa-distributed-runtime</span></code>
JAR installed on Accumulo tablet servers <strong>must</strong> match the version of the
<code class="docutils literal notranslate"><span class="pre">geomesa-plugin</span></code> JARs installed in the <code class="docutils literal notranslate"><span class="pre">WEB-INF/lib</span></code> directory of GeoServer.</p>
<p>See <a class="reference internal" href="../upgrade.html#upgrade-guide"><span class="std std-ref">Upgrade Guide</span></a> for more details on upgrading between versions.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="usage.html" class="btn btn-neutral float-right" title="15.2. Using the Accumulo Data Store Programmatically" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="15. Accumulo Data Store" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>

<div role="contentinfo">
  <p>
    &copy; Copyright 2013-2021 <a href="https://www.ccri.com/">Commonwealth Computer Research, Inc.</a>
    <br/>
    Licensed under the <a href="http://www.opensource.org/licenses/apache2.0.php">Apache License, Version 2.0</a>
  </p>
</div>

<div role="contentinfo">
  <p>
    Built with <a href="http://sphinx-doc.org/">Sphinx</a>
    using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>
    
    - view <a href="../../_sources/user/accumulo/install.rst.txt" rel="nofollow">page source</a>
    
  </p>
</div>



</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/sphinx_tabs/tabs.js"></script>
        <script type="text/javascript" src="../../_static/sphinx_tabs/semantic-ui-2.2.10/tab.min.js"></script>
    

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 

<!-- analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-53087457-1', 'auto');
ga('send', 'pageview');
</script>




</body>
</html>