

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>26. Upgrade Guide &mdash; GeoMesa 2.2.2 Manuals</title>
  

  
  
  
  
    <link rel="canonical" href="https://www.geomesa.org/documentation/user/upgrade.html"/>
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme_custom.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="GeoMesa Utils" href="appendix/utils.html" />
    <link rel="prev" title="25. GeoMesa Stream Processing" href="stream.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> GeoMesa
          

          
          </a>

          
            
            
              <div class="version">
                2.2.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="download.html">2. Versions and Downloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html">3. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html">4. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html">5. Architecture Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="datastores/index.html">6. GeoMesa Data Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="cli/index.html">7. Command-Line Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="geoserver.html">8. GeoServer Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="spark/index.html">9. GeoMesa Spark</a></li>
<li class="toctree-l2"><a class="reference internal" href="hbase/index.html">10. HBase Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="accumulo/index.html">11. Accumulo Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="bigtable/index.html">12. Bigtable Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="cassandra/index.html">13. Cassandra Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="kafka/index.html">14. Kafka Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="filesystem/index.html">15. FileSystem Data Store (HDFS, S3)</a></li>
<li class="toctree-l2"><a class="reference internal" href="kudu/index.html">16. Kudu Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="lambda/index.html">17. Lambda Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="merged_view.html">18. Merged Data Store View</a></li>
<li class="toctree-l2"><a class="reference internal" href="convert/index.html">19. GeoMesa Convert</a></li>
<li class="toctree-l2"><a class="reference internal" href="process.html">20. GeoMesa Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="geojson.html">21. GeoMesa GeoJSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="nifi.html">22. GeoMesa NiFi Bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="blobstore.html">23. GeoMesa Blob Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="native_api.html">24. GeoMesa Native API</a></li>
<li class="toctree-l2"><a class="reference internal" href="stream.html">25. GeoMesa Stream Processing</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">26. Upgrade Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#compatibility-across-versions">26.1. Compatibility Across Versions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#semantic-versioning">26.1.1. Semantic Versioning</a></li>
<li class="toctree-l4"><a class="reference internal" href="#compatibility">26.1.2. Compatibility</a></li>
<li class="toctree-l4"><a class="reference internal" href="#compatibility-matrix">26.1.3. Compatibility Matrix</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#version-2-2-0-upgrade-guide">26.2. Version 2.2.0 Upgrade Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#geotools-20-and-geoserver-2-14">26.2.1. GeoTools 20 and GeoServer 2.14</a></li>
<li class="toctree-l4"><a class="reference internal" href="#accumulo-datastore-geoserver-installation">26.2.2. Accumulo DataStore GeoServer Installation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#version-2-1-0-upgrade-guide">26.3. Version 2.1.0 Upgrade Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#converter-updates">26.3.1. Converter Updates</a></li>
<li class="toctree-l4"><a class="reference internal" href="#distributed-runtime-version-checks">26.3.2. Distributed Runtime Version Checks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shapefile-ingestion">26.3.3. Shapefile Ingestion</a></li>
<li class="toctree-l4"><a class="reference internal" href="#delimited-text-auto-ingestion">26.3.4. Delimited Text Auto-Ingestion</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filesystem-storage-api-changes">26.3.5. FileSystem Storage API Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#spark-version-update">26.3.6. Spark Version Update</a></li>
<li class="toctree-l4"><a class="reference internal" href="#arrow-version-update">26.3.7. Arrow Version Update</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scalatra-version-update">26.3.8. Scalatra Version Update</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#version-2-0-0-upgrade-guide">26.4. Version 2.0.0 Upgrade Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#geotools-18-and-geoserver-2-12">26.4.1. GeoTools 18 and GeoServer 2.12</a></li>
<li class="toctree-l4"><a class="reference internal" href="#data-store-parameters">26.4.2. Data Store Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#removal-of-joda-time">26.4.3. Removal of Joda Time</a></li>
<li class="toctree-l4"><a class="reference internal" href="#saxon-xml-parser">26.4.4. Saxon XML Parser</a></li>
<li class="toctree-l4"><a class="reference internal" href="#kafka-data-store">26.4.5. Kafka Data Store</a></li>
<li class="toctree-l4"><a class="reference internal" href="#accumulo-standardization">26.4.6. Accumulo Standardization</a></li>
<li class="toctree-l4"><a class="reference internal" href="#table-splitters">26.4.7. Table Splitters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#system-properties">26.4.8. System Properties</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#appendix">Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GeoMesa</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">User Manual</a> &raquo;</li>
        
      <li>26. Upgrade Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="upgrade-guide">
<span id="id1"></span><h1>26. Upgrade Guide<a class="headerlink" href="#upgrade-guide" title="Permalink to this headline">¶</a></h1>
<p>This section contains general information on version upgrades, as well as version-specific changes that may
affect the end user.</p>
<div class="section" id="compatibility-across-versions">
<h2>26.1. Compatibility Across Versions<a class="headerlink" href="#compatibility-across-versions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="semantic-versioning">
<h3>26.1.1. Semantic Versioning<a class="headerlink" href="#semantic-versioning" title="Permalink to this headline">¶</a></h3>
<p>Starting with 2.0.0, GeoMesa is adhering to <a class="reference external" href="https://semver.org/">semantic versioning</a>. Essentially,
releases are broken down into major, minor and patch versions. For a version number like 2.0.1, 2 is the major
version, 2.0 is the minor version, and 2.0.1 is the patch version.</p>
<p>Major version updates contain breaking public API changes. Minor version updates contain new or updated functionality
that is backwards-compatible. Patch versions contain only backwards-compatible bug fixes. This delineation allows
users to gauge the potential impact of updating versions.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Versions prior to 2.0.0 do not follow semantic versioning, and each release should be
considered a major version change.</p>
</div>
</div>
<div class="section" id="compatibility">
<h3>26.1.2. Compatibility<a class="headerlink" href="#compatibility" title="Permalink to this headline">¶</a></h3>
<p>Semantic versioning makes API guarantees, but GeoMesa has several compatibility vectors to consider:</p>
<div class="section" id="data-compatibility">
<h4>26.1.2.1. Data Compatibility<a class="headerlink" href="#data-compatibility" title="Permalink to this headline">¶</a></h4>
<p>Data compatibility refers to the ability to read and write data written with older versions of GeoMesa. GeoMesa
fully supports data written with version 1.2.2 or later, and mostly supports data written with 1.1.0 or later.</p>
<p>Note that although later versions can read earlier data, the reverse is not necessarily true. Data written
with a newer client may not be readable by an older client.</p>
<p>Data written with 1.2.1 or earlier can be migrated to a newer data format. See <a class="reference internal" href="accumulo/data_management.html#index-upgrades"><span class="std std-ref">Upgrading Existing Indices</span></a> for details
(note that this functionality is currently only implemented for Accumulo).</p>
</div>
<div class="section" id="api-compatibility">
<h4>26.1.2.2. API Compatibility<a class="headerlink" href="#api-compatibility" title="Permalink to this headline">¶</a></h4>
<p>The GeoMesa public API is not currently well defined, so API compatibility is only guaranteed at the GeoTools
<a class="reference external" href="http://docs.geotools.org/stable/javadocs/org/geotools/data/DataStore.html">DataStore</a> level. In the future,
GeoMesa will clearly indicate which classes and methods are part of the public API. Non-public classes may change
without warning between minor versions.</p>
</div>
<div class="section" id="binary-compatibility">
<h4>26.1.2.3. Binary Compatibility<a class="headerlink" href="#binary-compatibility" title="Permalink to this headline">¶</a></h4>
<p>Binary compatibility refers to the ability to have different GeoMesa versions in a single environment. An environment
may be a single process or span multiple servers (for example an ingest pipeline, a query client, and an analytics
platform). For data stores with a distributed component (HBase and Accumulo), the environment includes both the
client and the distributed code.</p>
<p>GeoMesa requires that all JARs in an environment are the same minor version, and that all JARs within a single JVM
are the same patch version.</p>
</div>
<div class="section" id="dependency-compatibility">
<h4>26.1.2.4. Dependency Compatibility<a class="headerlink" href="#dependency-compatibility" title="Permalink to this headline">¶</a></h4>
<p>Dependency compatibility refers to the ability to update GeoMesa without updating other components
(e.g. Accumulo, HBase, Hadoop, Spark, GeoServer, etc). Generally, GeoMesa supports a range of dependency versions
(e.g. Accumulo 1.6 to 1.9). Spark versions are more tightly coupled, due to the use of private Spark APIs.</p>
</div>
<div class="section" id="pre-release-code">
<h4>26.1.2.5. Pre-Release Code<a class="headerlink" href="#pre-release-code" title="Permalink to this headline">¶</a></h4>
<p>GeoMesa sometimes provides modules in an alpha or beta state. Although they share the overall GeoMesa version number,
such modules should be considered pre-1.0, and are not guaranteed to provide any forwards or backwards compatibility
across versions. Pre-release modules will be clearly marked in the documentation.</p>
</div>
</div>
<div class="section" id="compatibility-matrix">
<h3>26.1.3. Compatibility Matrix<a class="headerlink" href="#compatibility-matrix" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">Major</th>
<th class="head">Minor</th>
<th class="head">Patch</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="row-odd"><td>API</td>
<td>N</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="row-even"><td>Binary</td>
<td>N</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="row-odd"><td>Dependencies</td>
<td>N</td>
<td>N</td>
<td>Y</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="version-2-2-0-upgrade-guide">
<h2>26.2. Version 2.2.0 Upgrade Guide<a class="headerlink" href="#version-2-2-0-upgrade-guide" title="Permalink to this headline">¶</a></h2>
<div class="section" id="geotools-20-and-geoserver-2-14">
<h3>26.2.1. GeoTools 20 and GeoServer 2.14<a class="headerlink" href="#geotools-20-and-geoserver-2-14" title="Permalink to this headline">¶</a></h3>
<p>GeoMesa 2.2.0 is compiled against GeoTools 20.0 and GeoServer 2.14. This version of GeoTools upgrades JTS
from 1.14 to 1.16, which includes a transition of the project to Locationtech. The new version
of JTS renames the packages from <code class="docutils literal notranslate"><span class="pre">com.vividsolutions</span></code> to <code class="docutils literal notranslate"><span class="pre">org.locationtech.jts</span></code>. Due to the package renaming,
GeoMesa will no longer work with older versions of GeoTools and GeoServer.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">GeoMesa 2.2.0 requires GeoTools 20.0 or later and GeoServer 2.14 or later.</p>
</div>
</div>
<div class="section" id="accumulo-datastore-geoserver-installation">
<h3>26.2.2. Accumulo DataStore GeoServer Installation<a class="headerlink" href="#accumulo-datastore-geoserver-installation" title="Permalink to this headline">¶</a></h3>
<p>When using GeoServer, the GeoMesa Accumulo data store now requires Accumulo client JARs 1.9.2 or later.
This is due to classpath conflicts between earlier Accumulo clients and GeoServer 2.14. Fortunately, newer Accumulo
clients can talk to older Accumulo instances, so it is only necessary to upgrade the client JARs in GeoServer,
but not the entire Accumulo cluster.</p>
</div>
</div>
<div class="section" id="version-2-1-0-upgrade-guide">
<h2>26.3. Version 2.1.0 Upgrade Guide<a class="headerlink" href="#version-2-1-0-upgrade-guide" title="Permalink to this headline">¶</a></h2>
<div class="section" id="converter-updates">
<h3>26.3.1. Converter Updates<a class="headerlink" href="#converter-updates" title="Permalink to this headline">¶</a></h3>
<p>The GeoMesa converter API has been updated and simplified. The old API has been deprecated, and while custom
converters written against it should still work, users are encouraged to migrate to
<code class="docutils literal notranslate"><span class="pre">org.locationtech.geomesa.convert2.SimpleFeatureConverter</span></code>. A compatibility bridge is provided so that
all converters registered with either the new or old API will be available to both.</p>
<p>Converter definitions should continue to work the same, but some invalid definitions may start to fail due to
stricter configuration parsing.</p>
<div class="section" id="xml-converter-namespaces">
<h4>26.3.1.1. XML Converter Namespaces<a class="headerlink" href="#xml-converter-namespaces" title="Permalink to this headline">¶</a></h4>
<p>XML parsing is now namespace-aware. This shouldn’t affect most operations, but any custom converter functions
that operate on the XML element objects may need to take this into account (for example, custom XPath querying).</p>
</div>
</div>
<div class="section" id="distributed-runtime-version-checks">
<h3>26.3.2. Distributed Runtime Version Checks<a class="headerlink" href="#distributed-runtime-version-checks" title="Permalink to this headline">¶</a></h3>
<p>To prevent unexpected bugs due to JAR version mismatches, GeoMesa can scan the distributed classpath to
verify compatible versions on the distributed classpath. This behavior may be enabled by setting the system
property <code class="docutils literal notranslate"><span class="pre">geomesa.distributed.version.check=true</span></code>.</p>
</div>
<div class="section" id="shapefile-ingestion">
<h3>26.3.3. Shapefile Ingestion<a class="headerlink" href="#shapefile-ingestion" title="Permalink to this headline">¶</a></h3>
<p>Shapefile ingestion through the GeoMesa command-line tools has changed to use a converter definition. This allows
for on-the-fly modifications to the shapefile during ingestion, however the command now requires user confirmation.
The previous behavior can be simulated by passing <code class="docutils literal notranslate"><span class="pre">--force</span></code> to the ingest command.</p>
</div>
<div class="section" id="delimited-text-auto-ingestion">
<h3>26.3.4. Delimited Text Auto-Ingestion<a class="headerlink" href="#delimited-text-auto-ingestion" title="Permalink to this headline">¶</a></h3>
<p>GeoMesa previously supported auto ingest of specially formatted delimited CSV and TSV files. This functionality
has been replaced with standard ingest type inference, which works similarly but may create different results.
Generally, the previous behavior can be replicated by using type inference to create a converter definition,
then modifying the converter to set the feature ID to the first column (<code class="docutils literal notranslate"><span class="pre">$1</span></code>).</p>
</div>
<div class="section" id="filesystem-storage-api-changes">
<h3>26.3.5. FileSystem Storage API Changes<a class="headerlink" href="#filesystem-storage-api-changes" title="Permalink to this headline">¶</a></h3>
<p>The FileSystem Storage API is still considered beta-level software, and has been updated in this release. The
DataStore API has not changed, however the internal class interfaces have changed in this release, potentially
requiring changes in user code.</p>
<p>In addition, the format used to store metadata files has been updated, so older versions of GeoMesa will not be
able to read metadata created with this version. When accessing older metadata for the first time, GeoMesa will
update the files to the new format, potentially breaking any old clients still being used.</p>
<p>Finally, the <code class="docutils literal notranslate"><span class="pre">update-metadata</span></code> tools command has been replaced with <code class="docutils literal notranslate"><span class="pre">manage-metadata</span></code>.</p>
</div>
<div class="section" id="spark-version-update">
<h3>26.3.6. Spark Version Update<a class="headerlink" href="#spark-version-update" title="Permalink to this headline">¶</a></h3>
<p>GeoMesa now builds against Spark 2.3.1, and supports versions 2.2.x and 2.3.x.</p>
</div>
<div class="section" id="arrow-version-update">
<h3>26.3.7. Arrow Version Update<a class="headerlink" href="#arrow-version-update" title="Permalink to this headline">¶</a></h3>
<p>The version of Apache Arrow used for Arrow-encoded results has been updated from 0.6.0 to 0.10.0. Due to changes
in the Arrow inter-process communication (IPC) format, clients may need to update to the same Arrow version.</p>
</div>
<div class="section" id="scalatra-version-update">
<h3>26.3.8. Scalatra Version Update<a class="headerlink" href="#scalatra-version-update" title="Permalink to this headline">¶</a></h3>
<p>The version of scalatra used for web servlets has been updated to 2.6.3. The new version requires json4s 3.5.4,
which may require changes to the web server used to deploy the servlets.</p>
</div>
</div>
<div class="section" id="version-2-0-0-upgrade-guide">
<h2>26.4. Version 2.0.0 Upgrade Guide<a class="headerlink" href="#version-2-0-0-upgrade-guide" title="Permalink to this headline">¶</a></h2>
<div class="section" id="geotools-18-and-geoserver-2-12">
<h3>26.4.1. GeoTools 18 and GeoServer 2.12<a class="headerlink" href="#geotools-18-and-geoserver-2-12" title="Permalink to this headline">¶</a></h3>
<p>GeoMesa 2.0.0 is compiled against GeoTools 18.0 and GeoServer 2.12. When upgrading GeoServer instances,
it’s usually best to start over with a new GeoServer data directory. If you upgrade GeoMesa in an existing
GeoServer instance that has run GeoMesa 1.3.x or earlier, layers will still work but you will not be
able to edit any existing GeoMesa stores. In order to edit stores, you will need to delete them and
re-create them through the GeoServer UI. Alternatively, you may edit the GeoServer <code class="docutils literal notranslate"><span class="pre">datastore.xml</span></code> files
(located in the GeoServer data directory) to match the new GeoMesa data store parameters (described below).
In particular, you will need to add a <code class="docutils literal notranslate"><span class="pre">namespace</span></code> parameter that matches the workspace of the GeoServer store.</p>
</div>
<div class="section" id="data-store-parameters">
<h3>26.4.2. Data Store Parameters<a class="headerlink" href="#data-store-parameters" title="Permalink to this headline">¶</a></h3>
<p>The data store parameters used in calls to <code class="docutils literal notranslate"><span class="pre">DataStoreFinder</span></code> and the Spark <code class="docutils literal notranslate"><span class="pre">SpatialRDDProvider</span></code> have
been standardized . New parameters are outlined in the individual data store pages:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="accumulo/usage.html#accumulo-parameters"><span class="std std-ref">Accumulo Data Store Parameters</span></a></li>
<li><a class="reference internal" href="hbase/usage.html#hbase-parameters"><span class="std std-ref">HBase Data Store Parameters</span></a></li>
<li><a class="reference internal" href="bigtable/usage.html#bigtable-parameters"><span class="std std-ref">Bigtable Data Store Parameters</span></a></li>
<li><a class="reference internal" href="cassandra/usage.html#cassandra-parameters"><span class="std std-ref">Cassandra Data Store Parameters</span></a></li>
<li><a class="reference internal" href="kafka/usage.html#kafka-parameters"><span class="std std-ref">Kafka Data Store Parameters</span></a></li>
<li><a class="reference internal" href="lambda/usage.html#lambda-parameters"><span class="std std-ref">Lambda Data Store Parameters</span></a></li>
</ul>
</div></blockquote>
<p>The older parameter names will continue to work, but are deprecated and may be removed in future versions.</p>
</div>
<div class="section" id="removal-of-joda-time">
<h3>26.4.3. Removal of Joda Time<a class="headerlink" href="#removal-of-joda-time" title="Permalink to this headline">¶</a></h3>
<p>With the introduction of <code class="docutils literal notranslate"><span class="pre">java.time</span></code> in Java 8, the Joda Time project has been deprecated. As such, GeoMesa
has removed its Joda dependency in favor of <code class="docutils literal notranslate"><span class="pre">java.time</span></code>. One consequence of this is that custom date patterns
in <code class="docutils literal notranslate"><span class="pre">geomesa-convert</span></code> are interpreted slightly differently. See <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html">DateTimeFormatter</a> for details.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In particular, “year of era” has changed from <code class="docutils literal notranslate"><span class="pre">Y</span></code> to <code class="docutils literal notranslate"><span class="pre">y</span></code>. <code class="docutils literal notranslate"><span class="pre">Y</span></code> now means “week-based year”, and will
give different results.</p>
</div>
</div>
<div class="section" id="saxon-xml-parser">
<h3>26.4.4. Saxon XML Parser<a class="headerlink" href="#saxon-xml-parser" title="Permalink to this headline">¶</a></h3>
<p>The GeoMesa converter XML module now ships with Saxon-HE by default. Saxon-HE is generally much faster
at parsing XML than the default Java implementation. Previously, Saxon was available as an additional download.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Saxon parsing has some differences from the default Java implementation, which may cause existing
converter definitions to fail. In particular, Saxon is much stricter with XML namespaces. See
<a class="reference internal" href="convert/xml.html#xml-converter-namespaces"><span class="std std-ref">Handling Namespaces with Saxon</span></a> for more information.</p>
</div>
</div>
<div class="section" id="kafka-data-store">
<h3>26.4.5. Kafka Data Store<a class="headerlink" href="#kafka-data-store" title="Permalink to this headline">¶</a></h3>
<p>The Kafka Data Store has been rewritten into a single implementation for Kafka 0.9.x or later. Support for
Kafka 0.8 has been removed. See <a class="reference internal" href="kafka/index.html#kafka-index"><span class="std std-ref">Kafka Data Store</span></a> for more information.</p>
</div>
<div class="section" id="accumulo-standardization">
<h3>26.4.6. Accumulo Standardization<a class="headerlink" href="#accumulo-standardization" title="Permalink to this headline">¶</a></h3>
<p>In order to standardize behavior between data store implementations, some behaviors of the <code class="docutils literal notranslate"><span class="pre">AccumuloDataStore</span></code>
have been modified.</p>
<div class="section" id="attribute-index-coverage">
<h4>26.4.6.1. Attribute Index Coverage<a class="headerlink" href="#attribute-index-coverage" title="Permalink to this headline">¶</a></h4>
<p>Accumulo attribute indices specified with <code class="docutils literal notranslate"><span class="pre">index=true</span></code> will now create full attribute indices, instead of
join indices. To create a join index, explicitly specify <code class="docutils literal notranslate"><span class="pre">index=join</span></code>. Existing schemas are not affected.</p>
</div>
<div class="section" id="record-index-identifier">
<h4>26.4.6.2. Record Index Identifier<a class="headerlink" href="#record-index-identifier" title="Permalink to this headline">¶</a></h4>
<p>The Accumulo <code class="docutils literal notranslate"><span class="pre">record</span></code> index has been renamed to the <code class="docutils literal notranslate"><span class="pre">id</span></code> index. In general practice, this will have no effect,
however when specifying <code class="docutils literal notranslate"><span class="pre">geomesa.indices.enabled</span></code>, the value <code class="docutils literal notranslate"><span class="pre">id</span></code> must be used in place of <code class="docutils literal notranslate"><span class="pre">records</span></code>.</p>
</div>
<div class="section" id="tools-command-name">
<h4>26.4.6.3. Tools Command Name<a class="headerlink" href="#tools-command-name" title="Permalink to this headline">¶</a></h4>
<p>The Accumulo command line tools script has been renamed from <code class="docutils literal notranslate"><span class="pre">geomesa</span></code> to <code class="docutils literal notranslate"><span class="pre">geomesa-accumulo</span></code>.</p>
</div>
</div>
<div class="section" id="table-splitters">
<h3>26.4.7. Table Splitters<a class="headerlink" href="#table-splitters" title="Permalink to this headline">¶</a></h3>
<p>The table splitting API has changed. Any custom table splitters implementing
<code class="docutils literal notranslate"><span class="pre">org.locationtech.geomesa.index.conf.TableSplitter</span></code> will need to be updated for the new method signatures.
In addition, the provided GeoMesa splitters have been deprecated and replaced. See <a class="reference internal" href="datastores/index_config.html#table-split-config"><span class="std std-ref">Configuring Index Splits</span></a>
for more details.</p>
</div>
<div class="section" id="system-properties">
<h3>26.4.8. System Properties<a class="headerlink" href="#system-properties" title="Permalink to this headline">¶</a></h3>
<p>Time-related system properties have been standardized to all use readable durations. Durations can be specified
as a number followed by a time unit, e.g. <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">minutes</span></code> or <code class="docutils literal notranslate"><span class="pre">30</span> <span class="pre">seconds</span></code>. The following properties
have been changed to accept durations, and some have been renamed. Note that this will affect system properties
set in the JVM as well as any custom <code class="docutils literal notranslate"><span class="pre">geomesa-site.xml</span></code> files. More details can be found under
<a class="reference internal" href="datastores/runtime_config.html#geomesa-site-xml"><span class="std std-ref">Runtime Configuration</span></a> or the appropriate data store configuration section.</p>
<table border="1" class="docutils">
<colgroup>
<col width="46%" />
<col width="54%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Previous name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>geomesa.query.timeout</td>
<td>geomesa.query.timeout.millis</td>
</tr>
<tr class="row-odd"><td>geomesa.metadata.expiry</td>
<td>N/A</td>
</tr>
<tr class="row-even"><td>geomesa.batchwriter.latency</td>
<td>geomesa.batchwriter.latency.millis</td>
</tr>
<tr class="row-odd"><td>geomesa.batchwriter.latency</td>
<td>geomesa.batchwriter.latency.millis</td>
</tr>
<tr class="row-even"><td>geomesa.stats.compact.interval</td>
<td>geomesa.stats.compact.millis</td>
</tr>
<tr class="row-odd"><td>geomesa.cassandra.read.timeout</td>
<td>geomesa.cassandra.read.timeout.millis</td>
</tr>
<tr class="row-even"><td>geomesa.cassandra.connection.timeout</td>
<td>geomesa.cassandra.connection.timeout.millis</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="appendix/utils.html" class="btn btn-neutral float-right" title="GeoMesa Utils" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="stream.html" class="btn btn-neutral" title="25. GeoMesa Stream Processing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>

<div role="contentinfo">
  <p>
    &copy; Copyright 2013-2019 <a href="https://www.ccri.com/">Commonwealth Computer Research, Inc.</a>
    <br/>
    Licensed under the <a href="http://www.opensource.org/licenses/apache2.0.php">Apache License, Version 2.0</a>
  </p>
</div>

<div role="contentinfo">
  <p>
    Built with <a href="http://sphinx-doc.org/">Sphinx</a>
    using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>
    
    - view <a href="../_sources/user/upgrade.rst.txt" rel="nofollow">page source</a>
    
  </p>
</div>



</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 

<!-- analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-53087457-1', 'auto');
ga('send', 'pageview');
</script>




</body>
</html>