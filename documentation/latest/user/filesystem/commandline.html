<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>19.5. FileSystem Command-Line Tools &mdash; GeoMesa 5.0.0 Manuals</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme_custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="canonical" href="https://www.geomesa.org/documentation/user/filesystem/commandline.html"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="19.6. FileSystem DataStore Configuration" href="configuration.html" />
    <link rel="prev" title="19.4. Using the FileSystem Data Store in GeoServer" href="geoserver.html" />


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> GeoMesa
          </a>
              <div class="version">
                5.1.0-SNAPSHOT
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html">2. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../download.html">3. Versions and Downloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html">4. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html">5. Architecture Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geotools.html">6. GeoTools Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datastores/index.html">7. GeoMesa Data Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/index.html">8. Command-Line Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../convert/index.html">9. GeoMesa Converters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geoserver.html">10. GeoServer Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spark/index.html">11. GeoMesa Spark</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nifi/index.html">12. GeoMesa NiFi Bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../process.html">13. GeoMesa Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hbase/index.html">14. HBase Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../accumulo/index.html">15. Accumulo Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cassandra/index.html">16. Cassandra Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kafka/index.html">17. Kafka Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../redis/index.html">18. Redis Data Store</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">19. FileSystem Data Store</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="architecture.html">19.1. Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html">19.2. Installing GeoMesa FileSystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage.html">19.3. Using the FileSystem Data Store Programmatically</a></li>
<li class="toctree-l3"><a class="reference internal" href="geoserver.html">19.4. Using the FileSystem Data Store in GeoServer</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">19.5. FileSystem Command-Line Tools</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#commands">19.5.1. Commands</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html">19.6. FileSystem DataStore Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="index_config.html">19.7. Index Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="partition_schemes.html">19.8. Partition Schemes</a></li>
<li class="toctree-l3"><a class="reference internal" href="metadata.html">19.9. FileSystem Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="modify_features.html">19.10. Modifying Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="example.html">19.11. FileSystem Data Store Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="spark_example.html">19.12. FileSystem Data Store Spark SQL Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../postgis/index.html">20. Partitioned PostGIS Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lambda/index.html">21. Lambda Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ds_views.html">22. Combined Data Store Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade.html">23. Upgrade Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#appendix">Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GeoMesa</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">User Manual</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">19. </span>FileSystem Data Store</a></li>
      <li class="breadcrumb-item active"><span class="section-number">19.5. </span>FileSystem Command-Line Tools</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="filesystem-command-line-tools">
<span id="fsds-tools"></span><h1><span class="section-number">19.5. </span>FileSystem Command-Line Tools<a class="headerlink" href="#filesystem-command-line-tools" title="Permalink to this headline">¶</a></h1>
<p>The GeoMesa FileSystem distribution includes a set of command-line tools for feature
management, ingest, export and debugging.</p>
<p>To install the tools, see <a class="reference internal" href="install.html#setting-up-fsds-commandline"><span class="std std-ref">Setting up the FileSystem Command Line Tools</span></a>.</p>
<p>Once installed, the tools should be available through the command <code class="docutils literal notranslate"><span class="pre">geomesa-fs</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ geomesa-fs
INFO  Usage: geomesa-fs [command] [command options]
  Commands:
    ...
</pre></div>
</div>
<p>Commands that are common to multiple back ends are described in <a class="reference internal" href="../cli/index.html"><span class="doc">Command-Line Tools</span></a>. The commands
here are FileSystem-specific.</p>
<section id="commands">
<h2><span class="section-number">19.5.1. </span>Commands<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h2>
<section id="compact">
<span id="fsds-compact-command"></span><h3><span class="section-number">19.5.1.1. </span><code class="docutils literal notranslate"><span class="pre">compact</span></code><a class="headerlink" href="#compact" title="Permalink to this headline">¶</a></h3>
<p>Compact one or more filesystem partitions. This will merge multiple files into fewer, larger files, which may
provide better query performance.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-p,</span> <span class="pre">--path</span> <span class="pre">*</span></code></p></td>
<td><p>The filesystem root path used to store data</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-f,</span> <span class="pre">--feature-name</span> <span class="pre">*</span></code></p></td>
<td><p>The name of the schema</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--partitions</span></code></p></td>
<td><p>Partitions to compact (omit to compact all partitions)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--target-file-size</span></code></p></td>
<td><p>Target size for data files (e.g. 500MB or 1GB)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--mode</span></code></p></td>
<td><p>One of <code class="docutils literal notranslate"><span class="pre">local</span></code> or <code class="docutils literal notranslate"><span class="pre">distributed</span></code> (to use map/reduce)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--temp-path</span></code></p></td>
<td><p>Path to a temp directory used for working files</p></td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">--temp-path</span></code> argument may be useful when working with <code class="docutils literal notranslate"><span class="pre">s3</span></code> data, as <code class="docutils literal notranslate"><span class="pre">s3</span></code> is slow for incremental writes.</p>
</section>
<section id="generate-partition-filters">
<h3><span class="section-number">19.5.1.2. </span><code class="docutils literal notranslate"><span class="pre">generate-partition-filters</span></code><a class="headerlink" href="#generate-partition-filters" title="Permalink to this headline">¶</a></h3>
<p>Calculate filters that exactly match partitions. This can be used to facilitate exports from another system
directly into the appropriate partition directory.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-p,</span> <span class="pre">--path</span> <span class="pre">*</span></code></p></td>
<td><p>The filesystem root path used to store data</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-f,</span> <span class="pre">--feature-name</span> <span class="pre">*</span></code></p></td>
<td><p>The name of the schema</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-q,</span> <span class="pre">--cql</span></code></p></td>
<td><p>CQL predicate to determine the partitions to operate on</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--partitions</span></code></p></td>
<td><p>Partitions to operate on, subject to the CQL filter</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--no-header</span></code></p></td>
<td><p>Suppress the column headers in the output</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--config</span></code></p></td>
<td><p>Hadoop configuration properties, in the form key=value</p></td>
</tr>
</tbody>
</table>
<p>At least one of <code class="docutils literal notranslate"><span class="pre">--cql</span></code> or <code class="docutils literal notranslate"><span class="pre">--partitions</span></code> must be specified, to select the partitions being operated on.
If both are specified, any explicit partitions that don’t match the CQL predicate will be ignored.</p>
<p>The results will be output in tab-delimited text. The following example uses the GDELT <a class="reference internal" href="../../tutorials/geomesa-quickstart-fsds.html#fsds-quickstart"><span class="std std-ref">GeoMesa FileSystem Quick Start</span></a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./geomesa-fs<span class="w"> </span>generate-partition-filters<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-p<span class="w"> </span>hdfs://localhost:9000/fs<span class="w">           </span><span class="se">\</span>
<span class="w">    </span>-f<span class="w"> </span>gdelt-quickstart<span class="w">                   </span><span class="se">\</span>
<span class="w">    </span>-q<span class="w"> </span><span class="s2">&quot;bbox(geom,0,0,180,90) and dtg during 2020-01-01T00:00:00.000Z/2020-01-03T00:00:00.000Z&quot;</span>
INFO<span class="w">  </span>Generating<span class="w"> </span>filters<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">2</span><span class="w"> </span>partitions
Partition<span class="w"> </span>Path<span class="w">      </span>Filter
<span class="m">2020</span>/01/01/3<span class="w">        </span>hdfs://localhost:9000/fs/gdelt-quickstart/2020/01/01/3_I<span class="w">        </span>BBOX<span class="o">(</span>geom,<span class="w"> </span><span class="m">0</span>.0,0.0,180.0,90.0<span class="o">)</span><span class="w"> </span>AND<span class="w"> </span>dtg<span class="w"> </span>&gt;<span class="o">=</span><span class="w"> </span><span class="s1">&#39;2020-01-01T00:00:00.000Z&#39;</span><span class="w"> </span>AND<span class="w"> </span>dtg<span class="w"> </span>&lt;<span class="w"> </span><span class="s1">&#39;2020-01-02T00:00:00.000Z&#39;</span>
<span class="m">2020</span>/01/02/3<span class="w">        </span>hdfs://localhost:9000/fs/gdelt-quickstart/2020/01/02/3_I<span class="w">        </span>BBOX<span class="o">(</span>geom,<span class="w"> </span><span class="m">0</span>.0,0.0,180.0,90.0<span class="o">)</span><span class="w"> </span>AND<span class="w"> </span>dtg<span class="w"> </span>&gt;<span class="o">=</span><span class="w"> </span><span class="s1">&#39;2020-01-02T00:00:00.000Z&#39;</span><span class="w"> </span>AND<span class="w"> </span>dtg<span class="w"> </span>&lt;<span class="w"> </span><span class="s1">&#39;2020-01-03T00:00:00.000Z&#39;</span>
</pre></div>
</div>
</section>
<section id="get-files">
<h3><span class="section-number">19.5.1.3. </span><code class="docutils literal notranslate"><span class="pre">get-files</span></code><a class="headerlink" href="#get-files" title="Permalink to this headline">¶</a></h3>
<p>Displays the files for one or more filesystem partitions.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-p,</span> <span class="pre">--path</span> <span class="pre">*</span></code></p></td>
<td><p>The filesystem root path used to store data</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-f,</span> <span class="pre">--feature-name</span> <span class="pre">*</span></code></p></td>
<td><p>The name of the schema</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--partitions</span></code></p></td>
<td><p>Partitions to list (omit to list all partitions)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="get-partitions">
<h3><span class="section-number">19.5.1.4. </span><code class="docutils literal notranslate"><span class="pre">get-partitions</span></code><a class="headerlink" href="#get-partitions" title="Permalink to this headline">¶</a></h3>
<p>Displays the partitions for a given filesystem store.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-p,</span> <span class="pre">--path</span> <span class="pre">*</span></code></p></td>
<td><p>The filesystem root path used to store data</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-f,</span> <span class="pre">--feature-name</span> <span class="pre">*</span></code></p></td>
<td><p>The name of the schema</p></td>
</tr>
</tbody>
</table>
</section>
<section id="ingest">
<span id="fsds-ingest-command"></span><h3><span class="section-number">19.5.1.5. </span><code class="docutils literal notranslate"><span class="pre">ingest</span></code><a class="headerlink" href="#ingest" title="Permalink to this headline">¶</a></h3>
<p>For an overview of ingestion options, see <a class="reference internal" href="../cli/ingest.html#cli-ingest"><span class="std std-ref">ingest</span></a>.</p>
<p>This command ingests files into a GeoMesa FS Datastore. Note that a “datastore” is simply a path in the filesystem.
All data and metadata will be stored in the filesystem under the hierarchy of the root path.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 81%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-p,</span> <span class="pre">--path</span> <span class="pre">*</span></code></p></td>
<td><p>The filesystem root path used to store data</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-e,</span> <span class="pre">--encoding</span></code></p></td>
<td><p>The encoding used for the underlying files. Implementations are provided for <code class="docutils literal notranslate"><span class="pre">parquet</span></code> and <code class="docutils literal notranslate"><span class="pre">orc</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--partition-scheme</span></code></p></td>
<td><p>Common partition scheme name (e.g. daily, z2) or path to a file containing a scheme config</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--num-reducers</span></code></p></td>
<td><p>Number of reducers to use (required for distributed ingest)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--leaf-storage</span></code></p></td>
<td><p>Use leaf storage</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--target-file-size</span></code></p></td>
<td><p>Target size for data files (e.g. 500MB or 1GB)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--temp-path</span></code></p></td>
<td><p>Path to a temp directory used for working files</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--storage-opt</span></code></p></td>
<td><p>Additional storage options to set as SimpleFeatureType user data, in the form <code class="docutils literal notranslate"><span class="pre">key=value</span></code></p></td>
</tr>
</tbody>
</table>
<p>If the schema does not already exist, then <code class="docutils literal notranslate"><span class="pre">--encoding</span></code> and <code class="docutils literal notranslate"><span class="pre">--partition-scheme</span></code> are required, otherwise
they may be omitted.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--partition-scheme</span></code> argument should be the well-known name of a provided partition scheme, or the name
of a file containing a partition scheme. See <a class="reference internal" href="partition_schemes.html#fsds-partition-schemes"><span class="std std-ref">Partition Schemes</span></a> for more information.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--num-reducers</span></code> should generally be set to half the number of partitions.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--temp-path</span></code> argument may be useful when working with <code class="docutils literal notranslate"><span class="pre">s3</span></code> data, as <code class="docutils literal notranslate"><span class="pre">s3</span></code> is slow to write to.</p>
</section>
<section id="manage-metadata">
<span id="fsds-manage-metadata-command"></span><h3><span class="section-number">19.5.1.6. </span><code class="docutils literal notranslate"><span class="pre">manage-metadata</span></code><a class="headerlink" href="#manage-metadata" title="Permalink to this headline">¶</a></h3>
<p>This command will compact, add and delete metadata entries in a file system storage instance. It has three
sub-commands:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">compact</span></code> - compact multiple metadata files down to a single file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">register</span></code> - create a new metadata entry for an existing data file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unregister</span></code> - remove a metadata entry for an existing data file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">check-consistency</span></code> - check consistency between the metadata and data files</p></li>
</ul>
<p>To invoke the command, use the command name followed by the sub-command, then any arguments. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ geomesa manage-metadata compact -p /tmp/geomesa ...
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-p,</span> <span class="pre">--path</span> <span class="pre">*</span></code></p></td>
<td><p>The filesystem root path used to store data</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-f,</span> <span class="pre">--feature-name</span> <span class="pre">*</span></code></p></td>
<td><p>The name of the schema</p></td>
</tr>
</tbody>
</table>
<section id="id1">
<h4><span class="section-number">19.5.1.6.1. </span><code class="docutils literal notranslate"><span class="pre">compact</span></code><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">compact</span></code> sub-command will rewrite multiple metadata files as a single file. Note that this does
not change the data files; that is accomplished by the top-level <code class="docutils literal notranslate"><span class="pre">compact</span></code> command, as described above.</p>
</section>
<section id="register-unregister">
<h4><span class="section-number">19.5.1.6.2. </span><code class="docutils literal notranslate"><span class="pre">register/unregister</span></code><a class="headerlink" href="#register-unregister" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">register</span></code> and <code class="docutils literal notranslate"><span class="pre">unregister</span></code> sub-commands will add or delete metadata associated with a particular file.
The files must already exist under the appropriate partition path. If new data files are created through some
external bulk process, then they must be registered using this command before they are queryable.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--partition</span> <span class="pre">*</span></code></p></td>
<td><p>The name of the partition to modify</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--files</span> <span class="pre">*</span></code></p></td>
<td><p>The names of the files being registered. May be specified
multiple times to register multiple files</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--count</span></code></p></td>
<td><p>The number of features in the files being registered. This
is not required, but can be used later for estimating query
sizes</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--bounds</span></code></p></td>
<td><p>Geographic bounds of the data files being registered, in the
form <code class="docutils literal notranslate"><span class="pre">xmin,ymin,xmax,ymax</span></code>. This is not required, but can
be used later for estimating query bounds</p></td>
</tr>
</tbody>
</table>
</section>
<section id="check-consistency">
<h4><span class="section-number">19.5.1.6.3. </span><code class="docutils literal notranslate"><span class="pre">check-consistency</span></code><a class="headerlink" href="#check-consistency" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">check-consistency</span></code> sub-command will check the metadata against the data files. It will
find data files that are not referenced in the metadata, and metadata entries that do not
correspond to data files.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--partitions</span></code></p></td>
<td><p>The name of partitions to check, or none for all partitions</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--repair</span></code></p></td>
<td><p>Incrementally update the metadata to fix any inconsistencies found</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--rebuild</span></code></p></td>
<td><p>Rebuild the entire metadata based on the data files found</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--force</span></code></p></td>
<td><p>Force execution without prompting</p></td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Using both <code class="docutils literal notranslate"><span class="pre">--partitions</span></code> and <code class="docutils literal notranslate"><span class="pre">--rebuild</span></code> will cause any data files not in the specified
partitions to be removed from the metadata.</p>
</div>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="geoserver.html" class="btn btn-neutral float-left" title="19.4. Using the FileSystem Data Store in GeoServer" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="configuration.html" class="btn btn-neutral float-right" title="19.6. FileSystem DataStore Configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  

<div role="contentinfo">
  <p>
    &copy; Copyright 2013-2024 <a href="https://www.ga-ccri.com/">General Atomics</a>
    <br/>
    Licensed under the <a href="https://www.opensource.org/licenses/apache2.0.php">Apache License, Version 2.0</a>
  </p>
</div>

<div role="contentinfo">
  <p>
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
    using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>
    - contribute to this page on
    <a href="https://github.com/locationtech/geomesa/edit/main/docs/user/filesystem/commandline.rst">GitHub <img src="../../_static/launch.svg"/></a>
  </p>

</div>



</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>