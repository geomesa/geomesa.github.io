<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>22.2. Installing GeoMesa Lambda &mdash; GeoMesa 6.0.0-SNAPSHOT Manuals</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme_custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="canonical" href="https://www.geomesa.org/documentation/stable/user/lambda/install.html"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="22.3. Lambda Data Store Parameters" href="usage.html" />
    <link rel="prev" title="22.1. Overview of the Lambda Data Store" href="overview.html" />


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> GeoMesa
          </a>
              <div class="version">
                6.0.0-SNAPSHOT
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html">2. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../download.html">3. Versions and Downloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html">4. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html">5. Architecture Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geotools.html">6. GeoTools Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datastores/index.html">7. GeoMesa Data Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/index.html">8. Command-Line Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../convert/index.html">9. GeoMesa Converters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geoserver.html">10. GeoServer Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spark/index.html">11. GeoMesa Spark</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nifi/index.html">12. GeoMesa NiFi Bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../process.html">13. GeoMesa Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../accumulo/index.html">14. Accumulo Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hbase/index.html">15. HBase Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cassandra/index.html">16. Cassandra Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scylladb/index.html">17. ScyllaDB Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../postgis/index.html">18. Partitioned PostGIS Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kafka/index.html">19. Kafka Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../redis/index.html">20. Redis Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../filesystem/index.html">21. FileSystem Data Store</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">22. Lambda Data Store</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="overview.html">22.1. Overview of the Lambda Data Store</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">22.2. Installing GeoMesa Lambda</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#installing-from-the-binary-distribution">22.2.1. Installing from the Binary Distribution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#building-from-source">22.2.2. Building from Source</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installing-the-accumulo-distributed-runtime-library">22.2.3. Installing the Accumulo Distributed Runtime Library</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setting-up-the-lambda-command-line-tools">22.2.4. Setting up the Lambda Command Line Tools</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installing-geomesa-lambda-in-geoserver">22.2.5. Installing GeoMesa Lambda in GeoServer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#upgrading">22.2.6. Upgrading</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="usage.html">22.3. Lambda Data Store Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="geoserver.html">22.4. Using the Lambda Data Store in GeoServer</a></li>
<li class="toctree-l3"><a class="reference internal" href="commandline.html">22.5. Lambda Command-Line Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html">22.6. Lambda Data Store Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="index_config.html">22.7. Lambda Index Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced.html">22.8. Advanced Topics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ds_views.html">23. Combined Data Store Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/index.html">24. Upgrade Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#appendix">Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GeoMesa</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">User Manual</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">22. </span>Lambda Data Store</a></li>
      <li class="breadcrumb-item active"><span class="section-number">22.2. </span>Installing GeoMesa Lambda</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="installing-geomesa-lambda">
<h1><span class="section-number">22.2. </span>Installing GeoMesa Lambda<a class="headerlink" href="#installing-geomesa-lambda" title="Permalink to this headline">¶</a></h1>
<section id="installing-from-the-binary-distribution">
<h2><span class="section-number">22.2.1. </span>Installing from the Binary Distribution<a class="headerlink" href="#installing-from-the-binary-distribution" title="Permalink to this headline">¶</a></h2>
<p>GeoMesa Lambda artifacts are available for download or can be built from source.
The easiest way to get started is to download the most recent binary version from <a class="reference external" href="https://github.com/locationtech/geomesa/releases">GitHub</a>.</p>
<p>Download and extract it somewhere convenient:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># download and unpackage the most recent distribution:</span>
$<span class="w"> </span>wget<span class="w"> </span><span class="s2">&quot;https://github.com/locationtech/geomesa/releases/download/geomesa-6.0.0-SNAPSHOT/geomesa-lambda_2.12-6.0.0-SNAPSHOT-bin.tar.gz&quot;</span>
$<span class="w"> </span>tar<span class="w"> </span>xvf<span class="w"> </span>geomesa-lambda_2.12-6.0.0-SNAPSHOT-bin.tar.gz
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>geomesa-lambda_2.12-6.0.0-SNAPSHOT
</pre></div>
</div>
</section>
<section id="building-from-source">
<span id="lambda-install-source"></span><h2><span class="section-number">22.2.2. </span>Building from Source<a class="headerlink" href="#building-from-source" title="Permalink to this headline">¶</a></h2>
<p>GeoMesa Lambda may also be built from source. For more information, refer to the instructions on
<a class="reference external" href="https://github.com/locationtech/geomesa#building-from-source">GitHub</a>.
The remainder of the instructions in this chapter assume the use of the binary GeoMesa Lambda
distribution. If you have built from source, the distribution is created in the <code class="docutils literal notranslate"><span class="pre">target</span></code> directory of
<code class="docutils literal notranslate"><span class="pre">geomesa-lambda/geomesa-lambda</span></code>.</p>
</section>
<section id="installing-the-accumulo-distributed-runtime-library">
<span id="install-lambda-runtime"></span><h2><span class="section-number">22.2.3. </span>Installing the Accumulo Distributed Runtime Library<a class="headerlink" href="#installing-the-accumulo-distributed-runtime-library" title="Permalink to this headline">¶</a></h2>
<p>The Lambda data store requires the Accumulo data store distributed runtime to be installed. See
<a class="reference internal" href="../accumulo/install.html#install-accumulo-runtime"><span class="std std-ref">Installing the Accumulo Distributed Runtime Library</span></a>.</p>
</section>
<section id="setting-up-the-lambda-command-line-tools">
<span id="setting-up-lambda-commandline"></span><h2><span class="section-number">22.2.4. </span>Setting up the Lambda Command Line Tools<a class="headerlink" href="#setting-up-the-lambda-command-line-tools" title="Permalink to this headline">¶</a></h2>
<p>GeoMesa comes with a set of command line tools located in <code class="docutils literal notranslate"><span class="pre">geomesa-lambda_2.12-6.0.0-SNAPSHOT/bin/</span></code> of the binary distribution.</p>
<section id="configuring-the-classpath">
<h3><span class="section-number">22.2.4.1. </span>Configuring the Classpath<a class="headerlink" href="#configuring-the-classpath" title="Permalink to this headline">¶</a></h3>
<p>GeoMesa needs Accumulo, Hadoop and Kafka JARs on the classpath. These are not bundled by default, as they should match
the versions installed on the target system.</p>
<p>If the environment variables <code class="docutils literal notranslate"><span class="pre">ACCUMULO_HOME</span></code>, <code class="docutils literal notranslate"><span class="pre">HADOOP_HOME</span></code> and <code class="docutils literal notranslate"><span class="pre">KAFKA_HOME</span></code> are set, then GeoMesa will load
the appropriate JARs and configuration files from those locations and no further configuration is required. Otherwise,
you will be prompted to download the appropriate JARs the first time you invoke the tools. Environment variables can be
specified in <code class="docutils literal notranslate"><span class="pre">conf/*-env.sh</span></code> and dependency versions can be specified in <code class="docutils literal notranslate"><span class="pre">conf/dependencies.sh</span></code>.</p>
<p>In order to run map/reduce jobs, the Hadoop <code class="docutils literal notranslate"><span class="pre">*-site.xml</span></code> configuration files from your Hadoop installation
must be on the classpath. If <code class="docutils literal notranslate"><span class="pre">HADOOP_HOME</span></code> is not set, then copy them into <code class="docutils literal notranslate"><span class="pre">geomesa-lamdba_2.12-6.0.0-SNAPSHOT/conf</span></code>.</p>
<p>GeoMesa also provides the ability to add additional JARs to the classpath using the environmental variable
<code class="docutils literal notranslate"><span class="pre">GEOMESA_EXTRA_CLASSPATHS</span></code>. GeoMesa will prepend the contents of this environmental variable  to the computed
classpath, giving it highest precedence in the classpath. Users can provide directories of jar files or individual
files using a colon (<code class="docutils literal notranslate"><span class="pre">:</span></code>) as a delimiter. These entries will also be added the the map-reduce libjars variable.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See <a class="reference internal" href="../cli/logging.html#slf4j-configuration"><span class="std std-ref">Logging Configuration</span></a> for information about configuring the SLF4J implementation.</p>
</div>
<p>Due to licensing restrictions, dependencies for shape file support must be separately installed.
Do this with the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./bin/install-shapefile-support.sh
</pre></div>
</div>
<p>Test the command that invokes the GeoMesa Tools:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>geomesa-lambda
</pre></div>
</div>
<p>The output should look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Usage</span><span class="p">:</span> <span class="n">geomesa</span><span class="o">-</span><span class="k">lambda</span> <span class="p">[</span><span class="n">command</span><span class="p">]</span> <span class="p">[</span><span class="n">command</span> <span class="n">options</span><span class="p">]</span>
  <span class="n">Commands</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>GeoMesa Accumulo command-line tools can be used against features which have been persisted to Accumulo.
See <a class="reference internal" href="../accumulo/install.html#setting-up-accumulo-commandline"><span class="std std-ref">Setting up the Accumulo Command Line Tools</span></a> for details on the Accumulo command-line tools.</p>
</div>
</section>
</section>
<section id="installing-geomesa-lambda-in-geoserver">
<span id="install-lambda-geoserver"></span><h2><span class="section-number">22.2.5. </span>Installing GeoMesa Lambda in GeoServer<a class="headerlink" href="#installing-geomesa-lambda-in-geoserver" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>See <a class="reference internal" href="../geoserver.html#geoserver-versions"><span class="std std-ref">GeoServer Versions</span></a> to ensure that GeoServer is compatible with your GeoMesa version.</p>
</div>
<section id="installing-geoserver">
<h3><span class="section-number">22.2.5.1. </span>Installing GeoServer<a class="headerlink" href="#installing-geoserver" title="Permalink to this headline">¶</a></h3>
<p>As described in section <a class="reference internal" href="../architecture.html#geomesa-and-geoserver"><span class="std std-ref">GeoMesa and GeoServer</span></a>, GeoMesa implements a <a class="reference external" href="https://geotools.org/">GeoTools</a>-compatible data
store. This makes it possible to use GeoMesa as a data store in <a class="reference external" href="https://geoserver.org/">GeoServer</a>. GeoServer’s web site
includes <a class="reference external" href="https://docs.geoserver.org/stable/en/user/installation/index.html">installation instructions for GeoServer</a>.</p>
<p>After GeoServer is installed, you may install the WPS plugin if you plan to use GeoMesa processes. The GeoServer
WPS Plugin must match the version of the GeoServer instance. The GeoServer website includes instructions for
downloading and installing <a class="reference external" href="https://docs.geoserver.org/stable/en/user/services/wps/install.html">the WPS plugin</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If using Tomcat as a web server, it will most likely be necessary to
pass some custom options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">CATALINA_OPTS</span><span class="o">=</span><span class="s2">&quot;-Xmx8g -XX:MaxPermSize=512M -Duser.timezone=UTC </span><span class="se">\</span>
<span class="s2">-server -Djava.awt.headless=true&quot;</span>
</pre></div>
</div>
<p>The value of <code class="docutils literal notranslate"><span class="pre">-Xmx</span></code> should be as large as your system will permit. Be sure to restart
Tomcat for changes to take place.</p>
</div>
</section>
<section id="installing-the-geomesa-lambda-data-store">
<h3><span class="section-number">22.2.5.2. </span>Installing the GeoMesa Lambda Data Store<a class="headerlink" href="#installing-the-geomesa-lambda-data-store" title="Permalink to this headline">¶</a></h3>
<p>To install the GeoMesa data store, extract the contents of the
<code class="docutils literal notranslate"><span class="pre">geomesa-lambda-gs-plugin_2.12-6.0.0-SNAPSHOT-install.tar.gz</span></code> file in <code class="docutils literal notranslate"><span class="pre">geomesa-lambda_2.12-6.0.0-SNAPSHOT/dist/gs-plugins/</span></code>
in the binary distribution or <code class="docutils literal notranslate"><span class="pre">geomesa-lambda/geomesa-lambda-gs-plugin/target/</span></code> in the source
distribution into your GeoServer’s <code class="docutils literal notranslate"><span class="pre">lib</span></code> directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>tar<span class="w"> </span>-xzvf<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>geomesa-lambda_2.12-6.0.0-SNAPSHOT/dist/gs-plugins/geomesa-lambda-gs-plugin_2.12-6.0.0-SNAPSHOT-install.tar.gz<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-C<span class="w"> </span>/path/to/geoserver/webapps/geoserver/WEB-INF/lib
</pre></div>
</div>
<p>Next, install the JARs for Accumulo, Hadoop and Kafka. By default, JARs will be downloaded from Maven central. You may
override this by setting the environment variable <code class="docutils literal notranslate"><span class="pre">GEOMESA_MAVEN_URL</span></code>. If you do no have an internet connection
you can download the JARs manually.</p>
<p>Edit the file <code class="docutils literal notranslate"><span class="pre">geomesa-lambda_2.12-6.0.0-SNAPSHOT/conf/dependencies.sh</span></code> to set the versions of Accumulo, Hadoop and Kafka
to match the target environment, and then run the script:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./bin/install-dependencies.sh<span class="w"> </span>/path/to/geoserver/webapps/geoserver/WEB-INF/lib
</pre></div>
</div>
<p>Restart GeoServer after the JARs are installed.</p>
</section>
<section id="geomesa-process">
<span id="install-geomesa-process-lambda"></span><h3><span class="section-number">22.2.5.3. </span>GeoMesa Process<a class="headerlink" href="#geomesa-process" title="Permalink to this headline">¶</a></h3>
<p>GeoMesa provides some WPS processes, such as <code class="docutils literal notranslate"><span class="pre">geomesa:Density</span></code> which is used to generate heat maps. In order
to use these processes, install the GeoServer WPS plugin as described in <a class="reference internal" href="../process.html#geomesa-process"><span class="std std-ref">GeoMesa Processes</span></a>.</p>
</section>
</section>
<section id="upgrading">
<h2><span class="section-number">22.2.6. </span>Upgrading<a class="headerlink" href="#upgrading" title="Permalink to this headline">¶</a></h2>
<p>To upgrade between minor releases of GeoMesa, the versions of all GeoMesa components
<strong>must</strong> match. This means that the version of the <code class="docutils literal notranslate"><span class="pre">geomesa-distributed-runtime</span></code>
JAR installed on Accumulo tablet servers <strong>must</strong> match the version of the
<code class="docutils literal notranslate"><span class="pre">geomesa-plugin</span></code> JARs installed in the <code class="docutils literal notranslate"><span class="pre">WEB-INF/lib</span></code> directory of GeoServer.</p>
<p>See <a class="reference internal" href="../upgrade/index.html#upgrade-guide"><span class="std std-ref">Upgrade Guide</span></a> for more details on upgrading between versions.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="overview.html" class="btn btn-neutral float-left" title="22.1. Overview of the Lambda Data Store" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="usage.html" class="btn btn-neutral float-right" title="22.3. Lambda Data Store Parameters" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  

<div role="contentinfo">
  <p>
    &copy; Copyright 2013-2025 <a href="https://www.ga-intelligence.com/">General Atomics</a>
    <br/>
    Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>
  </p>
</div>

<div role="contentinfo">
  <p>
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
    using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>
    - contribute to this page on
    <a href="https://github.com/locationtech/geomesa/edit/main/docs/user/lambda/install.rst">GitHub <img src="../../_static/launch.svg"/></a>
  </p>

</div>



</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>