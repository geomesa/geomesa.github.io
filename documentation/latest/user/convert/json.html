<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>10.9. JSON Converter &mdash; GeoMesa 6.0.0-SNAPSHOT Manuals</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme_custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="canonical" href="https://www.geomesa.org/documentation/stable/user/convert/json.html"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="10.10. XML Converter" href="xml.html" />
    <link rel="prev" title="10.8. Delimited Text Converter" href="delimited_text.html" />


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> GeoMesa
          </a>
              <div class="version">
                6.0.0-SNAPSHOT
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html">2. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../download.html">3. Versions and Downloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html">4. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html">5. Architecture Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geotools.html">6. GeoTools Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datastores/index.html">7. GeoMesa Data Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../process/index.html">8. GeoMesa Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/index.html">9. Command-Line Tools</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">10. GeoMesa Converters</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="common.html">10.1. Converter Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="parsing_and_validation.html">10.2. Parsing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="cache.html">10.3. Enrichment Caches</a></li>
<li class="toctree-l3"><a class="reference internal" href="composite.html">10.4. Composite Converters</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage_tools.html">10.5. Command-Line Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage_code.html">10.6. Programmatic Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="extending.html">10.7. Extending the Converter Library</a></li>
<li class="toctree-l3"><a class="reference internal" href="delimited_text.html">10.8. Delimited Text Converter</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">10.9. JSON Converter</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#configuration">10.9.1. Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#field-configuration">10.9.2. Field Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#transform-functions">10.9.3. Transform Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#complex-elements">10.9.4. Complex Elements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#json-composite-converters">10.9.5. JSON Composite Converters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-usage">10.9.6. Example Usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="xml.html">10.10. XML Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="avro.html">10.11. Avro Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="avro_schema_registry.html">10.12. Avro Schema Registry Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="parquet.html">10.13. Parquet Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="shp.html">10.14. Shapefile Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="fixed_width.html">10.15. Fixed-Width Text Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="jdbc.html">10.16. JDBC Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="feature_to_feature.html">10.17. Feature-To-Feature Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="functions.html">10.18. Transformation Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="premade/index.html">10.19. Prepackaged Converters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../geoserver.html">11. GeoServer Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spark/index.html">12. GeoMesa Spark</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nifi/index.html">13. GeoMesa NiFi Bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../accumulo/index.html">14. Accumulo Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hbase/index.html">15. HBase Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cassandra/index.html">16. Cassandra Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scylladb/index.html">17. ScyllaDB Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../postgis/index.html">18. Partitioned PostGIS Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kafka/index.html">19. Kafka Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../redis/index.html">20. Redis Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../filesystem/index.html">21. FileSystem Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lambda/index.html">22. Lambda Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ds_views.html">23. Combined Data Store Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/index.html">24. Upgrade Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#appendix">Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GeoMesa</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">User Manual</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">10. </span>GeoMesa Converters</a></li>
      <li class="breadcrumb-item active"><span class="section-number">10.9. </span>JSON Converter</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="json-converter">
<span id="id1"></span><h1><span class="section-number">10.9. </span>JSON Converter<a class="headerlink" href="#json-converter" title="Permalink to this headline">¶</a></h1>
<p>The JSON converter processes JSON files. It can read multiple JSON documents out of a single input.</p>
<section id="configuration">
<h2><span class="section-number">10.9.1. </span>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>The JSON converter supports the following configuration keys:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">type</span></code></p></td>
<td><p>yes</p></td>
<td><p>String</p></td>
<td><p>Must be the string <code class="docutils literal notranslate"><span class="pre">json</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">feature-path</span></code></p></td>
<td><p>no</p></td>
<td><p>String</p></td>
<td><p>A JSON path expression used to select multiple features from a single document.</p></td>
</tr>
</tbody>
</table>
<section id="feature-path">
<h3><span class="section-number">10.9.1.1. </span><code class="docutils literal notranslate"><span class="pre">feature-path</span></code><a class="headerlink" href="#feature-path" title="Permalink to this headline">¶</a></h3>
<p>Since a single JSON document may contain multiple features, the JSON parser supports a
<a class="reference external" href="https://goessner.net/articles/JsonPath/">JSONPath</a> expression pointing to each feature element.</p>
</section>
</section>
<section id="field-configuration">
<h2><span class="section-number">10.9.2. </span>Field Configuration<a class="headerlink" href="#field-configuration" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">fields</span></code> element in a JSON converter supports additional keys:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 89%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">path</span></code></p></td>
<td><p>A JSON path expression used to extract the field value, relative to the <code class="docutils literal notranslate"><span class="pre">feature-path</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">root-path</span></code></p></td>
<td><p>An absolute JSON path expression used to extract the field value, used in place of <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">json-type</span></code></p></td>
<td><p>The type of JSON field being read.</p></td>
</tr>
</tbody>
</table>
<section id="path">
<h3><span class="section-number">10.9.2.1. </span><code class="docutils literal notranslate"><span class="pre">path</span></code><a class="headerlink" href="#path" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">path</span></code> will be used to extract a value from the JSON document, using a <a class="reference external" href="https://goessner.net/articles/JsonPath/">JSONPath</a>
expression. It is relative to the <code class="docutils literal notranslate"><span class="pre">feature-path</span></code>, if defined (see above). The extracted value will be available in the
<code class="docutils literal notranslate"><span class="pre">transform</span></code> element as <code class="docutils literal notranslate"><span class="pre">$0</span></code>.</p>
</section>
<section id="root-path">
<h3><span class="section-number">10.9.2.2. </span><code class="docutils literal notranslate"><span class="pre">root-path</span></code><a class="headerlink" href="#root-path" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">root-path</span></code> can be used instead of <code class="docutils literal notranslate"><span class="pre">path</span></code>, in order to select an absolute path out of the JSON document. The extracted value
will be available in the <code class="docutils literal notranslate"><span class="pre">transform</span></code> element as <code class="docutils literal notranslate"><span class="pre">$0</span></code>.</p>
</section>
<section id="json-type">
<h3><span class="section-number">10.9.2.3. </span><code class="docutils literal notranslate"><span class="pre">json-type</span></code><a class="headerlink" href="#json-type" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">json-type</span></code> specifies the type of JSON field being read. Valid values are: <code class="docutils literal notranslate"><span class="pre">string</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">double</span></code>, <code class="docutils literal notranslate"><span class="pre">integer</span></code>,
<code class="docutils literal notranslate"><span class="pre">long</span></code>, <code class="docutils literal notranslate"><span class="pre">boolean</span></code>, <code class="docutils literal notranslate"><span class="pre">geometry</span></code>, <code class="docutils literal notranslate"><span class="pre">array</span></code> and <code class="docutils literal notranslate"><span class="pre">object</span></code>.  Geometry types can handle either WKT strings or GeoJSON geometry
objects. Most types will be converted to the equivalent Java class, e.g. <code class="docutils literal notranslate"><span class="pre">java.lang.Integer</span></code>, etc. <code class="docutils literal notranslate"><span class="pre">array</span></code> and <code class="docutils literal notranslate"><span class="pre">object</span></code>
types will be raw JSON elements, and thus usually require further processing (e.g. <code class="docutils literal notranslate"><span class="pre">jsonList</span></code> or <code class="docutils literal notranslate"><span class="pre">jsonMap</span></code>, below).</p>
</section>
</section>
<section id="transform-functions">
<span id="json-converter-functions"></span><h2><span class="section-number">10.9.3. </span>Transform Functions<a class="headerlink" href="#transform-functions" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">transform</span></code> element supports referencing the JSON element (selected through <code class="docutils literal notranslate"><span class="pre">path</span></code> or <code class="docutils literal notranslate"><span class="pre">root-path</span></code>, see above) through
<code class="docutils literal notranslate"><span class="pre">$0</span></code>.</p>
<p>In addition to the standard <a class="reference internal" href="functions.html#converter-functions"><span class="std std-ref">Transformation Functions</span></a>, the JSON converter provides the following JSON-specific functions:</p>
<section id="emptyjsontonull">
<h3><span class="section-number">10.9.3.1. </span>emptyJsonToNull<a class="headerlink" href="#emptyjsontonull" title="Permalink to this headline">¶</a></h3>
<p>This function converts empty JSON objects and arrays to null. A JSON object is also considered empty if all its
values are null.</p>
</section>
<section id="jsonarraytoobject">
<h3><span class="section-number">10.9.3.2. </span>jsonArrayToObject<a class="headerlink" href="#jsonarraytoobject" title="Permalink to this headline">¶</a></h3>
<p>This function converts a JSON array into a JSON object, by using the index of each array element as the object
key. This is useful for GeoMesa’s JSON attribute types, which currently require a top-level object and not an array.</p>
</section>
<section id="jsonlist">
<h3><span class="section-number">10.9.3.3. </span>jsonList<a class="headerlink" href="#jsonlist" title="Permalink to this headline">¶</a></h3>
<p>This function converts a JSON array element into a <code class="docutils literal notranslate"><span class="pre">java.util.List</span></code>. It requires two parameters; the first is the
type of the list elements as a string, and the second is a JSON array. The type of list elements must be one
of the types defined in <a class="reference internal" href="../datastores/attributes.html#attribute-types"><span class="std std-ref">GeoTools Feature Types</span></a>. See below for an example.</p>
</section>
<section id="jsonmap">
<h3><span class="section-number">10.9.3.4. </span>jsonMap<a class="headerlink" href="#jsonmap" title="Permalink to this headline">¶</a></h3>
<p>This function converts a JSON object element into a <code class="docutils literal notranslate"><span class="pre">java.util.Map</span></code>. It requires three parameters; the first is the
type of the map key elements as a string, the second is the type of the map value elements as a string, and the
third is a JSON object. The type of keys and values must be one of the types defined in <a class="reference internal" href="../datastores/attributes.html#attribute-types"><span class="std std-ref">GeoTools Feature Types</span></a>.
See below for an example.</p>
</section>
<section id="jsonpath">
<h3><span class="section-number">10.9.3.5. </span>jsonPath<a class="headerlink" href="#jsonpath" title="Permalink to this headline">¶</a></h3>
<p>This function will evaluate a <a class="reference external" href="https://goessner.net/articles/JsonPath/">JSONPath</a> expression against a
given JSON element. Generally, it is better to use the <code class="docutils literal notranslate"><span class="pre">path</span></code> key of the <code class="docutils literal notranslate"><span class="pre">fields</span></code> element, but
this method can be useful for composite predicates (see below). The first argument is the path to evaluate,
and the second argument is the element to operate on.</p>
</section>
<section id="maptojson">
<h3><span class="section-number">10.9.3.6. </span>mapToJson<a class="headerlink" href="#maptojson" title="Permalink to this headline">¶</a></h3>
<p>This function converts a <code class="docutils literal notranslate"><span class="pre">java.util.Map</span></code> into a JSON string. It requires a single parameter, which must be a
<code class="docutils literal notranslate"><span class="pre">java.util.Map</span></code>. It can be useful for storing complex JSON as a single attribute, which can then be queried
using GeoMesa’s JSON attribute support. See <a class="reference internal" href="../datastores/json.html#json-attributes"><span class="std std-ref">JSON Attributes</span></a> for more information.</p>
</section>
<section id="newjsonobject">
<h3><span class="section-number">10.9.3.7. </span>newJsonObject<a class="headerlink" href="#newjsonobject" title="Permalink to this headline">¶</a></h3>
<p>This function creates a new JSON object from key-value pairs. It can be useful for generating JSON text values.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fields</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;$.foo&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">-</span><span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;string&quot;</span> <span class="p">}</span>
  <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;$.bar&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">-</span><span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;array&quot;</span> <span class="p">}</span>
  <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;foobar&quot;</span><span class="p">,</span> <span class="n">transform</span> <span class="o">=</span> <span class="s2">&quot;toString(newJsonObject(&#39;foo&#39;, $foo, &#39;bar&#39;, $bar))&quot;</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
</section>
<section id="complex-elements">
<h2><span class="section-number">10.9.4. </span>Complex Elements<a class="headerlink" href="#complex-elements" title="Permalink to this headline">¶</a></h2>
<p>JSON can contain complex, nested elements that don’t necessarily map well to the flat attribute structure used
by <code class="docutils literal notranslate"><span class="pre">SimpleFeatureTypes</span></code>. These type of elements can be handled directly using GeoMesa’s support for
<a class="reference internal" href="../datastores/json.html#json-attributes"><span class="std std-ref">JSON Attributes</span></a>. In your <code class="docutils literal notranslate"><span class="pre">SimpleFeatureType</span></code> schema, indicate a complex JSON string through the
user data hint <code class="docutils literal notranslate"><span class="pre">json=true</span></code>. In your converter, select the outer element and then turn it into a JSON string
through the <code class="docutils literal notranslate"><span class="pre">toString</span></code> transformer function. You will be able to filter and transform the data using JSONPath
at query time. See <a class="reference internal" href="../datastores/json.html#json-attributes"><span class="std std-ref">JSON Attributes</span></a> for more details.</p>
</section>
<section id="json-composite-converters">
<h2><span class="section-number">10.9.5. </span>JSON Composite Converters<a class="headerlink" href="#json-composite-converters" title="Permalink to this headline">¶</a></h2>
<p>Composite converters can handle processing different JSON formats in a single stream. To use a composite
converter, specify <code class="docutils literal notranslate"><span class="pre">type</span> <span class="pre">=</span> <span class="pre">&quot;composite-json&quot;</span></code> in your converter definition.</p>
<p>Composite converters can define top-level options, fields, etc, the same as a normal JSON converter. These
values will be inherited by each of the child converters. If each child is unique, then it is valid to not
define anything at the top level.</p>
<p>Composite converters must define a <code class="docutils literal notranslate"><span class="pre">converters</span></code> element, which is an array of nested JSON converter
definitions. In addition to the standard configuration, each nested converter must have a <code class="docutils literal notranslate"><span class="pre">predicate</span></code>
element that determines which converter to use for each JSON document. The value passed into the predicate
will be the parsed JSON document (available as <code class="docutils literal notranslate"><span class="pre">$0</span></code>), so generally the predicate will make use of the
<code class="docutils literal notranslate"><span class="pre">jsonPath</span></code> function (see above). See <a class="reference internal" href="composite.html#composite-predicates"><span class="std std-ref">Predicates</span></a> for more details on predicates.</p>
</section>
<section id="example-usage">
<h2><span class="section-number">10.9.6. </span>Example Usage<a class="headerlink" href="#example-usage" title="Permalink to this headline">¶</a></h2>
<p>Assume the following SimpleFeatureType:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">geomesa</span><span class="o">.</span><span class="n">sfts</span><span class="o">.</span><span class="n">example</span> <span class="o">=</span> <span class="p">{</span>
  <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span>    <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;String&quot;</span>          <span class="p">}</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;age&quot;</span><span class="p">,</span>     <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;Integer&quot;</span>         <span class="p">}</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;weight&quot;</span><span class="p">,</span>  <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;Double&quot;</span>          <span class="p">}</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;hobbies&quot;</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;List[String]&quot;</span>    <span class="p">}</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;skills&quot;</span><span class="p">,</span>  <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;Map[String,Int]&quot;</span> <span class="p">}</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;source&quot;</span><span class="p">,</span>  <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;String&quot;</span>          <span class="p">}</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;geom&quot;</span><span class="p">,</span>    <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;Point&quot;</span>           <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>And the following JSON document:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;DataSource&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;myjson&quot;</span> <span class="p">},</span>
  <span class="s2">&quot;Features&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;phil&quot;</span><span class="p">,</span>
      <span class="s2">&quot;physicals&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span>
        <span class="s2">&quot;weight&quot;</span><span class="p">:</span> <span class="mf">150.2</span>
      <span class="p">},</span>
      <span class="s2">&quot;hobbies&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;baseball&quot;</span><span class="p">,</span> <span class="s2">&quot;soccer&quot;</span> <span class="p">],</span>
      <span class="s2">&quot;languages&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;java&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="s2">&quot;scala&quot;</span><span class="p">:</span> <span class="mi">70</span>
      <span class="p">},</span>
      <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Point&quot;</span><span class="p">,</span> <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">55</span><span class="p">,</span> <span class="mi">56</span><span class="p">]</span> <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;fred&quot;</span><span class="p">,</span>
      <span class="s2">&quot;physicals&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">33</span><span class="p">,</span>
        <span class="s2">&quot;weight&quot;</span><span class="p">:</span> <span class="mf">150.1</span>
      <span class="p">},</span>
      <span class="s2">&quot;hobbies&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;archery&quot;</span><span class="p">,</span> <span class="s2">&quot;tennis&quot;</span> <span class="p">],</span>
      <span class="s2">&quot;languages&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;c++&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s2">&quot;fortran&quot;</span><span class="p">:</span> <span class="mi">50</span>
      <span class="p">},</span>
      <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Point&quot;</span><span class="p">,</span> <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">45</span><span class="p">,</span> <span class="mi">46</span><span class="p">]</span> <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>You could ingest with the following converter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">geomesa</span><span class="o">.</span><span class="n">converters</span><span class="o">.</span><span class="n">myjson</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nb">type</span>         <span class="o">=</span> <span class="s2">&quot;json&quot;</span>
  <span class="nb">id</span><span class="o">-</span><span class="n">field</span>     <span class="o">=</span> <span class="s2">&quot;$id&quot;</span>
  <span class="n">feature</span><span class="o">-</span><span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;$.Features[*]&quot;</span>
  <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;id&quot;</span><span class="p">,</span>      <span class="n">json</span><span class="o">-</span><span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>  <span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;$.id&quot;</span><span class="p">,</span>               <span class="n">transform</span> <span class="o">=</span> <span class="s2">&quot;toString($0)&quot;</span>                <span class="p">}</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span>    <span class="n">json</span><span class="o">-</span><span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>   <span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;$.name&quot;</span><span class="p">,</span>             <span class="n">transform</span> <span class="o">=</span> <span class="s2">&quot;trim($0)&quot;</span>                    <span class="p">}</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;age&quot;</span><span class="p">,</span>     <span class="n">json</span><span class="o">-</span><span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>  <span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;$.physicals.age&quot;</span><span class="p">,</span>                                              <span class="p">}</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;weight&quot;</span><span class="p">,</span>  <span class="n">json</span><span class="o">-</span><span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;double&quot;</span><span class="p">,</span>   <span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;$.physicals.weight&quot;</span>                                            <span class="p">}</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;hobbies&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">-</span><span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span>    <span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;$.hobbies&quot;</span><span class="p">,</span>          <span class="n">transform</span> <span class="o">=</span> <span class="s2">&quot;jsonList(&#39;string&#39;, $0)&quot;</span>      <span class="p">}</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;skills&quot;</span><span class="p">,</span>  <span class="n">json</span><span class="o">-</span><span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;map&quot;</span><span class="p">,</span>      <span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;$.languages&quot;</span><span class="p">,</span>        <span class="n">transform</span> <span class="o">=</span> <span class="s2">&quot;jsonMap(&#39;string&#39;,&#39;int&#39;, $0)&quot;</span> <span class="p">}</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;geom&quot;</span><span class="p">,</span>    <span class="n">json</span><span class="o">-</span><span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;geometry&quot;</span><span class="p">,</span> <span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;$.geometry&quot;</span><span class="p">,</span>         <span class="n">transform</span> <span class="o">=</span> <span class="s2">&quot;point($0)&quot;</span>                   <span class="p">}</span>
    <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;source&quot;</span><span class="p">,</span>  <span class="n">json</span><span class="o">-</span><span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>   <span class="n">root</span><span class="o">-</span><span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;$.DataSource.name&quot;</span>                                        <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="delimited_text.html" class="btn btn-neutral float-left" title="10.8. Delimited Text Converter" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="xml.html" class="btn btn-neutral float-right" title="10.10. XML Converter" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  

<div role="contentinfo">
  <p>
    &copy; Copyright 2013-2025 <a href="https://www.ga-intelligence.com/">General Atomics</a>
    <br/>
    Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>
  </p>
</div>

<div role="contentinfo">
  <p>
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
    using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>
    - contribute to this page on
    <a href="https://github.com/locationtech/geomesa/edit/main/docs/user/convert/json.rst">GitHub <img src="../../_static/launch.svg"/></a>
  </p>

</div>



</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>