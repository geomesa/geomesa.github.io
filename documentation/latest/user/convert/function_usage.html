<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>9.19. Transformation Function Usage &mdash; GeoMesa 5.4.0-SNAPSHOT Manuals</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme_custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="canonical" href="https://www.geomesa.org/documentation/stable/user/convert/function_usage.html"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="9.20. Extending the Converter Library" href="extending.html" />
    <link rel="prev" title="9.18. Transformation Function Overview" href="function_overview.html" />


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> GeoMesa
          </a>
              <div class="version">
                5.4.0-SNAPSHOT
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html">2. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../download.html">3. Versions and Downloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html">4. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html">5. Architecture Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geotools.html">6. GeoTools Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datastores/index.html">7. GeoMesa Data Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/index.html">8. Command-Line Tools</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">9. GeoMesa Converters</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="common.html">9.1. Converter Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="parsing_and_validation.html">9.2. Parsing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="cache.html">9.3. Using Caches for Enrichment</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage_tools.html">9.4. Using Converters with the Command-Line Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage_code.html">9.5. Using Converters Programmatically</a></li>
<li class="toctree-l3"><a class="reference internal" href="delimited_text.html">9.6. Delimited Text Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="json.html">9.7. JSON Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="xml.html">9.8. XML Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="avro.html">9.9. Avro Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="avro_schema_registry.html">9.10. Avro Schema Registry Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="parquet.html">9.11. Parquet Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="shp.html">9.12. Shapefile Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="fixed_width.html">9.13. Fixed-Width Text Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="jdbc.html">9.14. JDBC Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="composite.html">9.15. Composite Converters</a></li>
<li class="toctree-l3"><a class="reference internal" href="feature_to_feature.html">9.16. Feature-To-Feature Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="premade/index.html">9.17. Prepackaged Converter Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="function_overview.html">9.18. Transformation Function Overview</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">9.19. Transformation Function Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#control-functions">9.19.1. Control Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#string-functions">9.19.2. String Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#date-functions">9.19.3. Date Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#geometry-functions">9.19.4. Geometry Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id-functions">9.19.5. ID Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#type-conversions">9.19.6. Type Conversions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#math-functions">9.19.7. Math Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#list-and-map-functions">9.19.8. List and Map Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#encoding-functions">9.19.9. Encoding Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#state-functions">9.19.10. State Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enrichment-functions">9.19.11. Enrichment Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="extending.html">9.20. Extending the Converter Library</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../geoserver.html">10. GeoServer Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spark/index.html">11. GeoMesa Spark</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nifi/index.html">12. GeoMesa NiFi Bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../process.html">13. GeoMesa Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../accumulo/index.html">14. Accumulo Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hbase/index.html">15. HBase Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cassandra/index.html">16. Cassandra Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../postgis/index.html">17. Partitioned PostGIS Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kafka/index.html">18. Kafka Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../redis/index.html">19. Redis Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../filesystem/index.html">20. FileSystem Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lambda/index.html">21. Lambda Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ds_views.html">22. Combined Data Store Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade.html">23. Upgrade Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#appendix">Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GeoMesa</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">User Manual</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">9. </span>GeoMesa Converters</a></li>
      <li class="breadcrumb-item active"><span class="section-number">9.19. </span>Transformation Function Usage</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="transformation-function-usage">
<h1><span class="section-number">9.19. </span>Transformation Function Usage<a class="headerlink" href="#transformation-function-usage" title="Permalink to this headline">¶</a></h1>
<section id="control-functions">
<h2><span class="section-number">9.19.1. </span>Control Functions<a class="headerlink" href="#control-functions" title="Permalink to this headline">¶</a></h2>
<section id="try">
<h3><span class="section-number">9.19.1.1. </span>try<a class="headerlink" href="#try" title="Permalink to this headline">¶</a></h3>
<p>Description: Execute another function - if it fails, instead use a
default value</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">try($1,</span> <span class="pre">$2)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">try(&quot;1&quot;::int,</span> <span class="pre">0)</span> <span class="pre">=</span> <span class="pre">1</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">try(&quot;abcd&quot;::int,</span> <span class="pre">0)</span> <span class="pre">=</span> <span class="pre">0</span></code></p>
</section>
<section id="withdefault">
<h3><span class="section-number">9.19.1.2. </span>withDefault<a class="headerlink" href="#withdefault" title="Permalink to this headline">¶</a></h3>
<p>Description: Replace a value with the first non-null alternative, if the value is null</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">withDefault($1,</span> <span class="pre">$2...)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">withDefault('foo',</span> <span class="pre">'bar')</span> <span class="pre">=</span> <span class="pre">foo</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">withDefault('foo',</span> <span class="pre">'bar',</span> <span class="pre">'baz')</span> <span class="pre">=</span> <span class="pre">foo</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">withDefault(null,</span> <span class="pre">'bar',</span> <span class="pre">'baz')</span> <span class="pre">=</span> <span class="pre">bar</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">withDefault(null,</span> <span class="pre">null,</span> <span class="pre">'baz')</span> <span class="pre">=</span> <span class="pre">baz</span></code></p>
</section>
<section id="require">
<h3><span class="section-number">9.19.1.3. </span>require<a class="headerlink" href="#require" title="Permalink to this headline">¶</a></h3>
<p>Description: Throw an exception if the value is null, otherwise return the value</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">require($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">require('foo')</span> <span class="pre">=</span> <span class="pre">foo</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">require(null)</span> <span class="pre">//</span> <span class="pre">throws</span> <span class="pre">an</span> <span class="pre">error</span></code></p>
</section>
</section>
<section id="string-functions">
<h2><span class="section-number">9.19.2. </span>String Functions<a class="headerlink" href="#string-functions" title="Permalink to this headline">¶</a></h2>
<section id="strip">
<h3><span class="section-number">9.19.2.1. </span>strip<a class="headerlink" href="#strip" title="Permalink to this headline">¶</a></h3>
<p>Description: Removes characters from the start or end of a string. Defaults to whitespace.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">strip($1)</span></code> or <code class="docutils literal notranslate"><span class="pre">strip($1,</span> <span class="pre">$chars)</span></code></p>
<p>Examples: <code class="docutils literal notranslate"><span class="pre">strip('afoob',</span> <span class="pre">'abc')</span> <span class="pre">=</span> <span class="pre">foo</span></code>
<code class="docutils literal notranslate"><span class="pre">strip('foao',</span> <span class="pre">'abc')</span> <span class="pre">=</span> <span class="pre">foao</span></code>
<code class="docutils literal notranslate"><span class="pre">strip('\t</span> <span class="pre">foo</span> <span class="pre">')</span> <span class="pre">=</span> <span class="pre">foo</span></code></p>
</section>
<section id="stripquotes">
<h3><span class="section-number">9.19.2.2. </span>stripQuotes<a class="headerlink" href="#stripquotes" title="Permalink to this headline">¶</a></h3>
<p>Description: Remove double or single quotes from a the start or end of a string</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">stripQuotes($1)</span></code></p>
<p>Examples: <code class="docutils literal notranslate"><span class="pre">stripQuotes('&quot;foo&quot;')</span> <span class="pre">=</span> <span class="pre">foo</span></code>
<code class="docutils literal notranslate"><span class="pre">stripQuotes('\'foo\'')</span> <span class="pre">=</span> <span class="pre">foo</span></code>
<code class="docutils literal notranslate"><span class="pre">stripQuotes('fo&quot;o')</span> <span class="pre">=</span> <span class="pre">fo&quot;o</span></code></p>
</section>
<section id="stripprefix">
<h3><span class="section-number">9.19.2.3. </span>stripPrefix<a class="headerlink" href="#stripprefix" title="Permalink to this headline">¶</a></h3>
<p>Description: Removes characters from the start of a string. Whitespace is preserved.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">stripPrefix($1,</span> <span class="pre">$chars)</span></code></p>
<p>Examples: <code class="docutils literal notranslate"><span class="pre">stripPrefix('afoob',</span> <span class="pre">'abc')</span> <span class="pre">=</span> <span class="pre">foob</span></code></p>
</section>
<section id="stripsuffix">
<h3><span class="section-number">9.19.2.4. </span>stripSuffix<a class="headerlink" href="#stripsuffix" title="Permalink to this headline">¶</a></h3>
<p>Description: Removes characters from the end of a string. Whitespace is preserved.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">stripSuffix($1,</span> <span class="pre">$chars)</span></code></p>
<p>Examples: <code class="docutils literal notranslate"><span class="pre">stripSuffix('afoob',</span> <span class="pre">'abc')</span> <span class="pre">=</span> <span class="pre">afoo</span></code></p>
</section>
<section id="remove">
<h3><span class="section-number">9.19.2.5. </span>remove<a class="headerlink" href="#remove" title="Permalink to this headline">¶</a></h3>
<p>Description: Removes a substring from a string</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">remove($1,</span> <span class="pre">$substring)</span></code></p>
<p>Examples: <code class="docutils literal notranslate"><span class="pre">remove('foabco',</span> <span class="pre">'abc')</span> <span class="pre">=</span> <span class="pre">foo</span></code></p>
</section>
<section id="replace">
<h3><span class="section-number">9.19.2.6. </span>replace<a class="headerlink" href="#replace" title="Permalink to this headline">¶</a></h3>
<p>Description: Replaces a literal string with another string</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">replace($1,</span> <span class="pre">$toReplace,</span> <span class="pre">$replacement)</span></code></p>
<p>Examples: <code class="docutils literal notranslate"><span class="pre">replace('foobar',</span> <span class="pre">'ob',</span> <span class="pre">'ab')</span> <span class="pre">=</span> <span class="pre">foabar</span></code></p>
</section>
<section id="length">
<h3><span class="section-number">9.19.2.7. </span>length<a class="headerlink" href="#length" title="Permalink to this headline">¶</a></h3>
<p>Description: Returns the length of a string.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">length($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">length('foo')</span> <span class="pre">=</span> <span class="pre">3</span></code></p>
</section>
<section id="trim">
<h3><span class="section-number">9.19.2.8. </span>trim<a class="headerlink" href="#trim" title="Permalink to this headline">¶</a></h3>
<p>Description: Trim whitespace from around a string.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">trim($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">trim('</span>&#160; <span class="pre">foo</span> <span class="pre">')</span> <span class="pre">=</span> <span class="pre">foo</span></code></p>
</section>
<section id="capitalize">
<h3><span class="section-number">9.19.2.9. </span>capitalize<a class="headerlink" href="#capitalize" title="Permalink to this headline">¶</a></h3>
<p>Description: Capitalize a string.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">capitalize($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">capitalize('foo')</span> <span class="pre">=</span> <span class="pre">Foo</span></code></p>
</section>
<section id="lowercase">
<h3><span class="section-number">9.19.2.10. </span>lowercase<a class="headerlink" href="#lowercase" title="Permalink to this headline">¶</a></h3>
<p>Description: Lowercase a string.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">lowercase($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">lowercase('FOO')</span> <span class="pre">=</span> <span class="pre">foo</span></code></p>
</section>
<section id="uppercase">
<h3><span class="section-number">9.19.2.11. </span>uppercase<a class="headerlink" href="#uppercase" title="Permalink to this headline">¶</a></h3>
<p>Description: Uppercase a string.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">uppercase($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">uppercase('foo')</span> <span class="pre">=</span> <span class="pre">FOO</span></code></p>
</section>
<section id="regexreplace">
<h3><span class="section-number">9.19.2.12. </span>regexReplace<a class="headerlink" href="#regexreplace" title="Permalink to this headline">¶</a></h3>
<p>Description: Replace a given pattern with a target pattern in a string.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">regexReplace($regex,</span> <span class="pre">$replacement,</span> <span class="pre">$1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">regexReplace('foo'::r,</span> <span class="pre">'bar',</span> <span class="pre">'foobar')</span> <span class="pre">=</span> <span class="pre">barbar</span></code></p>
</section>
<section id="concatenate">
<h3><span class="section-number">9.19.2.13. </span>concatenate<a class="headerlink" href="#concatenate" title="Permalink to this headline">¶</a></h3>
<p>Description: Concatenate two strings.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">concatenate($0,</span> <span class="pre">$1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">concatenate('foo',</span> <span class="pre">'bar')</span> <span class="pre">=</span> <span class="pre">foobar</span></code></p>
</section>
<section id="substring">
<h3><span class="section-number">9.19.2.14. </span>substring<a class="headerlink" href="#substring" title="Permalink to this headline">¶</a></h3>
<p>Description: Return the substring of a string.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">substring($1,</span> <span class="pre">$startIndex,</span> <span class="pre">$endIndex)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">substring('foobarbaz',</span> <span class="pre">2,</span> <span class="pre">5)</span> <span class="pre">=</span> <span class="pre">oba</span></code></p>
</section>
<section id="tostring">
<h3><span class="section-number">9.19.2.15. </span>toString<a class="headerlink" href="#tostring" title="Permalink to this headline">¶</a></h3>
<p>Description: Convert another data type to a string.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">toString($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">concatenate(toString(5),</span> <span class="pre">toString(6))</span> <span class="pre">=</span> <span class="pre">'56'</span></code></p>
</section>
<section id="emptytonull">
<h3><span class="section-number">9.19.2.16. </span>emptyToNull<a class="headerlink" href="#emptytonull" title="Permalink to this headline">¶</a></h3>
<p>Description: Replace an empty string with <code class="docutils literal notranslate"><span class="pre">null</span></code>. Useful for setting optional attributes from delimited
text files, where inputs will never be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">emptyToNull($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">emptyToNull('')</span> <span class="pre">=</span> <span class="pre">null</span></code></p>
</section>
<section id="printf">
<h3><span class="section-number">9.19.2.17. </span>printf<a class="headerlink" href="#printf" title="Permalink to this headline">¶</a></h3>
<p>Description: Format custom strings.  As an implementation detail,
this function delegates to Java’s String <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html">formatting classes</a>.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">printf('patterns',</span> <span class="pre">$arg1,</span> <span class="pre">$arg2,</span> <span class="pre">...)'</span></code></p>
<dl class="simple">
<dt>Examples: <code class="docutils literal notranslate"><span class="pre">printf('%s-%s-%sT00:00:00.000Z',</span> <span class="pre">'2015',</span> <span class="pre">'01',</span> <span class="pre">'01')</span> <span class="pre">=</span> <span class="pre">'2015-01-01T00:00:00.000Z'</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">printf('%2f',</span> <span class="pre">divide(-1,</span> <span class="pre">2,</span> <span class="pre">3))</span> <span class="pre">=</span> <span class="pre">'-0.17'</span></code></p>
</dd>
</dl>
</section>
</section>
<section id="date-functions">
<h2><span class="section-number">9.19.3. </span>Date Functions<a class="headerlink" href="#date-functions" title="Permalink to this headline">¶</a></h2>
<p>The following table summarizes the predefined date formats by name. For dates that don’t match any of these
formats, a custom format can be used with the <code class="docutils literal notranslate"><span class="pre">date</span></code> function. <code class="docutils literal notranslate"><span class="pre">secsToDate</span></code> and <code class="docutils literal notranslate"><span class="pre">millisToDate</span></code> can be used
for parsing intervals since the Java epoch. See below for full descriptions of each function.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 38%" />
<col style="width: 30%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Function</p></th>
<th class="head"><p>Format</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>basicIsoDate</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">yyyyMMdd</span></code></p></td>
<td><p>20150101</p></td>
</tr>
<tr class="row-odd"><td><p>isoDate</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd</span></code></p></td>
<td><p>2015-01-01</p></td>
</tr>
<tr class="row-even"><td><p>isoLocalDate</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd</span></code></p></td>
<td><p>2015-01-01</p></td>
</tr>
<tr class="row-odd"><td><p>basicDateTimeNoMillis</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">yyyyMMdd'T'HHmmssZ</span></code></p></td>
<td><p>20150101T000000Z</p></td>
</tr>
<tr class="row-even"><td><p>basicDateTime</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">yyyyMMdd'T'HHmmss.SSSZ</span></code></p></td>
<td><p>20150101T000000.000Z</p></td>
</tr>
<tr class="row-odd"><td><p>isoDateTime</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ss</span></code></p></td>
<td><p>2015-01-01T00:00:00</p></td>
</tr>
<tr class="row-even"><td><p>isoLocalDateTime</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ss</span></code></p></td>
<td><p>2015-01-01T00:00:00</p></td>
</tr>
<tr class="row-odd"><td><p>isoOffsetDateTime</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ssZ</span></code></p></td>
<td><p>2015-01-01T00:00:00Z</p></td>
</tr>
<tr class="row-even"><td><p>dateHourMinuteSecondMillis</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ss.SSS</span></code></p></td>
<td><p>2015-01-01T00:00:00.000</p></td>
</tr>
<tr class="row-odd"><td><p>dateTime</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ss.SSSZ</span></code></p></td>
<td><p>2015-01-01T00:00:00.000Z</p></td>
</tr>
</tbody>
</table>
<section id="now">
<h3><span class="section-number">9.19.3.1. </span>now<a class="headerlink" href="#now" title="Permalink to this headline">¶</a></h3>
<p>Description: Use the current system time.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">now()</span></code></p>
</section>
<section id="date">
<h3><span class="section-number">9.19.3.2. </span>date<a class="headerlink" href="#date" title="Permalink to this headline">¶</a></h3>
<p>Description: Custom date parser. The date format is defined by the Java 8 <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html">DateTimeFormatter</a> class.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">date($format,</span> <span class="pre">$1)</span></code></p>
<p>Example:
<code class="docutils literal notranslate"><span class="pre">date('yyyy-MM-dd\\'T\\'HH:mm:ss.SSSSSS',</span> <span class="pre">'2015-01-01T00:00:00.000000')</span></code></p>
</section>
<section id="basicisodate">
<h3><span class="section-number">9.19.3.3. </span>basicIsoDate<a class="headerlink" href="#basicisodate" title="Permalink to this headline">¶</a></h3>
<p>Description: A date format for <code class="docutils literal notranslate"><span class="pre">yyyyMMdd</span></code>, equivalent to java.time.format.DateTimeFormatter.BASIC_ISO_DATE.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">basicIsoDate($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">basicIsoDate('20150101')</span></code></p>
</section>
<section id="isodate">
<h3><span class="section-number">9.19.3.4. </span>isoDate<a class="headerlink" href="#isodate" title="Permalink to this headline">¶</a></h3>
<p>Description: A date format for <code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd</span></code>, equivalent to java.time.format.DateTimeFormatter.ISO_DATE.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">isoDate($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">isoDate('2015-01-01')</span></code></p>
</section>
<section id="basicdatetime">
<h3><span class="section-number">9.19.3.5. </span>basicDateTime<a class="headerlink" href="#basicdatetime" title="Permalink to this headline">¶</a></h3>
<p>Description: A date format that combines a basic date and time for <code class="docutils literal notranslate"><span class="pre">yyyyMMdd'T'HHmmss.SSSZ</span></code>.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">basicDateTime($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">basicDateTime('20150101T000000.000Z')</span></code></p>
</section>
<section id="basicdatetimenomillis">
<h3><span class="section-number">9.19.3.6. </span>basicDateTimeNoMillis<a class="headerlink" href="#basicdatetimenomillis" title="Permalink to this headline">¶</a></h3>
<p>Description: A basic format that combines a basic date and time with no
millis for format <code class="docutils literal notranslate"><span class="pre">yyyyMMdd'T'HHmmssZ</span></code>.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">basicDateTimeNoMillis($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">basicDateTimeNoMillis('20150101T000000Z')</span></code></p>
</section>
<section id="datetime">
<h3><span class="section-number">9.19.3.7. </span>dateTime<a class="headerlink" href="#datetime" title="Permalink to this headline">¶</a></h3>
<p>Description: A strict ISO 8601 Date parser for format
<code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ss.SSSZZ</span></code>.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">dateTime($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">dateTime('2015-01-01T00:00:00.000Z')</span></code></p>
</section>
<section id="datehourminutesecondmillis">
<h3><span class="section-number">9.19.3.8. </span>dateHourMinuteSecondMillis<a class="headerlink" href="#datehourminutesecondmillis" title="Permalink to this headline">¶</a></h3>
<p>Description: Formatter for full date, and time keeping the first 3
fractional seconds for format <code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ss.SSS</span></code>.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">dateHourMinuteSecondMillis($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">dateHourMinuteSecondMillis('2015-01-01T00:00:00.000')</span></code></p>
</section>
<section id="isodatetime">
<h3><span class="section-number">9.19.3.9. </span>isoDateTime<a class="headerlink" href="#isodatetime" title="Permalink to this headline">¶</a></h3>
<p>Description: A date format for <code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ss</span></code>, equivalent to
java.time.format.DateTimeFormatter.ISO_DATE_TIME.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">isoDateTime($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">isoDateTime('2015-01-01T00:00:00')</span></code></p>
</section>
<section id="isolocaldate">
<h3><span class="section-number">9.19.3.10. </span>isoLocalDate<a class="headerlink" href="#isolocaldate" title="Permalink to this headline">¶</a></h3>
<p>Description: A date format for <code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd</span></code>, equivalent to java.time.format.DateTimeFormatter.ISO_LOCAL_DATE.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">isoLocalDate($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">isoLocalDate('2015-01-01')</span></code></p>
</section>
<section id="isolocaldatetime">
<h3><span class="section-number">9.19.3.11. </span>isoLocalDateTime<a class="headerlink" href="#isolocaldatetime" title="Permalink to this headline">¶</a></h3>
<p>Description: A date format for <code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ss</span></code>, equivalent to
java.time.format.DateTimeFormatter.ISO_LOCAL_DATE_TIME.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">isoLocalDateTime($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">isoLocalDateTime('2015-01-01T00:00:00')</span></code></p>
</section>
<section id="isooffsetdatetime">
<h3><span class="section-number">9.19.3.12. </span>isoOffsetDateTime<a class="headerlink" href="#isooffsetdatetime" title="Permalink to this headline">¶</a></h3>
<p>Description: A date format for <code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ssZ</span></code>, equivalent to
java.time.format.DateTimeFormatter.ISO_OFFSET_DATE_TIME.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">isoOffsetDateTime($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">isoOffsetDateTime('2015-01-01T00:00:00Z')</span></code></p>
</section>
<section id="millistodate">
<h3><span class="section-number">9.19.3.13. </span>millisToDate<a class="headerlink" href="#millistodate" title="Permalink to this headline">¶</a></h3>
<p>Description: Create a new date from a long representing milliseconds
since January 1, 1970.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">millisToDate($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">millisToDate('1449675054462'::long)</span></code></p>
</section>
<section id="secstodate">
<h3><span class="section-number">9.19.3.14. </span>secsToDate<a class="headerlink" href="#secstodate" title="Permalink to this headline">¶</a></h3>
<p>Description: Create a new date from a long representing seconds since
January 1, 1970.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">secsToDate($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">secsToDate(1449675054)</span></code></p>
</section>
<section id="datetostring">
<h3><span class="section-number">9.19.3.15. </span>dateToString<a class="headerlink" href="#datetostring" title="Permalink to this headline">¶</a></h3>
<p>Description: Formats a date as a string, based on a pattern as defined by Java’s
<a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html">DateTimeFormatter</a>.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">dateToString($pattern,</span> <span class="pre">$date)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">dateToString('yyyy-MM-dd\\'T\\'HH:mm:ss.SSSSSS',</span> <span class="pre">now())</span></code></p>
</section>
<section id="datetomillis">
<h3><span class="section-number">9.19.3.16. </span>dateToMillis<a class="headerlink" href="#datetomillis" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a date to milliseconds since the Java epoch (January 1, 1970).</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">dateToMillis($date)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">dateToMillis(now())</span></code></p>
</section>
</section>
<section id="geometry-functions">
<h2><span class="section-number">9.19.4. </span>Geometry Functions<a class="headerlink" href="#geometry-functions" title="Permalink to this headline">¶</a></h2>
<section id="point">
<h3><span class="section-number">9.19.4.1. </span>point<a class="headerlink" href="#point" title="Permalink to this headline">¶</a></h3>
<p>Description: Parse a Point geometry from lon/lat/z/m, WKT or WKB. To create a point with measure but no z,
use <code class="docutils literal notranslate"><span class="pre">pointM</span></code>.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">point($lon,</span> <span class="pre">$lat)</span></code>, <code class="docutils literal notranslate"><span class="pre">point($lon,</span> <span class="pre">$lat,</span> <span class="pre">$z)</span></code>, <code class="docutils literal notranslate"><span class="pre">point($lon,</span> <span class="pre">$lat,</span> <span class="pre">$z,</span> <span class="pre">$m)</span></code> or <code class="docutils literal notranslate"><span class="pre">point($wkt)</span></code></p>
<p>Note: Ordering is important here…GeoMesa defaults to longitude first</p>
<p>Example: Parsing lon/lat from JSON:</p>
<p>Parsing lon/lat</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># config</span>
<span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;lon&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">-</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;double&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;$.lon&quot;</span> <span class="p">}</span>
<span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;lat&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">-</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;double&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;$.lat&quot;</span> <span class="p">}</span>
<span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;geom&quot;</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="s2">&quot;point($lon, $lat)&quot;</span> <span class="p">}</span>

<span class="c1"># data</span>
<span class="p">{</span>
    <span class="s2">&quot;lat&quot;</span><span class="p">:</span> <span class="mf">23.9</span><span class="p">,</span>
    <span class="s2">&quot;lon&quot;</span><span class="p">:</span> <span class="mf">24.2</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Example: Parsing lon/lat from text without creating lon/lat fields:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># config</span>
<span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;geom&quot;</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="s2">&quot;point($2::double, $3::double)&quot;</span> <span class="p">}</span>

<span class="c1"># data</span>
<span class="nb">id</span><span class="p">,</span><span class="n">lat</span><span class="p">,</span><span class="n">lon</span><span class="p">,</span><span class="n">date</span>
<span class="n">identity1</span><span class="p">,</span><span class="mf">23.9</span><span class="p">,</span><span class="mf">24.2</span><span class="p">,</span><span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">03</span>
</pre></div>
</div>
<p>Example: Parsing WKT as a point</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># config</span>
<span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;geom&quot;</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="s2">&quot;point($2)&quot;</span> <span class="p">}</span>

<span class="c1"># data</span>
<span class="n">ID</span><span class="p">,</span><span class="n">wkt</span><span class="p">,</span><span class="n">date</span>
<span class="mi">1</span><span class="p">,</span><span class="n">POINT</span><span class="p">(</span><span class="mi">2</span> <span class="mi">3</span><span class="p">),</span><span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span>
</pre></div>
</div>
</section>
<section id="pointm">
<h3><span class="section-number">9.19.4.2. </span>pointM<a class="headerlink" href="#pointm" title="Permalink to this headline">¶</a></h3>
<p>Description: Parse a Point geometry from lon/lat and measure</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">pointM($lon,</span> <span class="pre">$lat,</span> <span class="pre">$measure)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">pointM(10::double,20::double,30::double)</span></code></p>
</section>
<section id="multipoint">
<h3><span class="section-number">9.19.4.3. </span>multipoint<a class="headerlink" href="#multipoint" title="Permalink to this headline">¶</a></h3>
<p>Description: Parse a multi-point from a WKT string, WKB byte array, or two lists of coordinates.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">multipoint($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">multipoint('MULTIPOINT</span> <span class="pre">((10</span> <span class="pre">40),</span> <span class="pre">(40</span> <span class="pre">30),</span> <span class="pre">(20</span> <span class="pre">20),</span> <span class="pre">(30</span> <span class="pre">10))')</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">multipoint(list(10,40,20,30),list(40,30,20,10))</span></code></p>
</section>
<section id="linestring">
<h3><span class="section-number">9.19.4.4. </span>linestring<a class="headerlink" href="#linestring" title="Permalink to this headline">¶</a></h3>
<p>Description: Parse a linestring from a WKT string, WKB byte array, or two lists of coordinates.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">linestring($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">linestring('LINESTRING(102</span> <span class="pre">0,</span> <span class="pre">103</span> <span class="pre">1,</span> <span class="pre">104</span> <span class="pre">0,</span> <span class="pre">105</span> <span class="pre">1)')</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">linestring(list(102,103,104,105),list(0,1,0,1))</span></code></p>
</section>
<section id="multilinestring">
<h3><span class="section-number">9.19.4.5. </span>multilinestring<a class="headerlink" href="#multilinestring" title="Permalink to this headline">¶</a></h3>
<p>Description: Parse a multi-linestring from a WKT string or WKB byte array.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">multilinestring($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">multilinestring('MULTILINESTRING</span> <span class="pre">((10</span> <span class="pre">10,</span> <span class="pre">20</span> <span class="pre">20,</span> <span class="pre">10</span> <span class="pre">40),</span> <span class="pre">(40</span> <span class="pre">40,</span> <span class="pre">30</span> <span class="pre">30,</span> <span class="pre">40</span> <span class="pre">20,</span> <span class="pre">30</span> <span class="pre">10))')</span></code></p>
</section>
<section id="polygon">
<h3><span class="section-number">9.19.4.6. </span>polygon<a class="headerlink" href="#polygon" title="Permalink to this headline">¶</a></h3>
<p>Description: Parse a polygon from a WKT string or WKB byte array.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">polygon($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">polygon('POLYGON</span> <span class="pre">((30</span> <span class="pre">10,</span> <span class="pre">40</span> <span class="pre">40,</span> <span class="pre">20</span> <span class="pre">40,</span> <span class="pre">10</span> <span class="pre">20,</span> <span class="pre">30</span> <span class="pre">10))')</span></code></p>
</section>
<section id="multipolygon">
<h3><span class="section-number">9.19.4.7. </span>multipolygon<a class="headerlink" href="#multipolygon" title="Permalink to this headline">¶</a></h3>
<p>Description: Parse a multi-polygon from a WKT string or WKB byte array.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">multipolygon($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">multipolygon('MULTIPOLYGON</span> <span class="pre">(((30</span> <span class="pre">20,</span> <span class="pre">45</span> <span class="pre">40,</span> <span class="pre">10</span> <span class="pre">40,</span> <span class="pre">30</span> <span class="pre">20)),</span> <span class="pre">((15</span> <span class="pre">5,</span> <span class="pre">40</span> <span class="pre">10,</span> <span class="pre">10</span> <span class="pre">20,</span> <span class="pre">5</span> <span class="pre">10,</span> <span class="pre">15</span> <span class="pre">5)))')</span></code></p>
</section>
<section id="geometrycollection">
<h3><span class="section-number">9.19.4.8. </span>geometrycollection<a class="headerlink" href="#geometrycollection" title="Permalink to this headline">¶</a></h3>
<p>Description: Parse a geometry collection from a WKT string or WKB byte array.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">geometrycollection($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">geometrycollection('GEOMETRYCOLLECTION(POINT(4</span> <span class="pre">6),LINESTRING(4</span> <span class="pre">6,7</span> <span class="pre">10))')</span></code></p>
</section>
<section id="geometry">
<h3><span class="section-number">9.19.4.9. </span>geometry<a class="headerlink" href="#geometry" title="Permalink to this headline">¶</a></h3>
<p>Description: Parse a geometry from a WKT string or WKB byte array.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">geometry($0)</span></code></p>
<p>Example: Parsing WKT as a geometry</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># config</span>
<span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;geom&quot;</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="s2">&quot;geometry($2)&quot;</span> <span class="p">}</span>

<span class="c1"># data</span>
<span class="n">ID</span><span class="p">,</span><span class="n">wkt</span><span class="p">,</span><span class="n">date</span>
<span class="mi">1</span><span class="p">,</span><span class="n">POINT</span><span class="p">(</span><span class="mi">2</span> <span class="mi">3</span><span class="p">),</span><span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span>
<span class="mi">2</span><span class="p">,</span><span class="s2">&quot;LINESTRING(102 0, 103 1, 104 0, 105 1)&quot;</span><span class="p">,</span><span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">03</span>
</pre></div>
</div>
</section>
<section id="projectfrom">
<h3><span class="section-number">9.19.4.10. </span>projectFrom<a class="headerlink" href="#projectfrom" title="Permalink to this headline">¶</a></h3>
<p>Description: Project a geometry from its native CRS to EPSG:4326. GeoMesa only supports EPSG:4326,
so geometries must be transformed when ingesting from another CRS.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">projectFrom('EPSG:3857',$0)</span></code></p>
<p>Example: Reprojecting a parsed point from EPSG:3857 to EPSG:4326:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># config</span>
<span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;geom&quot;</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="s2">&quot;projectFrom(&#39;EPSG:3857&#39;,point($2::double, $3::double))&quot;</span> <span class="p">}</span>

<span class="c1"># data</span>
<span class="nb">id</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">date</span>
<span class="n">identity1</span><span class="p">,</span><span class="mf">1689200.14</span><span class="p">,</span><span class="mf">1113194.91</span><span class="p">,</span><span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">03</span>
</pre></div>
</div>
</section>
</section>
<section id="id-functions">
<h2><span class="section-number">9.19.5. </span>ID Functions<a class="headerlink" href="#id-functions" title="Permalink to this headline">¶</a></h2>
<section id="stringtobytes">
<h3><span class="section-number">9.19.5.1. </span>stringToBytes<a class="headerlink" href="#stringtobytes" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a string to a UTF-8 byte array (to pass to other functions like <code class="docutils literal notranslate"><span class="pre">md5()</span></code>).</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">stringToBytes($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">stringToBytes('row,of,data')</span></code></p>
</section>
<section id="md5">
<h3><span class="section-number">9.19.5.2. </span>md5<a class="headerlink" href="#md5" title="Permalink to this headline">¶</a></h3>
<p>Description: Creates an MD5 hash from a byte array.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">md5($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">md5(stringToBytes('row,of,data'))</span></code></p>
</section>
<section id="murmur3-32">
<h3><span class="section-number">9.19.5.3. </span>murmur3_32<a class="headerlink" href="#murmur3-32" title="Permalink to this headline">¶</a></h3>
<p>Description: Creates a 32-bit murmur3 hash from a string.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">murmur3_32($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">murmur3_32('row,of,data')</span></code></p>
</section>
<section id="murmur3-64">
<h3><span class="section-number">9.19.5.4. </span>murmur3_64<a class="headerlink" href="#murmur3-64" title="Permalink to this headline">¶</a></h3>
<p>Description: Creates a 64-bit murmur3 hash from a string. Note that previously this function was incorrectly
named <code class="docutils literal notranslate"><span class="pre">murmur3_128</span></code>, and can still be invoked by that name.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">murmur3_64($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">murmur3_64('row,of,data')</span></code></p>
</section>
<section id="murmurhash3">
<h3><span class="section-number">9.19.5.5. </span>murmurHash3<a class="headerlink" href="#murmurhash3" title="Permalink to this headline">¶</a></h3>
<p>Description: Creates a 128-bit murmur3 hash from a string or byte array, returned as a hex string.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">murmurHash3($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">murmurHash3('row,of,data')</span></code></p>
</section>
<section id="uuid">
<h3><span class="section-number">9.19.5.6. </span>uuid<a class="headerlink" href="#uuid" title="Permalink to this headline">¶</a></h3>
<p>Description: Generates a random UUID.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">uuid()</span></code></p>
</section>
<section id="uuidz3">
<h3><span class="section-number">9.19.5.7. </span>uuidZ3<a class="headerlink" href="#uuidz3" title="Permalink to this headline">¶</a></h3>
<p>Description: Generates a Z3-based UUID for point geometries.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">uuidZ3($geom,</span> <span class="pre">$date,</span> <span class="pre">$interval)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">uuidZ3(point('POINT</span> <span class="pre">(3</span> <span class="pre">2)'),</span> <span class="pre">dateTime('2015-01-01T00:00:00.000Z'),</span> <span class="pre">'week')</span></code></p>
<p>See <a class="reference internal" href="../datastores/index_config.html#customizing-z-index"><span class="std std-ref">Configuring Z-Index Time Interval</span></a> for details on Z3 intervals.</p>
</section>
<section id="uuidz3centroid">
<h3><span class="section-number">9.19.5.8. </span>uuidZ3Centroid<a class="headerlink" href="#uuidz3centroid" title="Permalink to this headline">¶</a></h3>
<p>Description: Generates a Z3-based UUID for non-point geometries.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">uuidZ3Centroid($geom,</span> <span class="pre">$date,</span> <span class="pre">$interval)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">uuidZ3Centroid(linestring('LINESTRING(102</span> <span class="pre">0,</span> <span class="pre">103</span> <span class="pre">1,</span> <span class="pre">104</span> <span class="pre">0,</span> <span class="pre">105</span> <span class="pre">1)',</span> <span class="pre">dateTime('2015-01-01T00:00:00.000Z'),</span> <span class="pre">'week')</span></code></p>
<p>See <a class="reference internal" href="../datastores/index_config.html#customizing-z-index"><span class="std std-ref">Configuring Z-Index Time Interval</span></a> for details on Z3 intervals.</p>
</section>
</section>
<section id="type-conversions">
<h2><span class="section-number">9.19.6. </span>Type Conversions<a class="headerlink" href="#type-conversions" title="Permalink to this headline">¶</a></h2>
<section id="int-or-integer">
<h3><span class="section-number">9.19.6.1. </span>::int or ::integer<a class="headerlink" href="#int-or-integer" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a string into an integer. Invalid values will
cause the record to fail.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">'1'::int</span> <span class="pre">=</span> <span class="pre">1</span></code></p>
</section>
<section id="long">
<h3><span class="section-number">9.19.6.2. </span>::long<a class="headerlink" href="#long" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a string into a long. Invalid values will cause
the record to fail.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">'1'::long</span> <span class="pre">=</span> <span class="pre">1L</span></code></p>
</section>
<section id="float">
<h3><span class="section-number">9.19.6.3. </span>::float<a class="headerlink" href="#float" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a string into a float. Invalid values will cause
the record to fail.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">'1.0'::float</span> <span class="pre">=</span> <span class="pre">1.0f</span></code></p>
</section>
<section id="double">
<h3><span class="section-number">9.19.6.4. </span>::double<a class="headerlink" href="#double" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a string into a double. Invalid values will cause
the record to fail.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">'1.0'::double</span> <span class="pre">=</span> <span class="pre">1.0d</span></code></p>
</section>
<section id="boolean">
<h3><span class="section-number">9.19.6.5. </span>::boolean<a class="headerlink" href="#boolean" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a string into a boolean. Invalid values will cause
the record to fail.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">'true'::boolean</span> <span class="pre">=</span> <span class="pre">true</span></code></p>
</section>
<section id="r">
<h3><span class="section-number">9.19.6.6. </span>::r<a class="headerlink" href="#r" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a string into a Regex object.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">'f.*'::r</span> <span class="pre">=</span> <span class="pre">f.*:</span> <span class="pre">scala.util.matching.Regex</span></code></p>
</section>
<section id="toint-or-tointeger">
<h3><span class="section-number">9.19.6.7. </span>toInt or toInteger<a class="headerlink" href="#toint-or-tointeger" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a value into a integer. If the conversion fails, returns null unless a default value is defined.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">toInt($1,</span> <span class="pre">$2)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toInt('1',</span> <span class="pre">0)</span> <span class="pre">=</span> <span class="pre">1</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toInt('',</span> <span class="pre">0)</span> <span class="pre">=</span> <span class="pre">0</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toInt('')</span> <span class="pre">=</span> <span class="pre">null</span></code></p>
</section>
<section id="tolong">
<h3><span class="section-number">9.19.6.8. </span>toLong<a class="headerlink" href="#tolong" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a value into a long. If the conversion fails, returns null unless a default value is defined.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">toLong($1,</span> <span class="pre">$2)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toLong('1',</span> <span class="pre">0L)</span> <span class="pre">=</span> <span class="pre">1L</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toLong('',</span> <span class="pre">0L)</span> <span class="pre">=</span> <span class="pre">0L</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toLong('')</span> <span class="pre">=</span> <span class="pre">null</span></code></p>
</section>
<section id="tofloat">
<h3><span class="section-number">9.19.6.9. </span>toFloat<a class="headerlink" href="#tofloat" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a value into a float. If the conversion fails, returns null unless a default value is defined.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">toFloat($1,</span> <span class="pre">$2)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toFloat('1.0',</span> <span class="pre">0.0f)</span> <span class="pre">=</span> <span class="pre">1.0f</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toFloat('not</span> <span class="pre">a</span> <span class="pre">float',</span> <span class="pre">0.0f)</span> <span class="pre">=</span> <span class="pre">0.0f</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toFloat('')</span> <span class="pre">=</span> <span class="pre">null</span></code></p>
</section>
<section id="todouble">
<h3><span class="section-number">9.19.6.10. </span>toDouble<a class="headerlink" href="#todouble" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a value into a double. If the conversion fails, returns null unless a default value is defined.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">toDouble($1,</span> <span class="pre">$2)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toDouble('1.0',</span> <span class="pre">0.0)</span> <span class="pre">=</span> <span class="pre">1.0d</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toDouble(null,</span> <span class="pre">0.0)</span> <span class="pre">=</span> <span class="pre">0.0d</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toDouble('')</span> <span class="pre">=</span> <span class="pre">null</span></code></p>
</section>
<section id="toboolean">
<h3><span class="section-number">9.19.6.11. </span>toBoolean<a class="headerlink" href="#toboolean" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a value into a boolean. If the conversion fails, returns null unless a default value is
defined. If the input is a number, it will evaluate to false if it is equal to zero, and true otherwise.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">toBoolean($1,</span> <span class="pre">$2)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toBoolean('true',</span> <span class="pre">false)</span> <span class="pre">=</span> <span class="pre">true</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toBoolean('foo',</span> <span class="pre">false)</span> <span class="pre">=</span> <span class="pre">false</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toBoolean('')</span> <span class="pre">=</span> <span class="pre">null</span></code></p>
</section>
<section id="inttoboolean">
<h3><span class="section-number">9.19.6.12. </span>intToBoolean<a class="headerlink" href="#inttoboolean" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts an integer to boolean. Follows the normal rules of conversion, where 0 is false and all
other values are true.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">intToBoolean($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">intToBoolean(1)</span> <span class="pre">=</span> <span class="pre">true</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">intToBoolean(0)</span> <span class="pre">=</span> <span class="pre">false</span></code></p>
</section>
</section>
<section id="math-functions">
<h2><span class="section-number">9.19.7. </span>Math Functions<a class="headerlink" href="#math-functions" title="Permalink to this headline">¶</a></h2>
<p>Usage:</p>
<p>The arguments to a math functions must be numbers - Integers, Doubles, Floats, Longs or numeric Strings.</p>
<p>All math functions return Doubles. If another data type is needed, convert the value afterwards,
e.g. <code class="docutils literal notranslate"><span class="pre">add($1,$2)::long</span></code></p>
<p>Most math functions accept multiple arguments, or will accept a single java.util.List containing the arguments.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;value3&quot;</span><span class="p">,</span> <span class="n">transform</span> <span class="o">=</span> <span class="s2">&quot;add($value1, multiply($value2, 1.2))::double&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<section id="add">
<h3><span class="section-number">9.19.7.1. </span>add<a class="headerlink" href="#add" title="Permalink to this headline">¶</a></h3>
<p>Description: Adds two or more values.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">add($1,$2)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">add($1,$2,&quot;10&quot;)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">add(list(1,2,3))</span></code></p>
</section>
<section id="subtract">
<h3><span class="section-number">9.19.7.2. </span>subtract<a class="headerlink" href="#subtract" title="Permalink to this headline">¶</a></h3>
<p>Description: Subtracts two or more values sequentially.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">subtract($1,$2)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">subtract($1,$2,1.0f)</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">($1</span> <span class="pre">-</span> <span class="pre">$2)</span> <span class="pre">-</span> <span class="pre">1.0f</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">subtract(list(3,1))</span></code></p>
</section>
<section id="multiply">
<h3><span class="section-number">9.19.7.3. </span>multiply<a class="headerlink" href="#multiply" title="Permalink to this headline">¶</a></h3>
<p>Description: Multiply two or more values.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">multiply($1,$2)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">multiply($1,$2,0.01d)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">multiply(list(3,2))</span></code></p>
</section>
<section id="divide">
<h3><span class="section-number">9.19.7.4. </span>divide<a class="headerlink" href="#divide" title="Permalink to this headline">¶</a></h3>
<p>Description: Divides two or more values sequentially.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">divide($1,$2)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">divide($1,$2,&quot;15&quot;)</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">($1/$2)/&quot;15&quot;</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">divide(list(3,2))</span></code></p>
</section>
<section id="modulo">
<h3><span class="section-number">9.19.7.5. </span>modulo<a class="headerlink" href="#modulo" title="Permalink to this headline">¶</a></h3>
<p>Description: Takes the modulo of two values. Note that unlike other math functions, modulo expects and returns integers instead
of doubles.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">modulo($1,$2)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">modulo(list(3,2))</span></code></p>
</section>
<section id="mean">
<h3><span class="section-number">9.19.7.6. </span>mean<a class="headerlink" href="#mean" title="Permalink to this headline">¶</a></h3>
<p>Description: Takes the mean (average) of two or more numbers.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">mean($1,$2,$3)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">mean(list(1,2,3))</span></code></p>
</section>
<section id="min">
<h3><span class="section-number">9.19.7.7. </span>min<a class="headerlink" href="#min" title="Permalink to this headline">¶</a></h3>
<p>Description: Finds the minimum of two or more numbers.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">min($1,$2,$3)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">min(list(1,2,3))</span></code></p>
</section>
<section id="max">
<h3><span class="section-number">9.19.7.8. </span>max<a class="headerlink" href="#max" title="Permalink to this headline">¶</a></h3>
<p>Description: Finds the maximum of two or more numbers.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">max($1,$2,$3)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">max(list(1,2,3))</span></code></p>
</section>
<section id="sin">
<h3><span class="section-number">9.19.7.9. </span>sin<a class="headerlink" href="#sin" title="Permalink to this headline">¶</a></h3>
<p>Description: Calculates the sine of a number.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">sin($1)</span></code></p>
</section>
<section id="cos">
<h3><span class="section-number">9.19.7.10. </span>cos<a class="headerlink" href="#cos" title="Permalink to this headline">¶</a></h3>
<p>Description: Calculates the cosine of a number.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">cos($1)</span></code></p>
</section>
<section id="tan">
<h3><span class="section-number">9.19.7.11. </span>tan<a class="headerlink" href="#tan" title="Permalink to this headline">¶</a></h3>
<p>Description: Calculates the tangent of a number.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">tan($1)</span></code></p>
</section>
<section id="asin">
<h3><span class="section-number">9.19.7.12. </span>asin<a class="headerlink" href="#asin" title="Permalink to this headline">¶</a></h3>
<p>Description: Calculates the arc sine of a number.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">asin($1)</span></code></p>
</section>
<section id="acos">
<h3><span class="section-number">9.19.7.13. </span>acos<a class="headerlink" href="#acos" title="Permalink to this headline">¶</a></h3>
<p>Description: Calculates the arc cosine of a number.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">acos($1)</span></code></p>
</section>
<section id="atan">
<h3><span class="section-number">9.19.7.14. </span>atan<a class="headerlink" href="#atan" title="Permalink to this headline">¶</a></h3>
<p>Description: Calculates the arc tangent of a number.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">atan($1)</span></code></p>
</section>
<section id="ln">
<h3><span class="section-number">9.19.7.15. </span>ln<a class="headerlink" href="#ln" title="Permalink to this headline">¶</a></h3>
<p>Description: Calculates the natural logarithm of a number.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">ln($1)</span></code></p>
</section>
<section id="exp">
<h3><span class="section-number">9.19.7.16. </span>exp<a class="headerlink" href="#exp" title="Permalink to this headline">¶</a></h3>
<p>Description: Calculates Euler’s number <em>e</em> raised to the power of a number.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">exp($1)</span></code></p>
</section>
<section id="sqrt">
<h3><span class="section-number">9.19.7.17. </span>sqrt<a class="headerlink" href="#sqrt" title="Permalink to this headline">¶</a></h3>
<p>Description: Calculates the square root of a number.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">sqrt($1)</span></code></p>
</section>
</section>
<section id="list-and-map-functions">
<h2><span class="section-number">9.19.8. </span>List and Map Functions<a class="headerlink" href="#list-and-map-functions" title="Permalink to this headline">¶</a></h2>
<section id="list">
<h3><span class="section-number">9.19.8.1. </span>list<a class="headerlink" href="#list" title="Permalink to this headline">¶</a></h3>
<p>Description: Creates a list from the input arguments</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">list(1,2,3)</span></code></p>
</section>
<section id="listitem">
<h3><span class="section-number">9.19.8.2. </span>listItem<a class="headerlink" href="#listitem" title="Permalink to this headline">¶</a></h3>
<p>Description: Selects an element out of a list</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">listItem(list('1','2','3'),0)</span></code></p>
</section>
<section id="mapvalue">
<h3><span class="section-number">9.19.8.3. </span>mapValue<a class="headerlink" href="#mapvalue" title="Permalink to this headline">¶</a></h3>
<p>Description: Read a value out of a map instance by key</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">mapValue($map,'key')</span></code></p>
</section>
<section id="parselist">
<h3><span class="section-number">9.19.8.4. </span>parseList<a class="headerlink" href="#parselist" title="Permalink to this headline">¶</a></h3>
<p>Description: Parse a <code class="docutils literal notranslate"><span class="pre">List[T]</span></code> type from a string.</p>
<p>If your SimpleFeatureType config contains a list or map you can easily
configure a transform function to parse it using the <code class="docutils literal notranslate"><span class="pre">parseList</span></code>
function which takes either 2 or 3 args</p>
<ol class="arabic simple">
<li><p>The primitive type of the list (int, string, double, float, boolean,
etc)</p></li>
<li><p>The reference to parse</p></li>
<li><p>Optionally, the list delimiter (defaults to a comma)</p></li>
</ol>
<p>Here’s some sample CSV data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ID</span><span class="p">,</span><span class="n">Name</span><span class="p">,</span><span class="n">Age</span><span class="p">,</span><span class="n">LastSeen</span><span class="p">,</span><span class="n">Friends</span><span class="p">,</span><span class="n">Lon</span><span class="p">,</span><span class="n">Lat</span>
<span class="mi">23623</span><span class="p">,</span><span class="n">Harry</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">2015</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">06</span><span class="p">,</span><span class="s2">&quot;Will, Mark, Suzan&quot;</span><span class="p">,</span><span class="o">-</span><span class="mf">100.236523</span><span class="p">,</span><span class="mi">23</span>
<span class="mi">26236</span><span class="p">,</span><span class="n">Hermione</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">2015</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="p">,</span><span class="s2">&quot;Edward, Bill, Harry&quot;</span><span class="p">,</span><span class="mf">40.232</span><span class="p">,</span><span class="o">-</span><span class="mf">53.2356</span>
<span class="mi">3233</span><span class="p">,</span><span class="n">Severus</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">2015</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span><span class="p">,</span><span class="s2">&quot;Tom, Riddle, Voldemort&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mf">62.23</span>
</pre></div>
</div>
<p>For example, an SFT may specific a field:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;friends&quot;</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;List[String]&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<p>And a transform to parse the quoted CSV field:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;friends&quot;</span><span class="p">,</span> <span class="n">transform</span> <span class="o">=</span> <span class="s2">&quot;parseList(&#39;string&#39;, $5)&quot;</span> <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="parsemap">
<span id="converter-parse-map-fn"></span><h3><span class="section-number">9.19.8.5. </span>parseMap<a class="headerlink" href="#parsemap" title="Permalink to this headline">¶</a></h3>
<p>Description: Parse a <code class="docutils literal notranslate"><span class="pre">Map[T,V]</span></code> type from a string.</p>
<p>Parsing Maps is similar. Take for example this CSV data with a quoted
map field:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;1-&gt;a,2-&gt;b,3-&gt;c,4-&gt;d&quot;</span><span class="p">,</span><span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">17</span><span class="p">,</span><span class="o">-</span><span class="mf">90.368732</span><span class="p">,</span><span class="mf">35.3155</span>
<span class="mi">2</span><span class="p">,</span><span class="s2">&quot;5-&gt;e,6-&gt;f,7-&gt;g,8-&gt;h&quot;</span><span class="p">,</span><span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">17</span><span class="p">,</span><span class="o">-</span><span class="mf">70.970585</span><span class="p">,</span><span class="mf">42.36211</span>
<span class="mi">3</span><span class="p">,</span><span class="s2">&quot;9-&gt;i,10-&gt;j&quot;</span><span class="p">,</span><span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">17</span><span class="p">,</span><span class="o">-</span><span class="mf">97.599004</span><span class="p">,</span><span class="mf">30.50901</span>
</pre></div>
</div>
<p>Our field type is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span><span class="p">:</span><span class="n">Map</span><span class="p">[</span><span class="n">Integer</span><span class="p">,</span><span class="n">String</span><span class="p">]</span>
</pre></div>
</div>
<p>Then we specify a transform:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;numbers&quot;</span><span class="p">,</span> <span class="n">transform</span> <span class="o">=</span> <span class="s2">&quot;parseMap(&#39;int -&gt; string&#39;, $2)&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<p>Optionally we can also provide custom list/record and key-value
delimiters for a map:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;numbers&quot;</span><span class="p">,</span> <span class="n">transform</span> <span class="o">=</span> <span class="s2">&quot;parseMap(&#39;int -&gt; string&#39;, $2, &#39;-&gt;&#39;, &#39;,&#39;)&quot;</span> <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="transformlistitems">
<h3><span class="section-number">9.19.8.6. </span>transformListItems<a class="headerlink" href="#transformlistitems" title="Permalink to this headline">¶</a></h3>
<p>Description: Applies a transform expression to every element of a list</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">transformListItems(list('1','2','3'),'stringToDouble($0)')</span></code></p>
<p>The expression to apply must be defined as a string. In the example shown, the list will be converted
from <code class="docutils literal notranslate"><span class="pre">List[String]</span></code> to <code class="docutils literal notranslate"><span class="pre">List[Double]</span></code>.</p>
</section>
</section>
<section id="encoding-functions">
<h2><span class="section-number">9.19.9. </span>Encoding Functions<a class="headerlink" href="#encoding-functions" title="Permalink to this headline">¶</a></h2>
<section id="base64encode">
<h3><span class="section-number">9.19.9.1. </span>base64Encode<a class="headerlink" href="#base64encode" title="Permalink to this headline">¶</a></h3>
<p>Description: Encodes a byte array as a base-64 URL-safe string. This function can also be invoked as <code class="docutils literal notranslate"><span class="pre">base64</span></code>,
but that name has been deprecated and will be removed in future versions.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">base64Encode($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">base64Encode(stringToBytes('foo'))</span></code></p>
</section>
<section id="base64decode">
<h3><span class="section-number">9.19.9.2. </span>base64Decode<a class="headerlink" href="#base64decode" title="Permalink to this headline">¶</a></h3>
<p>Description: Decodes a base-64 URL-safe encoded string into a byte array.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">base64Decode($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">base64Decode('Zm9v')</span></code></p>
</section>
</section>
<section id="state-functions">
<h2><span class="section-number">9.19.10. </span>State Functions<a class="headerlink" href="#state-functions" title="Permalink to this headline">¶</a></h2>
<section id="inputfilepath">
<h3><span class="section-number">9.19.10.1. </span>inputFilePath<a class="headerlink" href="#inputfilepath" title="Permalink to this headline">¶</a></h3>
<p>Description: provides the absolute path to the file being operated on, if available</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">$inputFilePath</span></code></p>
<p>The file path is a variable, referenced through <code class="docutils literal notranslate"><span class="pre">$</span></code> notation.</p>
<p>The file path may not always be available, depending on how the converter is being invoked.
When invoked through the GeoMesa command-line tools or GeoMesa NiFi, it will be set appropriately.</p>
</section>
<section id="lineno">
<h3><span class="section-number">9.19.10.2. </span>lineNo<a class="headerlink" href="#lineno" title="Permalink to this headline">¶</a></h3>
<p>Description: provides the current line number in the file being operated on, if available</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">lineNo()</span></code></p>
<p>The line number may not always be available, depending on the converter being used. For some converters,
line number may be an abstract concept. For example, in the Avro converter line number will refer to the
number of the Avro record in the file.</p>
</section>
</section>
<section id="enrichment-functions">
<h2><span class="section-number">9.19.11. </span>Enrichment Functions<a class="headerlink" href="#enrichment-functions" title="Permalink to this headline">¶</a></h2>
<section id="cachelookup">
<h3><span class="section-number">9.19.11.1. </span>cacheLookup<a class="headerlink" href="#cachelookup" title="Permalink to this headline">¶</a></h3>
<p>Description: Looks up a value from a cache</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">cacheLookup(&lt;cacheName&gt;,</span> <span class="pre">&lt;entityKey&gt;,</span> <span class="pre">&lt;attributeKey&gt;)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">cacheLookup('test',</span> <span class="pre">$id,</span> <span class="pre">'name')</span></code></p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="function_overview.html" class="btn btn-neutral float-left" title="9.18. Transformation Function Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="extending.html" class="btn btn-neutral float-right" title="9.20. Extending the Converter Library" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  

<div role="contentinfo">
  <p>
    &copy; Copyright 2013-2025 <a href="https://www.ga-ccri.com/">General Atomics</a>
    <br/>
    Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>
  </p>
</div>

<div role="contentinfo">
  <p>
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
    using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>
    - contribute to this page on
    <a href="https://github.com/locationtech/geomesa/edit/main/docs/user/convert/function_usage.rst">GitHub <img src="../../_static/launch.svg"/></a>
  </p>

</div>



</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>