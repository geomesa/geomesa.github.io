<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>9.18. Transformation Functions &mdash; GeoMesa 6.0.0-SNAPSHOT Manuals</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme_custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="canonical" href="https://www.geomesa.org/documentation/stable/user/convert/functions.html"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="9.19. Prepackaged Converters" href="premade/index.html" />
    <link rel="prev" title="9.17. Feature-To-Feature Converter" href="feature_to_feature.html" />


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> GeoMesa
          </a>
              <div class="version">
                6.0.0-SNAPSHOT
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html">2. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../download.html">3. Versions and Downloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html">4. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html">5. Architecture Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geotools.html">6. GeoTools Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datastores/index.html">7. GeoMesa Data Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/index.html">8. Command-Line Tools</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">9. GeoMesa Converters</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="common.html">9.1. Converter Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="parsing_and_validation.html">9.2. Parsing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="cache.html">9.3. Enrichment Caches</a></li>
<li class="toctree-l3"><a class="reference internal" href="composite.html">9.4. Composite Converters</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage_tools.html">9.5. Command-Line Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage_code.html">9.6. Programmatic Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="extending.html">9.7. Extending the Converter Library</a></li>
<li class="toctree-l3"><a class="reference internal" href="delimited_text.html">9.8. Delimited Text Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="json.html">9.9. JSON Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="xml.html">9.10. XML Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="avro.html">9.11. Avro Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="avro_schema_registry.html">9.12. Avro Schema Registry Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="parquet.html">9.13. Parquet Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="shp.html">9.14. Shapefile Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="fixed_width.html">9.15. Fixed-Width Text Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="jdbc.html">9.16. JDBC Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="feature_to_feature.html">9.17. Feature-To-Feature Converter</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">9.18. Transformation Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#type-conversions">9.18.1. Type Conversions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#string-functions">9.18.2. String Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#date-functions">9.18.3. Date Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#geometry-functions">9.18.4. Geometry Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id-functions">9.18.5. ID Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#math-functions">9.18.6. Math Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#list-and-map-functions">9.18.7. List and Map Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#encoding-functions">9.18.8. Encoding Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#control-functions">9.18.9. Control Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#state-functions">9.18.10. State Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enrichment-functions">9.18.11. Enrichment Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cql-functions">9.18.12. CQL Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#json-avro-transformations">9.18.13. JSON/Avro Transformations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="premade/index.html">9.19. Prepackaged Converters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../geoserver.html">10. GeoServer Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spark/index.html">11. GeoMesa Spark</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nifi/index.html">12. GeoMesa NiFi Bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../process.html">13. GeoMesa Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../accumulo/index.html">14. Accumulo Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hbase/index.html">15. HBase Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cassandra/index.html">16. Cassandra Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scylladb/index.html">17. ScyllaDB Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../postgis/index.html">18. Partitioned PostGIS Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kafka/index.html">19. Kafka Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../redis/index.html">20. Redis Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../filesystem/index.html">21. FileSystem Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lambda/index.html">22. Lambda Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ds_views.html">23. Combined Data Store Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/index.html">24. Upgrade Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#appendix">Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GeoMesa</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">User Manual</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">9. </span>GeoMesa Converters</a></li>
      <li class="breadcrumb-item active"><span class="section-number">9.18. </span>Transformation Functions</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="transformation-functions">
<span id="converter-functions"></span><h1><span class="section-number">9.18. </span>Transformation Functions<a class="headerlink" href="#transformation-functions" title="Permalink to this headline">¶</a></h1>
<section id="type-conversions">
<h2><span class="section-number">9.18.1. </span>Type Conversions<a class="headerlink" href="#type-conversions" title="Permalink to this headline">¶</a></h2>
<details>
  <summary><code class="docutils literal notranslate">toInt</code> or <code class="docutils literal notranslate">toInteger</code></summary><p>Converts a value into a integer. If the conversion fails, returns null unless a default value is defined.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">toInt($value)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">toInt($value,</span> <span class="pre">$default)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">toInt('1',</span> <span class="pre">0)</span> <span class="pre">=</span> <span class="pre">1</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">toInt('',</span> <span class="pre">0)</span> <span class="pre">=</span> <span class="pre">0</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">toInt('')</span> <span class="pre">=</span> <span class="pre">null</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">toLong</code></summary><p>Converts a value into a long. If the conversion fails, returns null unless a default value is defined.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">toLong($value)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">toLong($value,</span> <span class="pre">$default)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">toLong('1',</span> <span class="pre">0L)</span> <span class="pre">=</span> <span class="pre">1L</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">toLong('',</span> <span class="pre">0L)</span> <span class="pre">=</span> <span class="pre">0L</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">toLong('')</span> <span class="pre">=</span> <span class="pre">null</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">toFloat</code></summary><p>Converts a value into a float. If the conversion fails, returns null unless a default value is defined.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">toFloat($value)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">toFloat($value,</span> <span class="pre">$default)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">toFloat('1.0',</span> <span class="pre">0.0f)</span> <span class="pre">=</span> <span class="pre">1.0f</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">toFloat('not</span> <span class="pre">a</span> <span class="pre">float',</span> <span class="pre">0.0f)</span> <span class="pre">=</span> <span class="pre">0.0f</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">toFloat('')</span> <span class="pre">=</span> <span class="pre">null</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">toDouble</code></summary><p>Converts a value into a double. If the conversion fails, returns null unless a default value is defined.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">toDouble($value)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">toDouble($value,</span> <span class="pre">$default)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">toDouble('1.0',</span> <span class="pre">0.0)</span> <span class="pre">=</span> <span class="pre">1.0d</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">toDouble(null,</span> <span class="pre">0.0)</span> <span class="pre">=</span> <span class="pre">0.0d</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">toDouble('')</span> <span class="pre">=</span> <span class="pre">null</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">toBoolean</code></summary><p>Converts a value into a Boolean. If the conversion fails, returns null unless a default value is
defined. If the input is a number, zero will evaluate to false, and all other numbers will evaluate to true.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">toBoolean($value)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">toBoolean($value,</span> <span class="pre">$default)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">toBoolean('true',</span> <span class="pre">false)</span> <span class="pre">=</span> <span class="pre">true</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">toBoolean('foo',</span> <span class="pre">false)</span> <span class="pre">=</span> <span class="pre">false</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">toBoolean(1)</span> <span class="pre">=</span> <span class="pre">true</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">toBoolean(0)</span> <span class="pre">=</span> <span class="pre">false</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">toBoolean('')</span> <span class="pre">=</span> <span class="pre">null</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">::int</code> or <code class="docutils literal notranslate">::integer</code></summary><p>Converts a value into an integer. If the conversion fails, it will throw an error and cause the record to fail.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">$value::int</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">'1'::int</span> <span class="pre">=</span> <span class="pre">1</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">::long</code></summary><p>Converts a value into a long. If the conversion fails, it will throw an error and cause the record to fail.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">$value::long</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">'1'::long</span> <span class="pre">=</span> <span class="pre">1L</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">::float</code></summary><p>Converts a value into a float. If the conversion fails, it will throw an error and cause the record to fail.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">$value::float</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">'1.0'::float</span> <span class="pre">=</span> <span class="pre">1.0f</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">::double</code></summary><p>Converts a value into a double. If the conversion fails, it will throw an error and cause the record to fail.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">$value::double</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">'1.0'::double</span> <span class="pre">=</span> <span class="pre">1.0d</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">::boolean</code></summary><p>Converts a value into a Boolean. If the conversion fails, it will throw an error and cause the record to fail.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">$value::boolean</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">'true'::boolean</span> <span class="pre">=</span> <span class="pre">true</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">::r</code></summary><p>Converts a string into a Regex object, mainly for use with the <code class="docutils literal notranslate"><span class="pre">regexReplace</span></code> function.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">$value::r</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">'f.*'::r</span> <span class="pre">=</span> <span class="pre">f.*:</span> <span class="pre">scala.util.matching.Regex</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details></section>
<section id="string-functions">
<h2><span class="section-number">9.18.2. </span>String Functions<a class="headerlink" href="#string-functions" title="Permalink to this headline">¶</a></h2>
<details>
  <summary><code class="docutils literal notranslate">strip</code></summary><p>Removes characters from the start and end of a string. If the characters to strip are not specified, will strip whitespace by default.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">strip($value)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">strip($value,</span> <span class="pre">$chars)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">strip('afoob',</span> <span class="pre">'abc')</span> <span class="pre">=</span> <span class="pre">'foo'</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">strip('foao',</span> <span class="pre">'abc')</span> <span class="pre">=</span> <span class="pre">'foao'</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">strip('\t</span> <span class="pre">foo</span> <span class="pre">')</span> <span class="pre">=</span> <span class="pre">'foo'</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">stripPrefix</code></summary><p>Removes characters from the start of a string. If the characters to strip are not specified, will strip whitespace by default.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">stripPrefix($value)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">stripPrefix($value,</span> <span class="pre">$chars)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">stripPrefix('afoob',</span> <span class="pre">'abc')</span> <span class="pre">=</span> <span class="pre">'foob'</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">stripSuffix</code></summary><p>Removes characters from the end of a string. If the characters to strip are not specified, will strip whitespace by default.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">stripSuffix($value)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">stripSuffix($value,</span> <span class="pre">$chars)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">stripSuffix('afoob',</span> <span class="pre">'abc')</span> <span class="pre">=</span> <span class="pre">'afoo'</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">stripQuotes</code></summary><p>Remove double and single quotes from the start and end of a string.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">stripQuotes($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">stripQuotes('&quot;foo&quot;')</span> <span class="pre">=</span> <span class="pre">'foo'</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">stripQuotes('\'foo\'')</span> <span class="pre">=</span> <span class="pre">'foo'</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">stripQuotes('fo&quot;o')</span> <span class="pre">=</span> <span class="pre">'fo&quot;o'</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">replace</code></summary><p>Replaces a literal string with another string.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">replace($value,</span> <span class="pre">$toReplace,</span> <span class="pre">$replacement)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">replace('foobar',</span> <span class="pre">'ob',</span> <span class="pre">'ab')</span> <span class="pre">=</span> <span class="pre">'foabar'</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">remove</code></summary><p>Removes a substring from a string.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">remove($value,</span> <span class="pre">$substring)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">remove('foabco',</span> <span class="pre">'abc')</span> <span class="pre">=</span> <span class="pre">'foo'</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">length</code></summary><p>Returns the length of a string.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">length($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">length('foo')</span> <span class="pre">=</span> <span class="pre">3</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">trim</code></summary><p>Trim whitespace from around a string.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">trim($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">trim('</span>&#160; <span class="pre">foo</span> <span class="pre">')</span> <span class="pre">=</span> <span class="pre">'foo'</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">capitalize</code></summary><p>Capitalize a string.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">capitalize($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">capitalize('foo')</span> <span class="pre">=</span> <span class="pre">'Foo'</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">lowercase</code></summary><p>Lowercase a string.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">lowercase($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">lowercase('FOO')</span> <span class="pre">=</span> <span class="pre">'foo'</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">uppercase</code></summary><p>Uppercase a string.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">uppercase($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">uppercase('foo')</span> <span class="pre">=</span> <span class="pre">'FOO'</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">regexReplace</code></summary><p>Replace a given pattern with a target pattern in a string. In the replacement String, a dollar sign <code class="docutils literal notranslate"><span class="pre">$</span></code> followed by a number
will be interpreted as a reference to a group in the matched pattern, with numbers 1 through 9 corresponding to the first nine
groups, and 0 standing for the whole match. Any other character is an error. The backslash <code class="docutils literal notranslate"><span class="pre">\</span></code> character will be interpreted
as an escape character and can be used to escape the dollar sign.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">regexReplace($regex,</span> <span class="pre">$replacement,</span> <span class="pre">$value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">regexReplace('foo'::r,</span> <span class="pre">'bar',</span> <span class="pre">'foobar')</span> <span class="pre">=</span> <span class="pre">'barbar'</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">concatenate</code></summary><p>Concatenate two or more strings.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">concatenate($first,</span> <span class="pre">$second,</span> <span class="pre">...)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">concatenate('foo',</span> <span class="pre">'bar')</span> <span class="pre">=</span> <span class="pre">'foobar'</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">mkstring</code></summary><p>Concatenate two or more strings with a delimiter between each one.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">mkstring($delimiter,</span> <span class="pre">$first,</span> <span class="pre">...)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">mkstring(',',</span> <span class="pre">'foo',</span> <span class="pre">'bar')</span> <span class="pre">=</span> <span class="pre">'foo,bar'</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">substring</code></summary><p>Extract a substring from a string.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">substring($value,</span> <span class="pre">$startIndex,</span> <span class="pre">$endIndex)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">substring('foobarbaz',</span> <span class="pre">2,</span> <span class="pre">5)</span> <span class="pre">=</span> <span class="pre">'oba'</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">toString</code></summary><p>Convert another data type to a string.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">toString($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">concatenate(toString(5),</span> <span class="pre">toString(6))</span> <span class="pre">=</span> <span class="pre">'56'</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">emptyToNull</code></summary><p>Replace an empty string with <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">emptyToNull($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">emptyToNull('')</span> <span class="pre">=</span> <span class="pre">null</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">emptyToNull('foo')</span> <span class="pre">=</span> <span class="pre">'foo'</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">printf</code></summary><p>Format custom strings, using a Java <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html">Formatter</a>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">printf($pattern,</span> <span class="pre">$arg1,</span> <span class="pre">$arg2,</span> <span class="pre">...)'</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">printf('%s-%s-%sT00:00:00.000Z',</span> <span class="pre">'2015',</span> <span class="pre">'01',</span> <span class="pre">'01')</span> <span class="pre">=</span> <span class="pre">'2015-01-01T00:00:00.000Z'</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">printf('%2f',</span> <span class="pre">divide(-1,</span> <span class="pre">2,</span> <span class="pre">3))</span> <span class="pre">=</span> <span class="pre">'-0.17'</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details></section>
<section id="date-functions">
<h2><span class="section-number">9.18.3. </span>Date Functions<a class="headerlink" href="#date-functions" title="Permalink to this headline">¶</a></h2>
<details>
  <summary><code class="docutils literal notranslate">now</code></summary><p>Returns the current system time, as a Date.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">now()</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">date</code></summary><p>Custom date parser. The date format is defined by the Java <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html">DateTimeFormatter</a> class.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">date($format,</span> <span class="pre">$value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">date('yyyy-MM-dd\\'T\\'HH:mm:ss.SSSSSS',</span> <span class="pre">'2015-01-01T00:00:00.000000')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">dateTime</code></summary><p>A strict ISO 8601 Date parser for format <code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ss.SSSZZ</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">dateTime($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">dateTime('2015-01-01T00:00:00.000Z')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">basicIsoDate</code></summary><p>A date format for <code class="docutils literal notranslate"><span class="pre">yyyyMMdd</span></code>, equivalent to <code class="docutils literal notranslate"><span class="pre">java.time.format.DateTimeFormatter.BASIC_ISO_DATE</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">basicIsoDate($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">basicIsoDate('20150101')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">isoDate</code></summary><p>A date format for <code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd</span></code>, equivalent to <code class="docutils literal notranslate"><span class="pre">java.time.format.DateTimeFormatter.ISO_DATE</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">isoDate($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">isoDate('2015-01-01')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">isoLocalDate</code></summary><p>A date format for <code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd</span></code>, equivalent to <code class="docutils literal notranslate"><span class="pre">java.time.format.DateTimeFormatter.ISO_LOCAL_DATE</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">isoLocalDate($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">isoLocalDate('2015-01-01')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">basicDateTime</code></summary><p>A date format that combines a basic date and time for <code class="docutils literal notranslate"><span class="pre">yyyyMMdd'T'HHmmss.SSSZ</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">basicDateTime($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">basicDateTime('20150101T000000.000Z')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">basicDateTimeNoMillis</code></summary><p>A basic format that combines a basic date and time for format <code class="docutils literal notranslate"><span class="pre">yyyyMMdd'T'HHmmssZ</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">basicDateTimeNoMillis($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">basicDateTimeNoMillis('20150101T000000Z')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">isoDateTime</code></summary><p>A date format for <code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ss</span></code>, equivalent to <code class="docutils literal notranslate"><span class="pre">java.time.format.DateTimeFormatter.ISO_DATE_TIME</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">isoDateTime($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">isoDateTime('2015-01-01T00:00:00')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">isoLocalDateTime</code></summary><p>A date format for <code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ss</span></code>, equivalent to <code class="docutils literal notranslate"><span class="pre">java.time.format.DateTimeFormatter.ISO_LOCAL_DATE_TIME</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">isoLocalDateTime($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">isoLocalDateTime('2015-01-01T00:00:00')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">isoOffsetDateTime</code></summary><p>A date format for <code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ssZ</span></code>, equivalent to <code class="docutils literal notranslate"><span class="pre">java.time.format.DateTimeFormatter.ISO_OFFSET_DATE_TIME</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">isoOffsetDateTime($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">isoOffsetDateTime('2015-01-01T00:00:00Z')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">dateHourMinuteSecondMillis</code></summary><p>Formatter for full date and time, keeping the first 3 fractional seconds for format <code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ss.SSS</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">dateHourMinuteSecondMillis($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">dateHourMinuteSecondMillis('2015-01-01T00:00:00.000')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">millisToDate</code></summary><p>Create a new date from a long representing milliseconds since the Unix epoch (January 1, 1970).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">millisToDate($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">millisToDate(1449675054462L)</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">secsToDate</code></summary><p>Create a new date from a long representing seconds since the Unix epoch (January 1, 1970).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">secsToDate($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">secsToDate(1449675054)</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">dateToString</code></summary><p>Formats a date as a string, based on a pattern as defined by the Java
<a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html">DateTimeFormatter</a>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">dateToString($pattern,</span> <span class="pre">$date)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">dateToString('yyyy-MM-dd\\'T\\'HH:mm:ss.SSSSSS',</span> <span class="pre">now())</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">dateToMillis</code></summary><p>Converts a date to milliseconds since the Unix epoch (January 1, 1970).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">dateToMillis($date)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">dateToMillis(now())</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details></section>
<section id="geometry-functions">
<h2><span class="section-number">9.18.4. </span>Geometry Functions<a class="headerlink" href="#geometry-functions" title="Permalink to this headline">¶</a></h2>
<details>
  <summary><code class="docutils literal notranslate">point</code></summary><p>Parse a Point geometry from WKT, WKB, or longitude, latitude, z and measure. To create a point with measure but no z,
use <code class="docutils literal notranslate"><span class="pre">pointM</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">point($lon,</span> <span class="pre">$lat)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">point($lon,</span> <span class="pre">$lat,</span> <span class="pre">$z)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">point($lon,</span> <span class="pre">$lat,</span> <span class="pre">$z,</span> <span class="pre">$m)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">point($wktOrWkb)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">point(0.0,</span> <span class="pre">0.0)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">point('POINT(2</span> <span class="pre">3)')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">pointM</code></summary><p>Parse a Point geometry from longitude, latitude and measure.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">pointM($lon,</span> <span class="pre">$lat,</span> <span class="pre">$m)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">pointM(10.0,</span> <span class="pre">20.0,</span> <span class="pre">30.0)</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">multipoint</code></summary><p>Parse a multi-point from a WKT string, WKB byte array, or two lists of coordinates.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">multipoint($wktOrWkb)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">multipoint($longitudes,</span> <span class="pre">$latitudes)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">multipoint('MULTIPOINT</span> <span class="pre">((10</span> <span class="pre">40),</span> <span class="pre">(40</span> <span class="pre">30),</span> <span class="pre">(20</span> <span class="pre">20),</span> <span class="pre">(30</span> <span class="pre">10))')</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">multipoint(list(10,40,20,30),list(40,30,20,10))</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">linestring</code></summary><p>Parse a linestring from a WKT string, WKB byte array, or two lists of coordinates.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">linestring($wktOrWkb)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">linestring($longitudes,</span> <span class="pre">$latitudes)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">linestring('LINESTRING(102</span> <span class="pre">0,</span> <span class="pre">103</span> <span class="pre">1,</span> <span class="pre">104</span> <span class="pre">0,</span> <span class="pre">105</span> <span class="pre">1)')</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">linestring(list(102,103,104,105),list(0,1,0,1))</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">multilinestring</code></summary><p>Parse a multi-linestring from a WKT string or WKB byte array.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 89%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">multilinestring($wktOrWkb)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">multilinestring('MULTILINESTRING</span> <span class="pre">((10</span> <span class="pre">10,</span> <span class="pre">20</span> <span class="pre">20,</span> <span class="pre">10</span> <span class="pre">40),</span> <span class="pre">(40</span> <span class="pre">40,</span> <span class="pre">30</span> <span class="pre">30,</span> <span class="pre">40</span> <span class="pre">20,</span> <span class="pre">30</span> <span class="pre">10))')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">polygon</code></summary><p>Parse a polygon from a WKT string or WKB byte array.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">polygon($wktOrWkb)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">polygon('POLYGON</span> <span class="pre">((30</span> <span class="pre">10,</span> <span class="pre">40</span> <span class="pre">40,</span> <span class="pre">20</span> <span class="pre">40,</span> <span class="pre">10</span> <span class="pre">20,</span> <span class="pre">30</span> <span class="pre">10))')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">multipolygon</code></summary><p>Parse a multi-polygon from a WKT string or WKB byte array.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">multipolygon($wktOrWkb)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">multipolygon('MULTIPOLYGON</span> <span class="pre">(((30</span> <span class="pre">20,</span> <span class="pre">45</span> <span class="pre">40,</span> <span class="pre">10</span> <span class="pre">40,</span> <span class="pre">30</span> <span class="pre">20)),</span> <span class="pre">((15</span> <span class="pre">5,</span> <span class="pre">40</span> <span class="pre">10,</span> <span class="pre">10</span> <span class="pre">20,</span> <span class="pre">5</span> <span class="pre">10,</span> <span class="pre">15</span> <span class="pre">5)))')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">geometrycollection</code></summary><p>Parse a geometry collection from a WKT string or WKB byte array.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">geometrycollection($wktOrWkb)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">geometrycollection('GEOMETRYCOLLECTION(POINT(4</span> <span class="pre">6),LINESTRING(4</span> <span class="pre">6,7</span> <span class="pre">10))')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">geometry</code></summary><p>Parse a geometry from a WKT string or WKB byte array. Note that you would generally only use this method if you
are dealing with multiple geometry types, otherwise prefer a more specific method (e.g. <code class="docutils literal notranslate"><span class="pre">point</span></code>, <code class="docutils literal notranslate"><span class="pre">linestring</span></code>, etc).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">geometry($wktOrWkb)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">geometry('POINT(2</span> <span class="pre">3)')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">projectFrom</code></summary><p>Project a geometry from its native CRS to <code class="docutils literal notranslate"><span class="pre">EPSG:4326</span></code>. GeoMesa only supports <code class="docutils literal notranslate"><span class="pre">EPSG:4326</span></code>, so geometries must be transformed
when ingesting from another CRS.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">projectFrom($epsg,</span> <span class="pre">$geom)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">projectFrom('EPSG:3857',</span> <span class="pre">point(1689200.14,1113194.91))</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details></section>
<section id="id-functions">
<h2><span class="section-number">9.18.5. </span>ID Functions<a class="headerlink" href="#id-functions" title="Permalink to this headline">¶</a></h2>
<details>
  <summary><code class="docutils literal notranslate">stringToBytes</code></summary><p>Converts a string to a UTF-8 byte array (to pass to other functions like <code class="docutils literal notranslate"><span class="pre">md5()</span></code>).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">stringToBytes($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">stringToBytes('row,of,data')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">md5</code></summary><p>Creates an MD5 hash from a byte array. Note that MD5 is not as secure or as performant as other hashes, and should
generally be avoided.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">md5($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">md5(stringToBytes('row,of,data'))</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">murmur3_32</code></summary><p>Creates a 32-bit murmur3 hash from a string.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">murmur3_32($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">murmur3_32('row,of,data')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">murmur3_64</code></summary><p>Creates a 64-bit murmur3 hash from a string. Note that previously this function was incorrectly
named <code class="docutils literal notranslate"><span class="pre">murmur3_128</span></code>, and can still be invoked by that name.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">murmur3_64($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">murmur3_64('row,of,data')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">murmurHash3</code></summary><p>Creates a 128-bit murmur3 hash from a string or byte array, returned as a hex string.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">murmurHash3($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">murmurHash3('row,of,data')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">uuid</code></summary><p>Generates a random UUID, returned as a string.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">uuid()</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">uuidZ3</code></summary><p>Generates a Z3-based UUID for point geometries.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">uuidZ3($geom,</span> <span class="pre">$date,</span> <span class="pre">$interval)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">uuidZ3(point('POINT</span> <span class="pre">(3</span> <span class="pre">2)'),</span> <span class="pre">dateTime('2015-01-01T00:00:00.000Z'),</span> <span class="pre">'week')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>See <a class="reference internal" href="../datastores/index_config.html#customizing-z-index"><span class="std std-ref">Configuring Z-Index Time Interval</span></a> for details on Z3 intervals.</p>
</details>
<details>
  <summary><code class="docutils literal notranslate">uuidZ3Centroid</code></summary><p>Generates a Z3-based UUID for non-point geometries.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 9%" />
<col style="width: 91%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">uuidZ3Centroid($geom,</span> <span class="pre">$date,</span> <span class="pre">$interval)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">uuidZ3Centroid(linestring('LINESTRING(102</span> <span class="pre">0,</span> <span class="pre">103</span> <span class="pre">1,</span> <span class="pre">104</span> <span class="pre">0,</span> <span class="pre">105</span> <span class="pre">1)',</span> <span class="pre">dateTime('2015-01-01T00:00:00.000Z'),</span> <span class="pre">'week')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>See <a class="reference internal" href="../datastores/index_config.html#customizing-z-index"><span class="std std-ref">Configuring Z-Index Time Interval</span></a> for details on Z3 intervals.</p>
</details></section>
<section id="math-functions">
<h2><span class="section-number">9.18.6. </span>Math Functions<a class="headerlink" href="#math-functions" title="Permalink to this headline">¶</a></h2>
<p>The arguments to a math functions must be numbers - integers, doubles, floats, longs or numeric strings. All math functions
return doubles. If another data type is needed, convert the value afterwards, e.g. <code class="docutils literal notranslate"><span class="pre">add($first,$second)::long</span></code>.</p>
<p>Most math functions accept multiple arguments, or will accept a single <code class="docutils literal notranslate"><span class="pre">java.util.List</span></code> containing the arguments.</p>
<details>
  <summary><code class="docutils literal notranslate">add</code></summary><p>Adds two or more values.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">add($value1,</span> <span class="pre">$value2,</span> <span class="pre">...)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">add(list($value1,</span> <span class="pre">$value2))</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">add(1,</span> <span class="pre">2)</span> <span class="pre">=</span> <span class="pre">3.0</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">subtract</code></summary><p>Subtracts two or more values sequentially.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">subtract($value1,</span> <span class="pre">$value2,</span> <span class="pre">...)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">subtract(list($value1,</span> <span class="pre">$value2))</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">subtract(3,2)</span> <span class="pre">=</span> <span class="pre">1.0</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">subtract(3,2,1)</span> <span class="pre">=</span> <span class="pre">0.0</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">subtract(list(3,1))</span> <span class="pre">=</span> <span class="pre">2.0</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">multiply</code></summary><p>Multiply two or more values.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">multiply($value1,</span> <span class="pre">$value2,</span> <span class="pre">...)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">multiply(list($value1,</span> <span class="pre">$value2))</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">multiply(2,2,2)</span> <span class="pre">=</span> <span class="pre">8.0</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">multiply(list(3,2))</span> <span class="pre">=</span> <span class="pre">6.0</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">divide</code></summary><p>Divides two or more values sequentially.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">divide($value1,</span> <span class="pre">$value2,</span> <span class="pre">...)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">divide(list($value1,</span> <span class="pre">$value2))</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">divide(24,2,3)</span> <span class="pre">=</span> <span class="pre">4.0</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">divide(list(4,2))</span> <span class="pre">=</span> <span class="pre">2.0</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">modulo</code></summary><p>Takes the modulo of two values. Note that unlike other math functions, modulo expects and returns integers instead
of doubles.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">modulo($value1,</span> <span class="pre">$value2)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">modulo(list($value1,</span> <span class="pre">$value2))</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">modulo(5,2)</span> <span class="pre">=</span> <span class="pre">1</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">modulo(list(7,5))</span> <span class="pre">=</span> <span class="pre">2</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">mean</code></summary><p>Takes the mean (average) of two or more numbers.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">mean($value1,</span> <span class="pre">$value2,</span> <span class="pre">...)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">mean(list($value1,</span> <span class="pre">$value2)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">mean(10,9,8)</span> <span class="pre">=</span> <span class="pre">9.0</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">mean(list(10,9,8))</span> <span class="pre">=</span> <span class="pre">9.0</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">min</code></summary><p>Finds the minimum of two or more numbers. The numbers must all be of the same type, and the return value will
be of the same type.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">min($value1,</span> <span class="pre">$value2,</span> <span class="pre">...)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">min(list($value1,</span> <span class="pre">$value2)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">min(10,9,8)</span> <span class="pre">=</span> <span class="pre">8</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">min(list(1,2,3))</span> <span class="pre">=</span> <span class="pre">1</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">max</code></summary><p>Finds the maximum of two or more numbers. The numbers must all be of the same type, and the return value will
be of the same type.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">max($value1,</span> <span class="pre">$value2,</span> <span class="pre">...)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">max(list($value1,</span> <span class="pre">$value2)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">max(10,9,8)</span> <span class="pre">=</span> <span class="pre">10</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">max(list(1,2,3))</span> <span class="pre">=</span> <span class="pre">3</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">sin</code></summary><p>Calculates the sine of a number.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">sin($value)</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">cos</code></summary><p>Calculates the cosine of a number.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">cos($value)</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">tan</code></summary><p>Calculates the tangent of a number.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">tan($value)</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">asin</code></summary><p>Calculates the arc sine of a number.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">asin($value)</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">acos</code></summary><p>Calculates the arc cosine of a number.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">acos($value)</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">atan</code></summary><p>Calculates the arc tangent of a number.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">atan($value)</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">ln</code></summary><p>Calculates the natural logarithm of a number.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">ln($value)</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">exp</code></summary><p>Calculates Euler’s number <em>e</em> raised to the power of a number.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">exp($value)</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">sqrt</code></summary><p>Calculates the square root of a number.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">sqrt($value)</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details></section>
<section id="list-and-map-functions">
<span id="converter-list-map-fns"></span><h2><span class="section-number">9.18.7. </span>List and Map Functions<a class="headerlink" href="#list-and-map-functions" title="Permalink to this headline">¶</a></h2>
<details>
  <summary><code class="docutils literal notranslate">list</code></summary><p>Creates a list from the input arguments.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">list($value1,</span> <span class="pre">$value2,</span> <span class="pre">...)</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">listItem</code></summary><p>Selects an element out of a list by index.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">listItem($list,</span> <span class="pre">$index)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">listItem(list('1',</span> <span class="pre">'2',</span> <span class="pre">'3'),</span> <span class="pre">0)</span> <span class="pre">=</span> <span class="pre">'1'</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">mapValue</code></summary><p>Read a value out of a map by key.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">mapValue($map,</span> <span class="pre">$key)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">mapValue(parseMap('string-&gt;int',</span> <span class="pre">'a-&gt;1,b-&gt;2,c-&gt;3'),</span> <span class="pre">'a')</span> <span class="pre">=</span> <span class="pre">1</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">parseList</code></summary><p>Parse a list from a string. Supported list item types are <code class="docutils literal notranslate"><span class="pre">string</span></code>, <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">long</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">double</span></code>, <code class="docutils literal notranslate"><span class="pre">boolean</span></code>
<code class="docutils literal notranslate"><span class="pre">bytes</span></code> (for <code class="docutils literal notranslate"><span class="pre">byte[]</span></code>), <code class="docutils literal notranslate"><span class="pre">uuid</span></code> and <code class="docutils literal notranslate"><span class="pre">date</span></code>. If the delimiter is not specified, it defaults to a comma <code class="docutils literal notranslate"><span class="pre">,</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">parseList($itemType,</span> <span class="pre">$list)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">parseList($itemType,</span> <span class="pre">$list,</span> <span class="pre">$delimiter)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">parseList('int',</span> <span class="pre">'1,2,3')</span> <span class="pre">=</span> <span class="pre">[</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">3</span> <span class="pre">]</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">parseList('int',</span> <span class="pre">'1:2:3',</span> <span class="pre">':')</span> <span class="pre">=</span> <span class="pre">[</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">3</span> <span class="pre">]</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">parseMap</code></summary><p>Parse a map from a string. The key and value types must be specified as a string, separated by <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code>.
Supported types are <code class="docutils literal notranslate"><span class="pre">string</span></code>, <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">long</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">double</span></code>, <code class="docutils literal notranslate"><span class="pre">boolean</span></code> <code class="docutils literal notranslate"><span class="pre">bytes</span></code> (for <code class="docutils literal notranslate"><span class="pre">byte[]</span></code>), <code class="docutils literal notranslate"><span class="pre">uuid</span></code>
and <code class="docutils literal notranslate"><span class="pre">date</span></code>. Optionally, a record and key-value delimiter can be specified. If not specified, the record delimiter defaults to
a comma <code class="docutils literal notranslate"><span class="pre">,</span></code>, and the key-value delimiter defaults to an “arrow” <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">parseMap($keyValueTypes,</span> <span class="pre">$map)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">parseMap($keyValueTypes,</span> <span class="pre">$map,</span> <span class="pre">$keyValueDelimiter)</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">parseMap($keyValueTypes,</span> <span class="pre">$map,</span> <span class="pre">$keyValueDelimiter,</span> <span class="pre">$recordDelimiter)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">parseMap('string-&gt;int',</span> <span class="pre">'a-&gt;1,b-&gt;2,c-&gt;3')</span> <span class="pre">=</span> <span class="pre">{</span> <span class="pre">a=1,</span> <span class="pre">b=2,</span> <span class="pre">c=3</span> <span class="pre">}</span> <span class="pre">]</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">parseMap('string-&gt;int',</span> <span class="pre">'a-&gt;1,b-&gt;2,c-&gt;3',</span> <span class="pre">'-&gt;')</span> <span class="pre">=</span> <span class="pre">{</span> <span class="pre">a=1,</span> <span class="pre">b=2,</span> <span class="pre">c=3</span> <span class="pre">}</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">parseMap('string-&gt;int',</span> <span class="pre">'a-&gt;1,b-&gt;2,c-&gt;3',</span> <span class="pre">'-&gt;',</span> <span class="pre">',')</span> <span class="pre">=</span> <span class="pre">{</span> <span class="pre">a=1,</span> <span class="pre">b=2,</span> <span class="pre">c=3</span> <span class="pre">}</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">transformListItems</code></summary><p>Applies a transform expression to every element of a list. The expression to apply must be defined as a string. The list
item is available in the transform expression as <code class="docutils literal notranslate"><span class="pre">$0</span></code>. In the example shown, the list will be converted from <code class="docutils literal notranslate"><span class="pre">List&lt;String&gt;</span></code>
to <code class="docutils literal notranslate"><span class="pre">List&lt;Double&gt;</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">transformListItems($list,</span> <span class="pre">$expression)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">transformListItems(list('1','2','3'),</span> <span class="pre">'stringToDouble($0)')</span> <span class="pre">=</span> <span class="pre">[</span> <span class="pre">1.0,</span> <span class="pre">2.0,</span> <span class="pre">3.0</span> <span class="pre">]</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details></section>
<section id="encoding-functions">
<h2><span class="section-number">9.18.8. </span>Encoding Functions<a class="headerlink" href="#encoding-functions" title="Permalink to this headline">¶</a></h2>
<details>
  <summary><code class="docutils literal notranslate">base64Encode</code></summary><p>Encodes a byte array as a base-64 URL-safe string.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">base64Encode($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">base64Encode(stringToBytes('foo'))</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">base64Decode</code></summary><p>Decodes a base-64 URL-safe encoded string into a byte array.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">base64Decode($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">base64Decode('Zm9v')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details></section>
<section id="control-functions">
<h2><span class="section-number">9.18.9. </span>Control Functions<a class="headerlink" href="#control-functions" title="Permalink to this headline">¶</a></h2>
<details>
  <summary><code class="docutils literal notranslate">try</code></summary><p>Execute another expression - if it throws an exception, return a default value. Note that throwing exceptions in Java is
relatively expensive, so <code class="docutils literal notranslate"><span class="pre">try</span></code> expressions that fail frequently should be avoided where possible. For instance,
<code class="docutils literal notranslate"><span class="pre">try($0::int,</span> <span class="pre">null)</span></code> could be replaced with <code class="docutils literal notranslate"><span class="pre">toInt($0)</span></code>, which is equivalent but will handle null values without throwing
exceptions.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">try($value,</span> <span class="pre">$default)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">try(&quot;1&quot;::int,</span> <span class="pre">0)</span> <span class="pre">=</span> <span class="pre">1</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">try(&quot;abcd&quot;::int,</span> <span class="pre">null)</span> <span class="pre">=</span> <span class="pre">null</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">withDefault</code></summary><p>Replace a value with the first non-null alternative, if the value is null.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">withDefault($value,</span> <span class="pre">$default1,</span> <span class="pre">...)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">withDefault('foo',</span> <span class="pre">'bar')</span> <span class="pre">=</span> <span class="pre">'foo'</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">withDefault('foo',</span> <span class="pre">'bar',</span> <span class="pre">'baz')</span> <span class="pre">=</span> <span class="pre">'foo'</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">withDefault(null,</span> <span class="pre">'bar',</span> <span class="pre">'baz')</span> <span class="pre">=</span> <span class="pre">'bar'</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">withDefault(null,</span> <span class="pre">null,</span> <span class="pre">'baz')</span> <span class="pre">=</span> <span class="pre">'baz'</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">require</code></summary><p>Throw an exception if the value is null (which will fail the current record), otherwise return the value.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">require($value)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">require('foo')</span> <span class="pre">=</span> <span class="pre">'foo'</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">require(null)</span> <span class="pre">//</span> <span class="pre">fails</span> <span class="pre">the</span> <span class="pre">current</span> <span class="pre">record</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details></section>
<section id="state-functions">
<h2><span class="section-number">9.18.10. </span>State Functions<a class="headerlink" href="#state-functions" title="Permalink to this headline">¶</a></h2>
<details>
  <summary><code class="docutils literal notranslate">inputFilePath</code></summary><p>Provides the absolute path to the file being operated on, if available. Note that the file path is a variable, not a function,
and is referenced through <code class="docutils literal notranslate"><span class="pre">$</span></code> notation.</p>
<p>The file path may not always be available, depending on how the converter is being invoked.
When invoked through the GeoMesa command-line tools or GeoMesa NiFi, it will be set appropriately.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">$inputFilePath</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details>
<details>
  <summary><code class="docutils literal notranslate">lineNumber</code></summary><p>Provides the current line number in the file being operated on, if available.</p>
<p>The line number may not always be available, depending on the converter being used. For some converters,
line number may be an abstract concept. For example, in the Avro converter line number will refer to the
number of the Avro record in the file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">lineNumber()</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details></section>
<section id="enrichment-functions">
<h2><span class="section-number">9.18.11. </span>Enrichment Functions<a class="headerlink" href="#enrichment-functions" title="Permalink to this headline">¶</a></h2>
<details>
  <summary><code class="docutils literal notranslate">cacheLookup</code></summary><p>The converter framework provides a mechanism for setting an attribute based on a lookup
from a cache. See <a class="reference internal" href="cache.html#converter-caches"><span class="std std-ref">Enrichment Caches</span></a> for details.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Function</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">cacheLookup($cacheName,</span> <span class="pre">$entityKey,</span> <span class="pre">$attributeKey)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><strong>Usage</strong></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">cacheLookup('test',</span> <span class="pre">$userId,</span> <span class="pre">'email')</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</details></section>
<section id="cql-functions">
<h2><span class="section-number">9.18.12. </span>CQL Functions<a class="headerlink" href="#cql-functions" title="Permalink to this headline">¶</a></h2>
<p>Most of the basic CQL functions are available as transform functions. To use one, invoke it like a regular function, prefixed
with the <code class="docutils literal notranslate"><span class="pre">cql</span></code> namespace. For example, you can use the CQL <code class="docutils literal notranslate"><span class="pre">buffer</span></code> function to turn a point into a polygon:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cql:buffer($value, 2.0)
</pre></div>
</div>
<p>For more information on the various CQL functions, see the GeoServer
<a class="reference external" href="https://docs.geoserver.org/stable/en/user/filter/function_reference.html#filter-function-reference">filter function reference</a>.</p>
</section>
<section id="json-avro-transformations">
<h2><span class="section-number">9.18.13. </span>JSON/Avro Transformations<a class="headerlink" href="#json-avro-transformations" title="Permalink to this headline">¶</a></h2>
<p>See JSON <a class="reference internal" href="json.html#json-converter-functions"><span class="std std-ref">Transform Functions</span></a> and Avro <a class="reference internal" href="avro.html#avro-converter-functions"><span class="std std-ref">Transform Functions</span></a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="feature_to_feature.html" class="btn btn-neutral float-left" title="9.17. Feature-To-Feature Converter" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="premade/index.html" class="btn btn-neutral float-right" title="9.19. Prepackaged Converters" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  

<div role="contentinfo">
  <p>
    &copy; Copyright 2013-2025 <a href="https://www.ga-intelligence.com/">General Atomics</a>
    <br/>
    Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>
  </p>
</div>

<div role="contentinfo">
  <p>
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
    using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>
    - contribute to this page on
    <a href="https://github.com/locationtech/geomesa/edit/main/docs/user/convert/functions.rst">GitHub <img src="../../_static/launch.svg"/></a>
  </p>

</div>



</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>