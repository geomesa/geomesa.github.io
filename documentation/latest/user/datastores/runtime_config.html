<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>7.8. Runtime Configuration &mdash; GeoMesa 5.3.0 Manuals</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme_custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="canonical" href="https://www.geomesa.org/documentation/user/datastores/runtime_config.html"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="7.9. Query Planning" href="query_planning.html" />
    <link rel="prev" title="7.7. Index Configuration" href="index_config.html" />


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> GeoMesa
          </a>
              <div class="version">
                5.4.0-SNAPSHOT
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html">2. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../download.html">3. Versions and Downloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html">4. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html">5. Architecture Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geotools.html">6. GeoTools Overview</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">7. GeoMesa Data Stores</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="attributes.html">7.1. GeoTools Feature Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="json.html">7.2. JSON Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="index_overview.html">7.3. Index Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="index_basics.html">7.4. Index Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="index_basics.html#index-versioning">7.5. Index Versioning</a></li>
<li class="toctree-l3"><a class="reference internal" href="index_ext.html">7.6. Additional Index Implementations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index_config.html">7.7. Index Configuration</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">7.8. Runtime Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#common-properties">7.8.1. Common Properties</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="query_planning.html">7.9. Query Planning</a></li>
<li class="toctree-l3"><a class="reference internal" href="query_planning.html#explaining-query-plans">7.10. Explaining Query Plans</a></li>
<li class="toctree-l3"><a class="reference internal" href="query_interceptor.html">7.11. Query Interceptors and Guards</a></li>
<li class="toctree-l3"><a class="reference internal" href="query_config.html">7.12. Query Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="filter_functions.html">7.13. Filter Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="analytic_queries.html">7.14. Analytic Querying</a></li>
<li class="toctree-l3"><a class="reference internal" href="security.html">7.15. Data Security</a></li>
<li class="toctree-l3"><a class="reference internal" href="auditing.html">7.16. Query Auditing</a></li>
<li class="toctree-l3"><a class="reference internal" href="data.html">7.17. Moving and Migrating Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="reserved_words.html">7.18. Reserved Words</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cli/index.html">8. Command-Line Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../convert/index.html">9. GeoMesa Converters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geoserver.html">10. GeoServer Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spark/index.html">11. GeoMesa Spark</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nifi/index.html">12. GeoMesa NiFi Bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../process.html">13. GeoMesa Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../accumulo/index.html">14. Accumulo Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hbase/index.html">15. HBase Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cassandra/index.html">16. Cassandra Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../postgis/index.html">17. Partitioned PostGIS Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kafka/index.html">18. Kafka Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../redis/index.html">19. Redis Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../filesystem/index.html">20. FileSystem Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lambda/index.html">21. Lambda Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ds_views.html">22. Combined Data Store Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade.html">23. Upgrade Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#appendix">Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GeoMesa</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">User Manual</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">7. </span>GeoMesa Data Stores</a></li>
      <li class="breadcrumb-item active"><span class="section-number">7.8. </span>Runtime Configuration</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="runtime-configuration">
<span id="geomesa-site-xml"></span><h1><span class="section-number">7.8. </span>Runtime Configuration<a class="headerlink" href="#runtime-configuration" title="Permalink to this headline">¶</a></h1>
<p>GeoMesa uses system properties for various runtime configuration options. As a convenience, properties
can be specified in an XML file instead of the command line. When run, GeoMesa will load
the file <code class="docutils literal notranslate"><span class="pre">geomesa-site.xml</span></code> from the classpath (if available), and use any properties configured there.</p>
<p>Ensure the file is available at the root level of the classpath. In the GeoMesa command-line tools,
place it in the <code class="docutils literal notranslate"><span class="pre">conf</span></code> folder. For GeoServer, place it under <code class="docutils literal notranslate"><span class="pre">geoserver/WEB-INF/classes</span></code>.</p>
<p>Each tools distribution contains a template file at <code class="docutils literal notranslate"><span class="pre">conf/geomesa-site.xml.template</span></code> that can be used
as a starting point. Do not modify this file directly as it is never read;
instead copy the desired configurations into <code class="docutils literal notranslate"><span class="pre">geomesa-site.xml</span></code>.</p>
<p>By default, system properties set through command line parameters will take precedence over the
configuration file. If you wish a configuration item to always take precedence, even over command
line parameters, change the <code class="docutils literal notranslate"><span class="pre">&lt;final&gt;</span></code> tag to true.</p>
<p>Configuration properties with empty values will not be applied, you can change this by marking a
property as final.</p>
<section id="common-properties">
<h2><span class="section-number">7.8.1. </span>Common Properties<a class="headerlink" href="#common-properties" title="Permalink to this headline">¶</a></h2>
<p>These properties apply to <strong>most</strong> GeoMesa implementations, although not always to the Kafka, Partitioned PostGIS, and File
System stores. Additional properties for different back-end databases can be found in the chapters for each one.</p>
<section id="geomesa-arrow-format-version">
<h3><span class="section-number">7.8.1.1. </span>geomesa.arrow.format.version<a class="headerlink" href="#geomesa-arrow-format-version" title="Permalink to this headline">¶</a></h3>
<p>Sets the IPC format version for Arrow-encoded responses. This is expected to be a valid Arrow version,
i.e. <code class="docutils literal notranslate"><span class="pre">0.16</span></code> or <code class="docutils literal notranslate"><span class="pre">0.10</span></code>. The Arrow IPC format changed slightly starting with version <code class="docutils literal notranslate"><span class="pre">0.15</span></code>.</p>
</section>
<section id="geomesa-audit-provider-impl">
<h3><span class="section-number">7.8.1.2. </span>geomesa.audit.provider.impl<a class="headerlink" href="#geomesa-audit-provider-impl" title="Permalink to this headline">¶</a></h3>
<p>This property specifies the fully-qualified class name of an audit provider implementation to use.
For more information, see <a class="reference internal" href="auditing.html#audit-provider"><span class="std std-ref">Query Auditing</span></a>.</p>
</section>
<section id="geomesa-convert-config-urls">
<h3><span class="section-number">7.8.1.3. </span>geomesa.convert.config.urls<a class="headerlink" href="#geomesa-convert-config-urls" title="Permalink to this headline">¶</a></h3>
<p>This property allows for adding GeoMesa converter configurations to the environment. It can be set to a
comma-separated list of arbitrary URLs. For more information on converters, see <a class="reference internal" href="../convert/index.html#converters"><span class="std std-ref">GeoMesa Converters</span></a>.</p>
</section>
<section id="geomesa-convert-scripts-path">
<h3><span class="section-number">7.8.1.4. </span>geomesa.convert.scripts.path<a class="headerlink" href="#geomesa-convert-scripts-path" title="Permalink to this headline">¶</a></h3>
<p>This property allows for adding files to the classpath. It should be set to a colon-separated list of file
paths. This is useful for getting scripts onto the classpath for use by map-reduce ingest jobs.</p>
</section>
<section id="geomesa-density-batch-size">
<h3><span class="section-number">7.8.1.5. </span>geomesa.density.batch.size<a class="headerlink" href="#geomesa-density-batch-size" title="Permalink to this headline">¶</a></h3>
<p>This property controls the batch size used for running distributed density (heatmap) queries. It needs to be set on
the client making the request (e.g. GeoServer). If a query is closed or cancelled before completion, the batch
size will determine how long the distributed scan will keep running before seeing the cancellation.</p>
</section>
<section id="geomesa-distributed-lock-timeout">
<h3><span class="section-number">7.8.1.6. </span>geomesa.distributed.lock.timeout<a class="headerlink" href="#geomesa-distributed-lock-timeout" title="Permalink to this headline">¶</a></h3>
<p>The property controls the length of time a data store will wait to acquire a distributed lock before performing
schema operations (<code class="docutils literal notranslate"><span class="pre">createSchema</span></code>, <code class="docutils literal notranslate"><span class="pre">updateSchema</span></code> and <code class="docutils literal notranslate"><span class="pre">removeSchema</span></code>). As GeoMesa is often run in parallel,
acquiring a distributed lock among different processes prevents metadata corruption that may result from multiple
threads altering the schema simultaneously. The timeout is specified as a duration, e.g. <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">minute</span></code> or
<code class="docutils literal notranslate"><span class="pre">30</span> <span class="pre">seconds</span></code>, with a default value of <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">minutes</span></code>.</p>
</section>
<section id="geomesa-distributed-version-check">
<h3><span class="section-number">7.8.1.7. </span>geomesa.distributed.version.check<a class="headerlink" href="#geomesa-distributed-version-check" title="Permalink to this headline">¶</a></h3>
<p>This property can be used to check for version mismatches in the distributed classpath. When enabled,
GeoMesa will throw an exception if it detects a major version discrepancy between the local classpath and
the distributed classpath (e.g. HBase region servers or Accumulo tablet servers), as this will generally cause
queries to fail. If not enabled, then classpath errors will not be detected proactively, and will likely result
in runtime exceptions.</p>
</section>
<section id="geomesa-feature-id-generator">
<span id="id-generator-config"></span><h3><span class="section-number">7.8.1.8. </span>geomesa.feature.id-generator<a class="headerlink" href="#geomesa-feature-id-generator" title="Permalink to this headline">¶</a></h3>
<p>This property controls the default implementation used for generating IDs for simple features,
if the <code class="docutils literal notranslate"><span class="pre">USE_PROVIDED_FIDS</span></code> or <code class="docutils literal notranslate"><span class="pre">PROVIDED_FID</span></code> hint is not set in the feature. It should be set to
the fully-qualified class name for a class implementing <code class="docutils literal notranslate"><span class="pre">org.locationtech.geomesa.utils.uuid.FeatureIdGenerator</span></code>.</p>
<p>GeoMesa includes an implementing class <code class="docutils literal notranslate"><span class="pre">org.locationtech.geomesa.utils.uuid.Z3FeatureIdGenerator</span></code>, which creates
a unique feature ID partially based on the default time and geometry for the feature. This class is used by
default if nothing else is specified, and should work well for most situations.</p>
</section>
<section id="geomesa-filter-hash-threshold">
<h3><span class="section-number">7.8.1.9. </span>geomesa.filter.hash.threshold<a class="headerlink" href="#geomesa-filter-hash-threshold" title="Permalink to this headline">¶</a></h3>
<p>Evaluating a filter of the form <code class="docutils literal notranslate"><span class="pre">name</span> <span class="pre">=</span> <span class="pre">'john'</span> <span class="pre">OR</span> <span class="pre">name</span> <span class="pre">=</span> <span class="pre">'jane'</span> <span class="pre">OR</span> <span class="pre">name</span> <span class="pre">=</span> <span class="pre">'doe'</span></code> can be slow if the number
of clauses is high. GeoMesa will optimize such filters by turning them into a hash lookup instead of a sequential
comparison. This property controls the threshold for switching to a hash lookup. By default, the threshold is <code class="docutils literal notranslate"><span class="pre">5</span></code>.</p>
<p>Note that for datastores with distributed filtering (e.g. HBase and Accumulo), this property needs to be set
on the distributed processing nodes.</p>
</section>
<section id="geomesa-filter-remote-cache-expiry">
<h3><span class="section-number">7.8.1.10. </span>geomesa.filter.remote.cache.expiry<a class="headerlink" href="#geomesa-filter-remote-cache-expiry" title="Permalink to this headline">¶</a></h3>
<p>This property controls how long query filters will be cached in memory in remote processes (i.e. HBase region servers
and Accumulo tablet servers). For repeated queries, caching the filter can improve query times. However, complex
filters can require a substantial amount of memory overhead. The expiry is specified as a duration, e.g.
<code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">minutes</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">hour</span></code>. The default is <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">minutes</span></code>.</p>
<p>Note that to take effect, the property must be set on each region or tablet server.</p>
</section>
<section id="geomesa-force-count">
<h3><span class="section-number">7.8.1.11. </span>geomesa.force.count<a class="headerlink" href="#geomesa-force-count" title="Permalink to this headline">¶</a></h3>
<p>This property controls how GeoMesa calculates the size of a result set (e.g. <code class="docutils literal notranslate"><span class="pre">FeatureSource.getCount</span></code>).
By default, GeoMesa will estimate the size of a result set using statistics. This will provide a
rough estimate very quickly. Some applications rely on knowing the exact size of a result set up
front, so estimates will cause problems. To force GeoMesa to calculate the exact size of a result
set, you may set this property to <code class="docutils literal notranslate"><span class="pre">true</span></code>. You may also override this behavior on a per-query basis
by using the query hint <code class="docutils literal notranslate"><span class="pre">org.locationtech.geomesa.index.conf.QueryHints.EXACT_COUNT</span></code>.</p>
</section>
<section id="geomesa-exact-count-max-features">
<h3><span class="section-number">7.8.1.12. </span>geomesa.exact.count.max.features<a class="headerlink" href="#geomesa-exact-count-max-features" title="Permalink to this headline">¶</a></h3>
<p>The GeoTools API around <code class="docutils literal notranslate"><span class="pre">getCount</span></code> indicates that a <code class="docutils literal notranslate"><span class="pre">maxFeatures</span></code> setting should be respected.
When the <code class="docutils literal notranslate"><span class="pre">geomesa.force.count</span></code> or <code class="docutils literal notranslate"><span class="pre">QueryHints.EXACT_COUNT</span></code> is true  and maxFeatures is lower than this setting,
GeoMesa will run the query to determine how many records are in the result set.
Otherwise, GeoMesa will use the Stats API and respect the counting setting.  The default for this setting is 1000.</p>
</section>
<section id="geomesa-geometry-length-max">
<h3><span class="section-number">7.8.1.13. </span>geomesa.geometry.length.max<a class="headerlink" href="#geomesa-geometry-length-max" title="Permalink to this headline">¶</a></h3>
<p>This property controls the maximum number of coordinates that will be allowed in a geometry. During deserialization,
it is possible that corrupted data will cause the length of a geometry to be incorrect, which can lead to attempting
to allocate space for a large number of coordinates. This property can be used to set an upper limit on the space
that will be allocated. By default there is no max length.</p>
</section>
<section id="geomesa-geometry-nesting-max">
<h3><span class="section-number">7.8.1.14. </span>geomesa.geometry.nesting.max<a class="headerlink" href="#geomesa-geometry-nesting-max" title="Permalink to this headline">¶</a></h3>
<p>This property controls the maximum level of geometry collections recursively containing other geometry collections.
During deserialization, it is possible that corrupted data will cause the type of a geometry to be incorrect, which
can lead to creating many nested geometry collections in a recursive loop, causing a stack overflow. This property
can be used to set an upper limit on the level of recursion. By default 3 levels of recursion are allowed.</p>
</section>
<section id="geomesa-geometry-processing">
<h3><span class="section-number">7.8.1.15. </span>geomesa.geometry.processing<a class="headerlink" href="#geomesa-geometry-processing" title="Permalink to this headline">¶</a></h3>
<p>This property controls how query geometries will be handled with respect to the anti-meridian. Acceptable values are
one of <code class="docutils literal notranslate"><span class="pre">spatial4j</span></code> or <code class="docutils literal notranslate"><span class="pre">none</span></code>. <code class="docutils literal notranslate"><span class="pre">spatial4j</span></code> (the default) will use the Spatial4J library, which will interpret a
geometry with a segment spanning more than 180 degrees of longitude as being inverted around the anti-meridian. To
prevent a geometry from being inverted, add way-points every 180 degrees. <code class="docutils literal notranslate"><span class="pre">none</span></code> will interpret geometries
literally. In this case, to query around the anti-meridian, use an OR filter or a geometry collection.</p>
<p>As an example, the following filters both specify a 2-degree area around the anti-meridian:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// spatial4j processing</span>
<span class="s">&quot;intersects(geom, &#39;POLYGON((-179 90, 179 90, 179 -90, -179 -90, -179 90))&#39;)&quot;</span>
<span class="c1">// no processing</span>
<span class="s">&quot;intersects(geom, &#39;MULTIPOLYGON(((-179 90, -180 90, -180 -90, -179 -90, -179 90)),((179 90, 180 90, 180 -90, 179 -90, 179 90)))&#39;)&quot;</span>
</pre></div>
</div>
<p>While the following filters both specify a 358-degree globe-spanning polygon:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// spatial4j processing</span>
<span class="s">&quot;intersects(geom, &#39;POLYGON((-179 90, 0 90, 179 90, 179 -90, 0 -90, -179 -90, -179 90))&#39;)&quot;</span>
<span class="c1">// no processing</span>
<span class="s">&quot;intersects(geom, &#39;POLYGON((-179 90, 179 90, 179 -90, -179 -90, -179 90))&#39;)&quot;</span>
</pre></div>
</div>
</section>
<section id="geomesa-ilike-max-length">
<h3><span class="section-number">7.8.1.16. </span>geomesa.ilike.max.length<a class="headerlink" href="#geomesa-ilike-max-length" title="Permalink to this headline">¶</a></h3>
<p>Controls the max length of an <code class="docutils literal notranslate"><span class="pre">ilike</span></code> predicate that will be parsed by GeoMesa for attribute index queries.
Case-insensitive matches must be enumerated for each possible case, which will result in exponentially
increasing query ranges. The default value is <code class="docutils literal notranslate"><span class="pre">10</span></code>, which will result in 1024 ranges.</p>
</section>
<section id="geomesa-ingest-local-batch-size">
<h3><span class="section-number">7.8.1.17. </span>geomesa.ingest.local.batch.size<a class="headerlink" href="#geomesa-ingest-local-batch-size" title="Permalink to this headline">¶</a></h3>
<p>Controls the batch size for local ingests via the command-line tools. By default, feature writers will be
flushed every 20,000 features.</p>
</section>
<section id="geomesa-json-cache-expiry">
<h3><span class="section-number">7.8.1.18. </span>geomesa.json.cache.expiry<a class="headerlink" href="#geomesa-json-cache-expiry" title="Permalink to this headline">¶</a></h3>
<p>Controls the length of time that parsed JSON-path objects are kept in memory. The expiry is specified as a duration, e.g.
<code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">minutes</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">hour</span></code>. The default is <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">minutes</span></code>.</p>
</section>
<section id="geomesa-metadata-expiry">
<h3><span class="section-number">7.8.1.19. </span>geomesa.metadata.expiry<a class="headerlink" href="#geomesa-metadata-expiry" title="Permalink to this headline">¶</a></h3>
<p>This property controls how often simple feature type metadata is read from the underlying data store.
Calls to <code class="docutils literal notranslate"><span class="pre">updateSchema</span></code> on a data store will not show up in other instances until the metadata
cache has expired. The expiry is specified as a duration, e.g. <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">minutes</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">hour</span></code>. The default
is <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">minutes</span></code>.</p>
</section>
<section id="geomesa-partition-scan-parallel">
<h3><span class="section-number">7.8.1.20. </span>geomesa.partition.scan.parallel<a class="headerlink" href="#geomesa-partition-scan-parallel" title="Permalink to this headline">¶</a></h3>
<p>This property controls how scans against multiple, partitioned tables are executed. By default scans will be
executed sequentially. If set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, they will be executed in parallel. See <a class="reference internal" href="index_config.html#partitioned-indices"><span class="std std-ref">Configuring Partitioned Indices</span></a>
for details on partitioning.</p>
</section>
<section id="geomesa-query-cost-type">
<h3><span class="section-number">7.8.1.21. </span>geomesa.query.cost.type<a class="headerlink" href="#geomesa-query-cost-type" title="Permalink to this headline">¶</a></h3>
<p>This property controls how GeoMesa performs query planning. By default, GeoMesa uses heuristics to determine the
best index for a given query. Alternatively, this property may be set to <code class="docutils literal notranslate"><span class="pre">stats</span></code> to use cached data statistics
and cost-based query planning. This may also be overridden on a per-query basis using the query hint
<code class="docutils literal notranslate"><span class="pre">org.locationtech.geomesa.index.conf.QueryHints.COST_EVALUATION_KEY</span></code>
set to either <code class="docutils literal notranslate"><span class="pre">org.locationtech.geomesa.accumulo.index.QueryPlanner.CostEvaluation.Stats</span></code>
or <code class="docutils literal notranslate"><span class="pre">org.locationtech.geomesa.accumulo.index.QueryPlanner.CostEvaluation.Index</span></code>. See <a class="reference internal" href="query_planning.html#query-planning"><span class="std std-ref">Query Planning</span></a>
for more details on query planning strategies.</p>
</section>
<section id="geomesa-query-decomposition-bits">
<h3><span class="section-number">7.8.1.22. </span>geomesa.query.decomposition.bits<a class="headerlink" href="#geomesa-query-decomposition-bits" title="Permalink to this headline">¶</a></h3>
<p>In addition to <code class="docutils literal notranslate"><span class="pre">geomesa.query.decomposition.multiplier</span></code>, below, <code class="docutils literal notranslate"><span class="pre">geomesa.query.decomposition.bits</span></code> sets a
lower threshold on the size of the envelopes. It must be between 1 and 63, inclusive. See the Wikipedia article
on <a class="reference external" href="https://en.wikipedia.org/wiki/Geohash#Algorithm_and_example">GeoHashes</a> for the approximate spatial extent
of a given number of bits.</p>
</section>
<section id="geomesa-query-decomposition-multiplier">
<h3><span class="section-number">7.8.1.23. </span>geomesa.query.decomposition.multiplier<a class="headerlink" href="#geomesa-query-decomposition-multiplier" title="Permalink to this headline">¶</a></h3>
<p>GeoMesa creates scan ranges based on the spatial predicates in a query. For complex spatial predicates,
GeoMesa will decompose the geometry into smaller, rectangular envelopes, which avoids scanning over rows which
don’t intersect the geometry. This behavior can be controlled through two properties.</p>
<p><code class="docutils literal notranslate"><span class="pre">geomesa.query.decomposition.multiplier</span></code> controls the maximum number of envelopes that a geometry will be
decomposed into. If set below 2, no decomposition will be performed and instead the geometry envelope will be used.
Also see <code class="docutils literal notranslate"><span class="pre">geomesa.query.decomposition.bits</span></code>, above.</p>
</section>
<section id="geomesa-query-processing-or-threshold">
<h3><span class="section-number">7.8.1.24. </span>geomesa.query.processing.or.threshold<a class="headerlink" href="#geomesa-query-processing-or-threshold" title="Permalink to this headline">¶</a></h3>
<p>GeoMesa attempts to process input filters in order to determine the best query plan for a given predicate. However,
since queries can be arbitrarily complex, this processing can potentially take a significant amount of time.
<code class="docutils literal notranslate"><span class="pre">geomesa.query.processing.or.threshold</span></code> sets a threshold for the complexity of an OR filter that
will be considered, based on the permutations of the filter. For example, the filter <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">OR</span> <span class="pre">B</span> <span class="pre">OR</span> <span class="pre">C</span></code> has three
permutations, while <code class="docutils literal notranslate"><span class="pre">(A</span> <span class="pre">OR</span> <span class="pre">B)</span> <span class="pre">AND</span> <span class="pre">(C</span> <span class="pre">OR</span> <span class="pre">D)</span></code> has four permutations.</p>
<p>By default complex OR predicates will not be considered, which is suitable for most queries.</p>
</section>
<section id="geomesa-query-timeout">
<h3><span class="section-number">7.8.1.25. </span>geomesa.query.timeout<a class="headerlink" href="#geomesa-query-timeout" title="Permalink to this headline">¶</a></h3>
<p>This property can be used to prevent long-running queries from overloading the system. When set,
queries will be closed after the timeout, even if not all results have been returned yet. The
timeout is specified as a duration, e.g. <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">minute</span></code> or <code class="docutils literal notranslate"><span class="pre">30</span> <span class="pre">seconds</span></code>.</p>
</section>
<section id="geomesa-scan-block-full-table">
<h3><span class="section-number">7.8.1.26. </span>geomesa.scan.block-full-table<a class="headerlink" href="#geomesa-scan-block-full-table" title="Permalink to this headline">¶</a></h3>
<p>This property will prevent full-table scans from executing. A full-table scan is any query that can’t be
constrained down using a search index, and thus requires scanning the entire data set. With large data sets,
such a scan can last a long time and be resource intensive. The property is specified as a Boolean, i.e.
<code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<p>For more granularity, it is also possible to specify the full-table scan behavior for individual schemas
(<code class="docutils literal notranslate"><span class="pre">SimpleFeatureTypes</span></code>). Use <code class="docutils literal notranslate"><span class="pre">geomesa.scan.&lt;type-name&gt;.block-full-table</span></code>, where <code class="docutils literal notranslate"><span class="pre">&lt;type-name&gt;</span></code> is
replaced with the schema name (e.g. “gdelt”). Properties set for an individual schema will take precedence
over the globally-defined behavior.</p>
</section>
<section id="geomesa-scan-block-full-table-threshold">
<h3><span class="section-number">7.8.1.27. </span>geomesa.scan.block-full-table.threshold<a class="headerlink" href="#geomesa-scan-block-full-table-threshold" title="Permalink to this headline">¶</a></h3>
<p>This property works in conjunction with <code class="docutils literal notranslate"><span class="pre">geomesa.scan.block-full-table</span></code>, above. If a query puts a reasonable limit
on the number of features that are returned (through the use of <code class="docutils literal notranslate"><span class="pre">maxFeatures</span></code>), then it will not be blocked.
The property is specified as an integer. By default, a limit of 1000 or less is allowed.</p>
</section>
<section id="geomesa-scan-ranges-recurse">
<h3><span class="section-number">7.8.1.28. </span>geomesa.scan.ranges.recurse<a class="headerlink" href="#geomesa-scan-ranges-recurse" title="Permalink to this headline">¶</a></h3>
<p>This property controls the max level of recursion that will be used when generating scan ranges. Higher levels of
recursion will generate more accurate ranges at the cost of longer query planning times, and lower levels will do
the opposite. By default there is no limit. Generally this does not need to be configured, and setting it may
limit the ranges generated to substantially less than <code class="docutils literal notranslate"><span class="pre">geomesa.scan.ranges.target</span></code>. It is specified as a integer.</p>
</section>
<section id="geomesa-scan-ranges-target">
<h3><span class="section-number">7.8.1.29. </span>geomesa.scan.ranges.target<a class="headerlink" href="#geomesa-scan-ranges-target" title="Permalink to this headline">¶</a></h3>
<p>This property provides a rough upper-limit for the number of row ranges that will be scanned for a single
query. It is specified as a number. In general, more ranges will result in fewer false-positive rows being
scanned, which will speed up most queries. However, too many ranges can take a long time to generate, and
overwhelm clients, causing slowdowns. The optimal value depends on the environment.</p>
</section>
<section id="geomesa-serializer-cache-expiry">
<h3><span class="section-number">7.8.1.30. </span>geomesa.serializer.cache.expiry<a class="headerlink" href="#geomesa-serializer-cache-expiry" title="Permalink to this headline">¶</a></h3>
<p>This property controls how long simple feature serializers will be cached in memory. Lowering this value may
reduce the memory footprint of your application, at the cost of increased processing time. The expiry is specified
as a duration, e.g. <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">minutes</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">hour</span></code>. The default is <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">hour</span></code>.</p>
</section>
<section id="geomesa-sort-memory-threshold">
<h3><span class="section-number">7.8.1.31. </span>geomesa.sort.memory.threshold<a class="headerlink" href="#geomesa-sort-memory-threshold" title="Permalink to this headline">¶</a></h3>
<p>This property can be used to constrain the memory used to sort result sets. GeoMesa sorts results in the client
process memory, since the supported back-end databases don’t offer native ordering. To avoid having large
result sets exceed the client memory capacity, a memory threshold can be set. Once the size of a result set
exceeds this threshold, additional results will be written to disk and sorted there. Note that the actual memory
used may exceed the threshold, as the memory footprint calculation is an estimation. The threshold is specified
as a number of bytes, e.g. <code class="docutils literal notranslate"><span class="pre">10MB</span></code> or <code class="docutils literal notranslate"><span class="pre">1GB</span></code>. The default is to always sort in memory.</p>
<p>Note that distributed Arrow queries will never use disk to sort, due to the nature of Arrow result batches. For
supported back-ends, sorting on disk for Arrow queries can be achieved by disabling remote Arrow processing.</p>
</section>
<section id="geomesa-sft-config-urls">
<h3><span class="section-number">7.8.1.32. </span>geomesa.sft.config.urls<a class="headerlink" href="#geomesa-sft-config-urls" title="Permalink to this headline">¶</a></h3>
<p>This property allows for adding GeoMesa simple feature type configurations to the environment. It can be set to
a comma-separated list of arbitrary URLs. For more information on defining types, see <a class="reference internal" href="../cli/sfts.html#cli-sft-conf"><span class="std std-ref">Defining Simple Feature Types</span></a>.</p>
</section>
<section id="geomesa-stats-batch-size">
<h3><span class="section-number">7.8.1.33. </span>geomesa.stats.batch.size<a class="headerlink" href="#geomesa-stats-batch-size" title="Permalink to this headline">¶</a></h3>
<p>This property controls the batch size used for running distributed stat queries. It needs to be set on the client
making the request (e.g. GeoServer). If a query is closed or cancelled before completion, the batch size will
determine how long the distributed scan will keep running before seeing the cancellation.</p>
</section>
<section id="geomesa-stats-generate">
<span id="stats-generate-config"></span><h3><span class="section-number">7.8.1.34. </span>geomesa.stats.generate<a class="headerlink" href="#geomesa-stats-generate" title="Permalink to this headline">¶</a></h3>
<p>This property controls whether GeoMesa will generate statistics for a given feature type during ingestion. It
is specified as a Boolean, <code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code>. This property will be used when a feature type is first created,
if stats are not explicitly configured in the feature type user data or through the <code class="docutils literal notranslate"><span class="pre">geomesa.stats.enable</span></code>
data store parameter. See <a class="reference internal" href="index_config.html#stat-config"><span class="std std-ref">Configuring Cached Statistics</span></a> for details on configuring the feature type. Note that
stats are currently only implemented for the Accumulo and Redis data stores.</p>
</section>
<section id="geomesa-strategy-decider">
<h3><span class="section-number">7.8.1.35. </span>geomesa.strategy.decider<a class="headerlink" href="#geomesa-strategy-decider" title="Permalink to this headline">¶</a></h3>
<p>This property allows for overriding strategy selection during query planning. It should specify the
full class name for a class implementing <code class="docutils literal notranslate"><span class="pre">org.locationtech.geomesa.index.planning.StrategyDecider</span></code>.
The class must have a no-arg constructor.</p>
<p>By default GeoMesa will use heuristic-based query planning, which should work well for most situations. See
<a class="reference internal" href="query_planning.html#query-planning"><span class="std std-ref">Query Planning</span></a> for more details on query planning strategies.</p>
</section>
<section id="geomesa-type-converter-cache-expiry">
<h3><span class="section-number">7.8.1.36. </span>geomesa.type.converter.cache.expiry<a class="headerlink" href="#geomesa-type-converter-cache-expiry" title="Permalink to this headline">¶</a></h3>
<p>This property controls how long type conversions are cached in memory before being reloaded. It is specified as a duration,
e.g. <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">minute</span></code> or <code class="docutils literal notranslate"><span class="pre">30</span> <span class="pre">seconds</span></code>, with a default value of <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">hour</span></code>.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index_config.html" class="btn btn-neutral float-left" title="7.7. Index Configuration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="query_planning.html" class="btn btn-neutral float-right" title="7.9. Query Planning" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  

<div role="contentinfo">
  <p>
    &copy; Copyright 2013-2025 <a href="https://www.ga-ccri.com/">General Atomics</a>
    <br/>
    Licensed under the <a href="https://www.opensource.org/licenses/apache2.0.php">Apache License, Version 2.0</a>
  </p>
</div>

<div role="contentinfo">
  <p>
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
    using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>
    - contribute to this page on
    <a href="https://github.com/locationtech/geomesa/edit/main/docs/user/datastores/runtime_config.rst">GitHub <img src="../../_static/launch.svg"/></a>
  </p>

</div>



</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>