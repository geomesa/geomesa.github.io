<html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title id="title">
          org/locationtech/geomesa/index/planning/StrategyDecider.scala.html
        </title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.20.1/css/theme.default.min.css" type="text/css"/><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.20.1/js/jquery.tablesorter.min.js"></script><link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" type="text/css"/><script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script><script type="text/javascript">
        $(document).ready(function() {$(".tablesorter").tablesorter();});
      </script>
        <style>
          table.codegrid { font-family: monospace; font-size: 12px; width: auto!important; }table.statementlist { width: auto!important; font-size: 13px; } table.codegrid td { padding: 0!important; border: 0!important } table td.linenumber { width: 40px!important; } 
        </style>
      </head>
      <body style="font-family: monospace;">
        <ul class="nav nav-tabs">
          <li>
            <a href="#codegrid" data-toggle="tab">Codegrid</a>
          </li>
          <li>
            <a href="#statementlist" data-toggle="tab">Statement List</a>
          </li>
        </ul>
        <div class="tab-content">
          <div class="tab-pane active" id="codegrid">
            <pre style='font-size: 12pt; font-family: courier, monospace;'>1 <span style=''>/***********************************************************************
</span>2 <span style=''> * Copyright (c) 2013-2025 General Atomics Integrated Intelligence, Inc.
</span>3 <span style=''> * All rights reserved. This program and the accompanying materials
</span>4 <span style=''> * are made available under the terms of the Apache License, Version 2.0
</span>5 <span style=''> * which accompanies this distribution and is available at
</span>6 <span style=''> * https://www.apache.org/licenses/LICENSE-2.0
</span>7 <span style=''> ***********************************************************************/
</span>8 <span style=''>
</span>9 <span style=''>package org.locationtech.geomesa.index.planning
</span>10 <span style=''>
</span>11 <span style=''>import com.typesafe.scalalogging.LazyLogging
</span>12 <span style=''>import org.geotools.api.feature.simple.SimpleFeatureType
</span>13 <span style=''>import org.geotools.api.filter.Filter
</span>14 <span style=''>import org.geotools.util.factory.Hints
</span>15 <span style=''>import org.locationtech.geomesa.index.api._
</span>16 <span style=''>import org.locationtech.geomesa.index.geotools.GeoMesaDataStore
</span>17 <span style=''>import org.locationtech.geomesa.index.index.EmptyIndex
</span>18 <span style=''>import org.locationtech.geomesa.index.index.attribute.AttributeIndex
</span>19 <span style=''>import org.locationtech.geomesa.index.planning.QueryPlanner.CostEvaluation
</span>20 <span style=''>import org.locationtech.geomesa.index.planning.QueryPlanner.CostEvaluation.CostEvaluation
</span>21 <span style=''>import org.locationtech.geomesa.index.stats.GeoMesaStats
</span>22 <span style=''>import org.locationtech.geomesa.index.utils.{ExplainNull, Explainer}
</span>23 <span style=''>import org.locationtech.geomesa.utils.conf.GeoMesaSystemProperties.SystemProperty
</span>24 <span style=''>import org.locationtech.geomesa.utils.index.IndexMode
</span>25 <span style=''>import org.locationtech.geomesa.utils.metrics.MethodProfiling
</span>26 <span style=''>
</span>27 <span style=''>/**
</span>28 <span style=''>  * Selects from available strategies for answering a query
</span>29 <span style=''>  */
</span>30 <span style=''>trait StrategyDecider {
</span>31 <span style=''>
</span>32 <span style=''>  /**
</span>33 <span style=''>   * Select from available filter plans
</span>34 <span style=''>   *
</span>35 <span style=''>   * @param sft simple feature type being queried
</span>36 <span style=''>   * @param options filter plans that can satisfy the query
</span>37 <span style=''>   * @param stats optional stats that can be used for selecting a plan
</span>38 <span style=''>   * @param explain explain logging
</span>39 <span style=''>   * @return filter plan to execute
</span>40 <span style=''>   */
</span>41 <span style=''>  @deprecated(&quot;Replaced with alternate signature&quot;)
</span>42 <span style=''>  def selectFilterPlan(
</span>43 <span style=''>    sft: SimpleFeatureType,
</span>44 <span style=''>    options: Seq[FilterPlan],
</span>45 <span style=''>    stats: Option[GeoMesaStats],
</span>46 <span style=''>    explain: Explainer): FilterPlan = </span><span style='background: #F0ADAD'>throw new NotImplementedError()</span><span style=''>
</span>47 <span style=''>
</span>48 <span style=''>  /**
</span>49 <span style=''>   * Select from available filter plans.
</span>50 <span style=''>   *
</span>51 <span style=''>   * This method has a default implementation that delegates to the old method for
</span>52 <span style=''>   * back-compatibility, but should be overridden going forward
</span>53 <span style=''>   *
</span>54 <span style=''>   * @param ds data store
</span>55 <span style=''>   * @param sft simple feature type being queried
</span>56 <span style=''>   * @param options filter plans that can satisfy the query
</span>57 <span style=''>   * @param evaluation cost evaluation type
</span>58 <span style=''>   * @param explain explain logging
</span>59 <span style=''>   * @return filter plan to execute
</span>60 <span style=''>   */
</span>61 <span style=''>  def selectFilterPlan[DS &lt;: GeoMesaDataStore[DS]](
</span>62 <span style=''>      ds: DS,
</span>63 <span style=''>      sft: SimpleFeatureType,
</span>64 <span style=''>      options: Seq[FilterPlan],
</span>65 <span style=''>      evaluation: CostEvaluation,
</span>66 <span style=''>      explain: Explainer): FilterPlan = {
</span>67 <span style=''>    val stats = evaluation match {
</span>68 <span style=''>      case CostEvaluation.Stats =&gt; </span><span style='background: #F0ADAD'>Option(ds.stats)</span><span style=''>
</span>69 <span style=''>      case CostEvaluation.Index =&gt; </span><span style='background: #F0ADAD'>None</span><span style=''>
</span>70 <span style=''>    }
</span>71 <span style=''>    // noinspection ScalaDeprecation
</span>72 <span style=''>    </span><span style='background: #F0ADAD'>selectFilterPlan(sft, options, stats, explain)</span><span style=''>
</span>73 <span style=''>  }
</span>74 <span style=''>}
</span>75 <span style=''>
</span>76 <span style=''>object StrategyDecider extends MethodProfiling with LazyLogging {
</span>77 <span style=''>
</span>78 <span style=''>  private val decider: StrategyDecider = </span><span style='background: #AEF1AE'>SystemProperty(&quot;geomesa.strategy.decider&quot;).option</span><span style=''> match {
</span>79 <span style=''>    case None       =&gt; </span><span style='background: #AEF1AE'>new CostBasedStrategyDecider()</span><span style=''>
</span>80 <span style=''>    case Some(clas) =&gt; </span><span style='background: #F0ADAD'>Class.forName(clas).getConstructor().newInstance().asInstanceOf[StrategyDecider]</span><span style=''>
</span>81 <span style=''>  }
</span>82 <span style=''>
</span>83 <span style=''>  logger.debug(s&quot;Using strategy provider '${decider.getClass.getName}'&quot;)
</span>84 <span style=''>
</span>85 <span style=''>  /**
</span>86 <span style=''>    * Selects a strategy for executing a given query.
</span>87 <span style=''>    *
</span>88 <span style=''>    * If a particular strategy has been requested, that strategy will be used (note - this is only
</span>89 <span style=''>    * partially supported, and should be used with care.)
</span>90 <span style=''>    *
</span>91 <span style=''>    * Otherwise, the query will be examined for strategies that could be used to execute it. The cost of
</span>92 <span style=''>    * executing each available strategy will be calculated, and the least expensive strategy will be used.
</span>93 <span style=''>    *
</span>94 <span style=''>    * @param ds data store
</span>95 <span style=''>    * @param sft simple feature type
</span>96 <span style=''>    * @param filter filter to execute
</span>97 <span style=''>    * @param hints query hints (transform, etc)
</span>98 <span style=''>    * @param explain for trace logging
</span>99 <span style=''>    * @return
</span>100 <span style=''>    */
</span>101 <span style=''>  def getFilterPlan[DS &lt;: GeoMesaDataStore[DS]](
</span>102 <span style=''>      ds: DS,
</span>103 <span style=''>      sft: SimpleFeatureType,
</span>104 <span style=''>      filter: Filter,
</span>105 <span style=''>      hints: Hints,
</span>106 <span style=''>      explain: Explainer = ExplainNull): Seq[FilterStrategy] = {
</span>107 <span style=''>    import org.locationtech.geomesa.index.conf.QueryHints.RichHints
</span>108 <span style=''>
</span>109 <span style=''>    def complete(op: String, time: Long, count: Int): Unit = </span><span style='background: #AEF1AE'>explain(s&quot;$op took ${time}ms for $count options&quot;)</span><span style=''>
</span>110 <span style=''>
</span>111 <span style=''>    val evaluation = </span><span style='background: #AEF1AE'>hints.getCostEvaluation</span><span style=''>
</span>112 <span style=''>    val indices = </span><span style='background: #AEF1AE'>ds.manager.indices(sft, mode = IndexMode.Read)</span><span style=''>
</span>113 <span style=''>
</span>114 <span style=''>    // get the various options that we could potentially use
</span>115 <span style=''>    val options = </span><span style='background: #AEF1AE'>profile((o: Seq[FilterPlan], t: Long) =&gt; complete(&quot;Query processing&quot;, t, o.length)) {
</span>116 <span style=''></span><span style='background: #AEF1AE'>      new FilterSplitter(sft, indices).getQueryOptions(filter, hints)
</span>117 <span style=''></span><span style='background: #AEF1AE'>    }</span><span style=''>
</span>118 <span style=''>
</span>119 <span style=''>    val selected = </span><span style='background: #AEF1AE'>profile(t =&gt; complete(&quot;Strategy selection&quot;, t, options.length)) {
</span>120 <span style=''></span><span style='background: #AEF1AE'>      val requested = hints.getRequestedIndex.orNull
</span>121 <span style=''></span><span style='background: #AEF1AE'>      if (requested != null) {
</span>122 <span style=''></span><span style='background: #AEF1AE'>        // see if one of the normal plans matches the requested type - if not, force it
</span>123 <span style=''></span><span style='background: #AEF1AE'>        val forced = matchRequested(requested, options).getOrElse {
</span>124 <span style=''></span><span style='background: #AEF1AE'>          val index =
</span>125 <span style=''></span><span style='background: #AEF1AE'>            indices.find(_.identifier.equalsIgnoreCase(requested))
</span>126 <span style=''></span><span style='background: #AEF1AE'>              .orElse(indices.find(_.name.equalsIgnoreCase(requested)))
</span>127 <span style=''></span><span style='background: #AEF1AE'>              .getOrElse {
</span>128 <span style=''></span><span style='background: #AEF1AE'>                throw new IllegalArgumentException(s&quot;Invalid index strategy: $requested. Valid values are &quot; +
</span>129 <span style=''></span><span style='background: #AEF1AE'>                  indices.map(i =&gt; s&quot;${i.name}, ${i.identifier}&quot;).mkString(&quot;, &quot;))
</span>130 <span style=''></span><span style='background: #AEF1AE'>              }
</span>131 <span style=''></span><span style='background: #AEF1AE'>          val secondary = if (filter == Filter.INCLUDE) { </span><span style='background: #F0ADAD'>None</span><span style='background: #AEF1AE'> } else { Some(filter) }
</span>132 <span style=''></span><span style='background: #AEF1AE'>          FilterPlan(Seq(FilterStrategy(index, None, secondary, temporal = false, Float.PositiveInfinity, hints)))
</span>133 <span style=''></span><span style='background: #AEF1AE'>        }
</span>134 <span style=''></span><span style='background: #AEF1AE'>        explain(</span><span style='background: #F0ADAD'>s&quot;Filter plan forced to $forced&quot;</span><span style='background: #AEF1AE'>)
</span>135 <span style=''></span><span style='background: #AEF1AE'>        forced
</span>136 <span style=''></span><span style='background: #AEF1AE'>      } else if (options.isEmpty) {
</span>137 <span style=''></span><span style='background: #AEF1AE'>        // corresponds to filter.exclude
</span>138 <span style=''></span><span style='background: #AEF1AE'>        // we still need to return something so that we can handle reduce steps, if needed
</span>139 <span style=''></span><span style='background: #AEF1AE'>        explain(&quot;No filter plans found - creating empty plan&quot;)
</span>140 <span style=''></span><span style='background: #AEF1AE'>        FilterPlan(Seq(FilterStrategy(new EmptyIndex(ds, sft), Some(Filter.EXCLUDE), None, temporal = false, 1f, hints)))
</span>141 <span style=''></span><span style='background: #AEF1AE'>      } else if (options.lengthCompare(1) == 0) {
</span>142 <span style=''></span><span style='background: #AEF1AE'>        // only a single option, so don't bother with cost
</span>143 <span style=''></span><span style='background: #AEF1AE'>        explain(s&quot;Filter plan: ${options.head}&quot;)
</span>144 <span style=''></span><span style='background: #AEF1AE'>        options.head
</span>145 <span style=''></span><span style='background: #AEF1AE'>      } else {
</span>146 <span style=''></span><span style='background: #AEF1AE'>        // let the decider implementation choose the best option
</span>147 <span style=''></span><span style='background: #AEF1AE'>        decider.selectFilterPlan(ds, sft, options, evaluation, explain)
</span>148 <span style=''></span><span style='background: #AEF1AE'>      }
</span>149 <span style=''></span><span style='background: #AEF1AE'>    }</span><span style=''>
</span>150 <span style=''>
</span>151 <span style=''>    </span><span style='background: #AEF1AE'>selected.strategies</span><span style=''>
</span>152 <span style=''>  }
</span>153 <span style=''>
</span>154 <span style=''>  private def matchRequested(id: String, options: Seq[FilterPlan]): Option[FilterPlan] = {
</span>155 <span style=''>    def byId: Option[FilterPlan] = </span><span style='background: #AEF1AE'>options.find(_.strategies.forall(_.index.identifier.equalsIgnoreCase(id)))</span><span style=''>
</span>156 <span style=''>    def byName: Option[FilterPlan] = </span><span style='background: #AEF1AE'>options.find(_.strategies.forall(_.index.name.equalsIgnoreCase(id)))</span><span style=''>
</span>157 <span style=''>    // back-compatibility for attr vs join index name
</span>158 <span style=''>    def byJoin: Option[FilterPlan] = if (</span><span style='background: #AEF1AE'>!AttributeIndex.name.equalsIgnoreCase(id)</span><span style=''>) { </span><span style='background: #AEF1AE'>None</span><span style=''> } else {
</span>159 <span style=''>      </span><span style='background: #AEF1AE'>options.find(</span><span style='background: #F0ADAD'>_.strategies.forall(_.index.name == AttributeIndex.JoinIndexName)</span><span style='background: #AEF1AE'>)</span><span style=''>
</span>160 <span style=''>    }
</span>161 <span style=''>    </span><span style='background: #AEF1AE'>byId.orElse(byName).orElse(byJoin)</span><span style=''>
</span>162 <span style=''>  }
</span>163 <span style=''>
</span>164 <span style=''>  private class CostBasedStrategyDecider extends StrategyDecider {
</span>165 <span style=''>
</span>166 <span style=''>    import org.locationtech.geomesa.utils.geotools.RichSimpleFeatureType.RichSimpleFeatureType
</span>167 <span style=''>
</span>168 <span style=''>    override def selectFilterPlan[DS &lt;: GeoMesaDataStore[DS]](
</span>169 <span style=''>        ds: DS,
</span>170 <span style=''>        sft: SimpleFeatureType,
</span>171 <span style=''>        options: Seq[FilterPlan],
</span>172 <span style=''>        evaluation: CostEvaluation,
</span>173 <span style=''>        explain: Explainer): FilterPlan = {
</span>174 <span style=''>
</span>175 <span style=''>      def cost(option: FilterPlan): FilterPlanCost = {
</span>176 <span style=''>        </span><span style='background: #AEF1AE'>profile((fpc: FilterPlanCost, time: Long) =&gt; fpc.copy(time = time)) {
</span>177 <span style=''></span><span style='background: #AEF1AE'>          var cost = BigInt(0)
</span>178 <span style=''></span><span style='background: #AEF1AE'>          option.strategies.foreach { strategy =&gt;
</span>179 <span style=''></span><span style='background: #AEF1AE'>            val count = evaluation match {
</span>180 <span style=''></span><span style='background: #AEF1AE'>              case CostEvaluation.Stats =&gt; ds.adapter.getStrategyCost(strategy, explain)
</span>181 <span style=''></span><span style='background: #AEF1AE'>              case CostEvaluation.Index =&gt; None
</span>182 <span style=''></span><span style='background: #AEF1AE'>            }
</span>183 <span style=''></span><span style='background: #AEF1AE'>            cost = cost + BigInt((count.getOrElse(100L) * strategy.costMultiplier).toLong)
</span>184 <span style=''></span><span style='background: #AEF1AE'>          }
</span>185 <span style=''></span><span style='background: #AEF1AE'>          FilterPlanCost(option, if (cost.isValidLong) { cost.longValue } else { </span><span style='background: #F0ADAD'>Long.MaxValue</span><span style='background: #AEF1AE'> }, 0L)
</span>186 <span style=''></span><span style='background: #AEF1AE'>        }</span><span style=''>
</span>187 <span style=''>      }
</span>188 <span style=''>
</span>189 <span style=''>      val costs = </span><span style='background: #AEF1AE'>options.map(cost).sorted</span><span style=''>
</span>190 <span style=''>
</span>191 <span style=''>      val temporal = if (</span><span style='background: #AEF1AE'>!sft.isTemporalPriority</span><span style=''>) { </span><span style='background: #AEF1AE'>None</span><span style=''> } else {
</span>192 <span style=''>        </span><span style='background: #AEF1AE'>costs.find(c =&gt; c.plan.strategies.nonEmpty &amp;&amp; c.plan.strategies.forall(_.temporal))</span><span style=''>
</span>193 <span style=''>      }
</span>194 <span style=''>      val selected = </span><span style='background: #AEF1AE'>temporal.getOrElse(costs.head)</span><span style=''>
</span>195 <span style=''>      </span><span style='background: #AEF1AE'>explain(</span><span style='background: #F0ADAD'>s&quot;Filter plan selected: $selected&quot;</span><span style='background: #AEF1AE'>)</span><span style=''>
</span>196 <span style=''>      </span><span style='background: #AEF1AE'>explain(</span><span style='background: #F0ADAD'>s&quot;Filter plans not selected: ${costs.filterNot(_.eq(selected)).mkString(&quot;, &quot;)}&quot;</span><span style='background: #AEF1AE'>)</span><span style=''>
</span>197 <span style=''>      </span><span style='background: #AEF1AE'>selected.plan</span><span style=''>
</span>198 <span style=''>    }
</span>199 <span style=''>
</span>200 <span style=''>    private case class FilterPlanCost(plan: FilterPlan, cost: Long, time: Long) extends Comparable[FilterPlanCost] {
</span>201 <span style=''>      override def compareTo(o: FilterPlanCost): Int = </span><span style='background: #AEF1AE'>java.lang.Long.compare(cost, o.cost)</span><span style=''>
</span>202 <span style=''>      override def toString: String = </span><span style='background: #F0ADAD'>s&quot;$plan (Cost $cost in ${time}ms)&quot;</span><span style=''>
</span>203 <span style=''>    }
</span>204 <span style=''>  }
</span>205 <span style=''>}
</span></pre>
          </div>
          <div class="tab-pane" id="statementlist">
            <table cellspacing="0" cellpadding="0" class="table statementlist">
      <tr>
        <th>Line</th>
        <th>Stmt Id</th>
        <th>Pos</th>
        <th>Tree</th>
        <th>Symbol</th>
        <th>Tests</th>
        <th>Code</th>
      </tr><tr>
        <td>
          46
        </td>
        <td>
          34917
        </td>
        <td>
          2026
          -
          2057
        </td>
        <td>
          Throw
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          throw new scala.NotImplementedError()
        </td>
      </tr><tr>
        <td>
          68
        </td>
        <td>
          34918
        </td>
        <td>
          2802
          -
          2810
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.stats.HasGeoMesaStats.stats
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          ds.stats
        </td>
      </tr><tr>
        <td>
          68
        </td>
        <td>
          34919
        </td>
        <td>
          2795
          -
          2811
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Option.apply
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          scala.Option.apply[org.locationtech.geomesa.index.stats.GeoMesaStats](ds.stats)
        </td>
      </tr><tr>
        <td>
          68
        </td>
        <td>
          34920
        </td>
        <td>
          2795
          -
          2811
        </td>
        <td>
          Block
        </td>
        <td>
          scala.Option.apply
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          scala.Option.apply[org.locationtech.geomesa.index.stats.GeoMesaStats](ds.stats)
        </td>
      </tr><tr>
        <td>
          69
        </td>
        <td>
          34921
        </td>
        <td>
          2847
          -
          2851
        </td>
        <td>
          Select
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          scala.None
        </td>
      </tr><tr>
        <td>
          69
        </td>
        <td>
          34922
        </td>
        <td>
          2847
          -
          2851
        </td>
        <td>
          Block
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          scala.None
        </td>
      </tr><tr>
        <td>
          72
        </td>
        <td>
          34923
        </td>
        <td>
          2899
          -
          2945
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.selectFilterPlan
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          StrategyDecider.this.selectFilterPlan(sft, options, stats, explain)
        </td>
      </tr><tr>
        <td>
          78
        </td>
        <td>
          34924
        </td>
        <td>
          3076
          -
          3102
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          &quot;geomesa.strategy.decider&quot;
        </td>
      </tr><tr>
        <td>
          78
        </td>
        <td>
          34925
        </td>
        <td>
          3061
          -
          3110
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.utils.conf.GeoMesaSystemProperties.SystemProperty.option
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.geomesa.utils.conf.GeoMesaSystemProperties.SystemProperty.apply(&quot;geomesa.strategy.decider&quot;, org.locationtech.geomesa.utils.conf.GeoMesaSystemProperties.SystemProperty.apply$default$2).option
        </td>
      </tr><tr>
        <td>
          79
        </td>
        <td>
          34926
        </td>
        <td>
          3142
          -
          3172
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.CostBasedStrategyDecider.&lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          new StrategyDecider.this.CostBasedStrategyDecider()
        </td>
      </tr><tr>
        <td>
          79
        </td>
        <td>
          34927
        </td>
        <td>
          3142
          -
          3172
        </td>
        <td>
          Block
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.CostBasedStrategyDecider.&lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          new StrategyDecider.this.CostBasedStrategyDecider()
        </td>
      </tr><tr>
        <td>
          80
        </td>
        <td>
          34928
        </td>
        <td>
          3196
          -
          3276
        </td>
        <td>
          TypeApply
        </td>
        <td>
          scala.Any.asInstanceOf
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          java.lang.Class.forName(clas).getConstructor().newInstance().asInstanceOf[org.locationtech.geomesa.index.planning.StrategyDecider]
        </td>
      </tr><tr>
        <td>
          80
        </td>
        <td>
          34929
        </td>
        <td>
          3196
          -
          3276
        </td>
        <td>
          Block
        </td>
        <td>
          scala.Any.asInstanceOf
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          java.lang.Class.forName(clas).getConstructor().newInstance().asInstanceOf[org.locationtech.geomesa.index.planning.StrategyDecider]
        </td>
      </tr><tr>
        <td>
          109
        </td>
        <td>
          34930
        </td>
        <td>
          4351
          -
          4391
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.StringContext.s
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.StringContext.apply(&quot;&quot;, &quot; took &quot;, &quot;ms for &quot;, &quot; options&quot;).s(op, time, count)
        </td>
      </tr><tr>
        <td>
          109
        </td>
        <td>
          34931
        </td>
        <td>
          4343
          -
          4392
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.utils.Explainer.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          explain.apply(scala.StringContext.apply(&quot;&quot;, &quot; took &quot;, &quot;ms for &quot;, &quot; options&quot;).s(op, time, count))
        </td>
      </tr><tr>
        <td>
          109
        </td>
        <td>
          34932
        </td>
        <td>
          4350
          -
          4350
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ()
        </td>
      </tr><tr>
        <td>
          111
        </td>
        <td>
          34933
        </td>
        <td>
          4415
          -
          4438
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.conf.QueryHints.RichHints.getCostEvaluation
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.geomesa.index.conf.QueryHints.RichHints(hints).getCostEvaluation
        </td>
      </tr><tr>
        <td>
          112
        </td>
        <td>
          34934
        </td>
        <td>
          4488
          -
          4502
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.utils.index.IndexMode.Read
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.geomesa.utils.index.IndexMode.Read
        </td>
      </tr><tr>
        <td>
          112
        </td>
        <td>
          34935
        </td>
        <td>
          4457
          -
          4503
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.api.IndexManager.indices
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ds.manager.indices(sft, org.locationtech.geomesa.utils.index.IndexMode.Read)
        </td>
      </tr><tr>
        <td>
          115
        </td>
        <td>
          34936
        </td>
        <td>
          4634
          -
          4652
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          &quot;Query processing&quot;
        </td>
      </tr><tr>
        <td>
          115
        </td>
        <td>
          34937
        </td>
        <td>
          4657
          -
          4665
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.SeqLike.length
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          o.length
        </td>
      </tr><tr>
        <td>
          115
        </td>
        <td>
          34938
        </td>
        <td>
          4625
          -
          4666
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.complete
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          complete(&quot;Query processing&quot;, t, o.length)
        </td>
      </tr><tr>
        <td>
          115
        </td>
        <td>
          34940
        </td>
        <td>
          4584
          -
          4745
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.metrics.MethodProfiling.profile
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          StrategyDecider.this.profile[Seq[org.locationtech.geomesa.index.api.FilterPlan]](((o: Seq[org.locationtech.geomesa.index.api.FilterPlan], t: Long) =&gt; complete(&quot;Query processing&quot;, t, o.length)))(new FilterSplitter(sft, indices).getQueryOptions(filter, hints))
        </td>
      </tr><tr>
        <td>
          116
        </td>
        <td>
          34939
        </td>
        <td>
          4676
          -
          4739
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.planning.FilterSplitter.getQueryOptions
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          new FilterSplitter(sft, indices).getQueryOptions(filter, hints)
        </td>
      </tr><tr>
        <td>
          119
        </td>
        <td>
          34941
        </td>
        <td>
          4788
          -
          4808
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          &quot;Strategy selection&quot;
        </td>
      </tr><tr>
        <td>
          119
        </td>
        <td>
          34942
        </td>
        <td>
          4813
          -
          4827
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.SeqLike.length
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          options.length
        </td>
      </tr><tr>
        <td>
          119
        </td>
        <td>
          34943
        </td>
        <td>
          4779
          -
          4828
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.complete
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          complete(&quot;Strategy selection&quot;, t, options.length)
        </td>
      </tr><tr>
        <td>
          119
        </td>
        <td>
          34992
        </td>
        <td>
          4766
          -
          6442
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.metrics.MethodProfiling.profile
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          StrategyDecider.this.profile[org.locationtech.geomesa.index.api.FilterPlan](((t: Long) =&gt; complete(&quot;Strategy selection&quot;, t, options.length)))({
  val requested: String = org.locationtech.geomesa.index.conf.QueryHints.RichHints(hints).getRequestedIndex.orNull[String](scala.Predef.$conforms[Null]);
  if (requested.!=(null))
    {
      val forced: org.locationtech.geomesa.index.api.FilterPlan = StrategyDecider.this.matchRequested(requested, options).getOrElse[org.locationtech.geomesa.index.api.FilterPlan]({
        val index: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _] = indices.find(((x$1: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; x$1.identifier.equalsIgnoreCase(requested))).orElse[org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]](indices.find(((x$2: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; x$2.name.equalsIgnoreCase(requested)))).getOrElse[org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]](throw new scala.`package`.IllegalArgumentException(scala.StringContext.apply(&quot;Invalid index strategy: &quot;, &quot;. Valid values are &quot;).s(requested).+(indices.map[String, Seq[String]](((i: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; scala.StringContext.apply(&quot;&quot;, &quot;, &quot;, &quot;&quot;).s(i.name, i.identifier)))(collection.this.Seq.canBuildFrom[String]).mkString(&quot;, &quot;))));
        val secondary: Option[org.geotools.api.filter.Filter] = if (filter.==(org.geotools.api.filter.Filter.INCLUDE))
          scala.None
        else
          scala.Some.apply[org.geotools.api.filter.Filter](filter);
        org.locationtech.geomesa.index.api.`package`.FilterPlan.apply(scala.collection.Seq.apply[org.locationtech.geomesa.index.api.FilterStrategy](org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(index, scala.None, secondary, false, Infinity, hints)))
      });
      explain.apply(scala.StringContext.apply(&quot;Filter plan forced to &quot;, &quot;&quot;).s(forced));
      forced
    }
  else
    if (options.isEmpty)
      {
        explain.apply(&quot;No filter plans found - creating empty plan&quot;);
        org.locationtech.geomesa.index.api.`package`.FilterPlan.apply(scala.collection.Seq.apply[org.locationtech.geomesa.index.api.FilterStrategy](org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(new org.locationtech.geomesa.index.index.EmptyIndex(ds, sft), scala.Some.apply[org.geotools.api.filter.ExcludeFilter](org.geotools.api.filter.Filter.EXCLUDE), scala.None, false, 1.0, hints)))
      }
    else
      if (options.lengthCompare(1).==(0))
        {
          explain.apply(scala.StringContext.apply(&quot;Filter plan: &quot;, &quot;&quot;).s(options.head));
          options.head
        }
      else
        StrategyDecider.this.decider.selectFilterPlan[DS](ds, sft, options, evaluation, explain)
})
        </td>
      </tr><tr>
        <td>
          120
        </td>
        <td>
          34944
        </td>
        <td>
          4878
          -
          4878
        </td>
        <td>
          TypeApply
        </td>
        <td>
          scala.Predef.$conforms
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Predef.$conforms[Null]
        </td>
      </tr><tr>
        <td>
          120
        </td>
        <td>
          34945
        </td>
        <td>
          4854
          -
          4884
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.Option.orNull
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.geomesa.index.conf.QueryHints.RichHints(hints).getRequestedIndex.orNull[String](scala.Predef.$conforms[Null])
        </td>
      </tr><tr>
        <td>
          121
        </td>
        <td>
          34946
        </td>
        <td>
          4895
          -
          4912
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.Object.!=
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          requested.!=(null)
        </td>
      </tr><tr>
        <td>
          121
        </td>
        <td>
          34967
        </td>
        <td>
          4914
          -
          5752
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          {
  val forced: org.locationtech.geomesa.index.api.FilterPlan = StrategyDecider.this.matchRequested(requested, options).getOrElse[org.locationtech.geomesa.index.api.FilterPlan]({
    val index: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _] = indices.find(((x$1: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; x$1.identifier.equalsIgnoreCase(requested))).orElse[org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]](indices.find(((x$2: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; x$2.name.equalsIgnoreCase(requested)))).getOrElse[org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]](throw new scala.`package`.IllegalArgumentException(scala.StringContext.apply(&quot;Invalid index strategy: &quot;, &quot;. Valid values are &quot;).s(requested).+(indices.map[String, Seq[String]](((i: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; scala.StringContext.apply(&quot;&quot;, &quot;, &quot;, &quot;&quot;).s(i.name, i.identifier)))(collection.this.Seq.canBuildFrom[String]).mkString(&quot;, &quot;))));
    val secondary: Option[org.geotools.api.filter.Filter] = if (filter.==(org.geotools.api.filter.Filter.INCLUDE))
      scala.None
    else
      scala.Some.apply[org.geotools.api.filter.Filter](filter);
    org.locationtech.geomesa.index.api.`package`.FilterPlan.apply(scala.collection.Seq.apply[org.locationtech.geomesa.index.api.FilterStrategy](org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(index, scala.None, secondary, false, Infinity, hints)))
  });
  explain.apply(scala.StringContext.apply(&quot;Filter plan forced to &quot;, &quot;&quot;).s(forced));
  forced
}
        </td>
      </tr><tr>
        <td>
          123
        </td>
        <td>
          34964
        </td>
        <td>
          5025
          -
          5679
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Option.getOrElse
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          StrategyDecider.this.matchRequested(requested, options).getOrElse[org.locationtech.geomesa.index.api.FilterPlan]({
  val index: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _] = indices.find(((x$1: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; x$1.identifier.equalsIgnoreCase(requested))).orElse[org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]](indices.find(((x$2: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; x$2.name.equalsIgnoreCase(requested)))).getOrElse[org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]](throw new scala.`package`.IllegalArgumentException(scala.StringContext.apply(&quot;Invalid index strategy: &quot;, &quot;. Valid values are &quot;).s(requested).+(indices.map[String, Seq[String]](((i: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; scala.StringContext.apply(&quot;&quot;, &quot;, &quot;, &quot;&quot;).s(i.name, i.identifier)))(collection.this.Seq.canBuildFrom[String]).mkString(&quot;, &quot;))));
  val secondary: Option[org.geotools.api.filter.Filter] = if (filter.==(org.geotools.api.filter.Filter.INCLUDE))
    scala.None
  else
    scala.Some.apply[org.geotools.api.filter.Filter](filter);
  org.locationtech.geomesa.index.api.`package`.FilterPlan.apply(scala.collection.Seq.apply[org.locationtech.geomesa.index.api.FilterStrategy](org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(index, scala.None, secondary, false, Infinity, hints)))
})
        </td>
      </tr><tr>
        <td>
          125
        </td>
        <td>
          34947
        </td>
        <td>
          5119
          -
          5159
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.equalsIgnoreCase
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          x$1.identifier.equalsIgnoreCase(requested)
        </td>
      </tr><tr>
        <td>
          126
        </td>
        <td>
          34948
        </td>
        <td>
          5196
          -
          5230
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.equalsIgnoreCase
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          x$2.name.equalsIgnoreCase(requested)
        </td>
      </tr><tr>
        <td>
          126
        </td>
        <td>
          34949
        </td>
        <td>
          5183
          -
          5231
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.find
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          indices.find(((x$2: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; x$2.name.equalsIgnoreCase(requested)))
        </td>
      </tr><tr>
        <td>
          127
        </td>
        <td>
          34951
        </td>
        <td>
          5106
          -
          5467
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Option.getOrElse
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          indices.find(((x$1: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; x$1.identifier.equalsIgnoreCase(requested))).orElse[org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]](indices.find(((x$2: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; x$2.name.equalsIgnoreCase(requested)))).getOrElse[org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]](throw new scala.`package`.IllegalArgumentException(scala.StringContext.apply(&quot;Invalid index strategy: &quot;, &quot;. Valid values are &quot;).s(requested).+(indices.map[String, Seq[String]](((i: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; scala.StringContext.apply(&quot;&quot;, &quot;, &quot;, &quot;&quot;).s(i.name, i.identifier)))(collection.this.Seq.canBuildFrom[String]).mkString(&quot;, &quot;))))
        </td>
      </tr><tr>
        <td>
          128
        </td>
        <td>
          34950
        </td>
        <td>
          5276
          -
          5451
        </td>
        <td>
          Throw
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          throw new scala.`package`.IllegalArgumentException(scala.StringContext.apply(&quot;Invalid index strategy: &quot;, &quot;. Valid values are &quot;).s(requested).+(indices.map[String, Seq[String]](((i: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; scala.StringContext.apply(&quot;&quot;, &quot;, &quot;, &quot;&quot;).s(i.name, i.identifier)))(collection.this.Seq.canBuildFrom[String]).mkString(&quot;, &quot;)))
        </td>
      </tr><tr>
        <td>
          131
        </td>
        <td>
          34952
        </td>
        <td>
          5508
          -
          5522
        </td>
        <td>
          Select
        </td>
        <td>
          org.geotools.api.filter.Filter.INCLUDE
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.geotools.api.filter.Filter.INCLUDE
        </td>
      </tr><tr>
        <td>
          131
        </td>
        <td>
          34953
        </td>
        <td>
          5498
          -
          5522
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.Object.==
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          filter.==(org.geotools.api.filter.Filter.INCLUDE)
        </td>
      </tr><tr>
        <td>
          131
        </td>
        <td>
          34954
        </td>
        <td>
          5526
          -
          5530
        </td>
        <td>
          Select
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          scala.None
        </td>
      </tr><tr>
        <td>
          131
        </td>
        <td>
          34955
        </td>
        <td>
          5526
          -
          5530
        </td>
        <td>
          Block
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          scala.None
        </td>
      </tr><tr>
        <td>
          131
        </td>
        <td>
          34956
        </td>
        <td>
          5540
          -
          5552
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Some.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Some.apply[org.geotools.api.filter.Filter](filter)
        </td>
      </tr><tr>
        <td>
          131
        </td>
        <td>
          34957
        </td>
        <td>
          5540
          -
          5552
        </td>
        <td>
          Block
        </td>
        <td>
          scala.Some.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Some.apply[org.geotools.api.filter.Filter](filter)
        </td>
      </tr><tr>
        <td>
          132
        </td>
        <td>
          34958
        </td>
        <td>
          5602
          -
          5606
        </td>
        <td>
          Select
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.None
        </td>
      </tr><tr>
        <td>
          132
        </td>
        <td>
          34959
        </td>
        <td>
          5630
          -
          5635
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          false
        </td>
      </tr><tr>
        <td>
          132
        </td>
        <td>
          34960
        </td>
        <td>
          5637
          -
          5659
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          Infinity
        </td>
      </tr><tr>
        <td>
          132
        </td>
        <td>
          34961
        </td>
        <td>
          5580
          -
          5667
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.api.FilterStrategy.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(index, scala.None, secondary, false, Infinity, hints)
        </td>
      </tr><tr>
        <td>
          132
        </td>
        <td>
          34962
        </td>
        <td>
          5576
          -
          5668
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.generic.GenericCompanion.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.collection.Seq.apply[org.locationtech.geomesa.index.api.FilterStrategy](org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(index, scala.None, secondary, false, Infinity, hints))
        </td>
      </tr><tr>
        <td>
          132
        </td>
        <td>
          34963
        </td>
        <td>
          5565
          -
          5669
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.api.FilterPlan.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.geomesa.index.api.`package`.FilterPlan.apply(scala.collection.Seq.apply[org.locationtech.geomesa.index.api.FilterStrategy](org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(index, scala.None, secondary, false, Infinity, hints)))
        </td>
      </tr><tr>
        <td>
          134
        </td>
        <td>
          34965
        </td>
        <td>
          5696
          -
          5728
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.StringContext.s
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          scala.StringContext.apply(&quot;Filter plan forced to &quot;, &quot;&quot;).s(forced)
        </td>
      </tr><tr>
        <td>
          134
        </td>
        <td>
          34966
        </td>
        <td>
          5688
          -
          5729
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.utils.Explainer.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          explain.apply(scala.StringContext.apply(&quot;Filter plan forced to &quot;, &quot;&quot;).s(forced))
        </td>
      </tr><tr>
        <td>
          136
        </td>
        <td>
          34968
        </td>
        <td>
          5762
          -
          5777
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.SeqLike.isEmpty
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          options.isEmpty
        </td>
      </tr><tr>
        <td>
          136
        </td>
        <td>
          34979
        </td>
        <td>
          5779
          -
          6105
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          {
  explain.apply(&quot;No filter plans found - creating empty plan&quot;);
  org.locationtech.geomesa.index.api.`package`.FilterPlan.apply(scala.collection.Seq.apply[org.locationtech.geomesa.index.api.FilterStrategy](org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(new org.locationtech.geomesa.index.index.EmptyIndex(ds, sft), scala.Some.apply[org.geotools.api.filter.ExcludeFilter](org.geotools.api.filter.Filter.EXCLUDE), scala.None, false, 1.0, hints)))
}
        </td>
      </tr><tr>
        <td>
          136
        </td>
        <td>
          34991
        </td>
        <td>
          5758
          -
          6436
        </td>
        <td>
          If
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          if (options.isEmpty)
  {
    explain.apply(&quot;No filter plans found - creating empty plan&quot;);
    org.locationtech.geomesa.index.api.`package`.FilterPlan.apply(scala.collection.Seq.apply[org.locationtech.geomesa.index.api.FilterStrategy](org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(new org.locationtech.geomesa.index.index.EmptyIndex(ds, sft), scala.Some.apply[org.geotools.api.filter.ExcludeFilter](org.geotools.api.filter.Filter.EXCLUDE), scala.None, false, 1.0, hints)))
  }
else
  if (options.lengthCompare(1).==(0))
    {
      explain.apply(scala.StringContext.apply(&quot;Filter plan: &quot;, &quot;&quot;).s(options.head));
      options.head
    }
  else
    StrategyDecider.this.decider.selectFilterPlan[DS](ds, sft, options, evaluation, explain)
        </td>
      </tr><tr>
        <td>
          139
        </td>
        <td>
          34969
        </td>
        <td>
          5921
          -
          5975
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.utils.Explainer.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          explain.apply(&quot;No filter plans found - creating empty plan&quot;)
        </td>
      </tr><tr>
        <td>
          140
        </td>
        <td>
          34970
        </td>
        <td>
          6014
          -
          6037
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.index.EmptyIndex.&lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          new org.locationtech.geomesa.index.index.EmptyIndex(ds, sft)
        </td>
      </tr><tr>
        <td>
          140
        </td>
        <td>
          34971
        </td>
        <td>
          6044
          -
          6058
        </td>
        <td>
          Select
        </td>
        <td>
          org.geotools.api.filter.Filter.EXCLUDE
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.geotools.api.filter.Filter.EXCLUDE
        </td>
      </tr><tr>
        <td>
          140
        </td>
        <td>
          34972
        </td>
        <td>
          6039
          -
          6059
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Some.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Some.apply[org.geotools.api.filter.ExcludeFilter](org.geotools.api.filter.Filter.EXCLUDE)
        </td>
      </tr><tr>
        <td>
          140
        </td>
        <td>
          34973
        </td>
        <td>
          6061
          -
          6065
        </td>
        <td>
          Select
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.None
        </td>
      </tr><tr>
        <td>
          140
        </td>
        <td>
          34974
        </td>
        <td>
          6078
          -
          6083
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          false
        </td>
      </tr><tr>
        <td>
          140
        </td>
        <td>
          34975
        </td>
        <td>
          6085
          -
          6087
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          1.0
        </td>
      </tr><tr>
        <td>
          140
        </td>
        <td>
          34976
        </td>
        <td>
          5999
          -
          6095
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.api.FilterStrategy.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(new org.locationtech.geomesa.index.index.EmptyIndex(ds, sft), scala.Some.apply[org.geotools.api.filter.ExcludeFilter](org.geotools.api.filter.Filter.EXCLUDE), scala.None, false, 1.0, hints)
        </td>
      </tr><tr>
        <td>
          140
        </td>
        <td>
          34977
        </td>
        <td>
          5995
          -
          6096
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.generic.GenericCompanion.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.collection.Seq.apply[org.locationtech.geomesa.index.api.FilterStrategy](org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(new org.locationtech.geomesa.index.index.EmptyIndex(ds, sft), scala.Some.apply[org.geotools.api.filter.ExcludeFilter](org.geotools.api.filter.Filter.EXCLUDE), scala.None, false, 1.0, hints))
        </td>
      </tr><tr>
        <td>
          140
        </td>
        <td>
          34978
        </td>
        <td>
          5984
          -
          6097
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.api.FilterPlan.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.geomesa.index.api.`package`.FilterPlan.apply(scala.collection.Seq.apply[org.locationtech.geomesa.index.api.FilterStrategy](org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(new org.locationtech.geomesa.index.index.EmptyIndex(ds, sft), scala.Some.apply[org.geotools.api.filter.ExcludeFilter](org.geotools.api.filter.Filter.EXCLUDE), scala.None, false, 1.0, hints)))
        </td>
      </tr><tr>
        <td>
          141
        </td>
        <td>
          34980
        </td>
        <td>
          6115
          -
          6144
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Int.==
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          options.lengthCompare(1).==(0)
        </td>
      </tr><tr>
        <td>
          141
        </td>
        <td>
          34987
        </td>
        <td>
          6146
          -
          6284
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          {
  explain.apply(scala.StringContext.apply(&quot;Filter plan: &quot;, &quot;&quot;).s(options.head));
  options.head
}
        </td>
      </tr><tr>
        <td>
          141
        </td>
        <td>
          34990
        </td>
        <td>
          6111
          -
          6436
        </td>
        <td>
          If
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          if (options.lengthCompare(1).==(0))
  {
    explain.apply(scala.StringContext.apply(&quot;Filter plan: &quot;, &quot;&quot;).s(options.head));
    options.head
  }
else
  StrategyDecider.this.decider.selectFilterPlan[DS](ds, sft, options, evaluation, explain)
        </td>
      </tr><tr>
        <td>
          143
        </td>
        <td>
          34981
        </td>
        <td>
          6225
          -
          6239
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          &quot;Filter plan: &quot;
        </td>
      </tr><tr>
        <td>
          143
        </td>
        <td>
          34982
        </td>
        <td>
          6253
          -
          6254
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          &quot;&quot;
        </td>
      </tr><tr>
        <td>
          143
        </td>
        <td>
          34983
        </td>
        <td>
          6240
          -
          6252
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.IterableLike.head
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          options.head
        </td>
      </tr><tr>
        <td>
          143
        </td>
        <td>
          34984
        </td>
        <td>
          6223
          -
          6254
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.StringContext.s
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.StringContext.apply(&quot;Filter plan: &quot;, &quot;&quot;).s(options.head)
        </td>
      </tr><tr>
        <td>
          143
        </td>
        <td>
          34985
        </td>
        <td>
          6215
          -
          6255
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.utils.Explainer.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          explain.apply(scala.StringContext.apply(&quot;Filter plan: &quot;, &quot;&quot;).s(options.head))
        </td>
      </tr><tr>
        <td>
          144
        </td>
        <td>
          34986
        </td>
        <td>
          6264
          -
          6276
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.IterableLike.head
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          options.head
        </td>
      </tr><tr>
        <td>
          147
        </td>
        <td>
          34988
        </td>
        <td>
          6365
          -
          6428
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.selectFilterPlan
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          StrategyDecider.this.decider.selectFilterPlan[DS](ds, sft, options, evaluation, explain)
        </td>
      </tr><tr>
        <td>
          147
        </td>
        <td>
          34989
        </td>
        <td>
          6365
          -
          6428
        </td>
        <td>
          Block
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.selectFilterPlan
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          StrategyDecider.this.decider.selectFilterPlan[DS](ds, sft, options, evaluation, explain)
        </td>
      </tr><tr>
        <td>
          151
        </td>
        <td>
          34993
        </td>
        <td>
          6448
          -
          6467
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.api.FilterPlan.strategies
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          selected.strategies
        </td>
      </tr><tr>
        <td>
          155
        </td>
        <td>
          34994
        </td>
        <td>
          6632
          -
          6671
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.equalsIgnoreCase
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          x$4.index.identifier.equalsIgnoreCase(id)
        </td>
      </tr><tr>
        <td>
          155
        </td>
        <td>
          34995
        </td>
        <td>
          6612
          -
          6672
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.forall
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          x$3.strategies.forall(((x$4: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; x$4.index.identifier.equalsIgnoreCase(id)))
        </td>
      </tr><tr>
        <td>
          155
        </td>
        <td>
          34996
        </td>
        <td>
          6599
          -
          6673
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.find
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          options.find(((x$3: org.locationtech.geomesa.index.api.FilterPlan) =&gt; x$3.strategies.forall(((x$4: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; x$4.index.identifier.equalsIgnoreCase(id)))))
        </td>
      </tr><tr>
        <td>
          156
        </td>
        <td>
          34997
        </td>
        <td>
          6744
          -
          6777
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.equalsIgnoreCase
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          x$6.index.name.equalsIgnoreCase(id)
        </td>
      </tr><tr>
        <td>
          156
        </td>
        <td>
          34998
        </td>
        <td>
          6724
          -
          6778
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.forall
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          x$5.strategies.forall(((x$6: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; x$6.index.name.equalsIgnoreCase(id)))
        </td>
      </tr><tr>
        <td>
          156
        </td>
        <td>
          34999
        </td>
        <td>
          6711
          -
          6779
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.find
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          options.find(((x$5: org.locationtech.geomesa.index.api.FilterPlan) =&gt; x$5.strategies.forall(((x$6: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; x$6.index.name.equalsIgnoreCase(id)))))
        </td>
      </tr><tr>
        <td>
          158
        </td>
        <td>
          35000
        </td>
        <td>
          6875
          -
          6916
        </td>
        <td>
          Select
        </td>
        <td>
          scala.Boolean.unary_!
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.geomesa.index.index.attribute.AttributeIndex.name.equalsIgnoreCase(id).unary_!
        </td>
      </tr><tr>
        <td>
          158
        </td>
        <td>
          35001
        </td>
        <td>
          6920
          -
          6924
        </td>
        <td>
          Select
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.None
        </td>
      </tr><tr>
        <td>
          158
        </td>
        <td>
          35002
        </td>
        <td>
          6920
          -
          6924
        </td>
        <td>
          Block
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.None
        </td>
      </tr><tr>
        <td>
          159
        </td>
        <td>
          35003
        </td>
        <td>
          6989
          -
          7017
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.index.attribute.AttributeIndex.JoinIndexName
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          org.locationtech.geomesa.index.index.attribute.AttributeIndex.JoinIndexName
        </td>
      </tr><tr>
        <td>
          159
        </td>
        <td>
          35004
        </td>
        <td>
          6973
          -
          7017
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.Object.==
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          x$8.index.name.==(org.locationtech.geomesa.index.index.attribute.AttributeIndex.JoinIndexName)
        </td>
      </tr><tr>
        <td>
          159
        </td>
        <td>
          35005
        </td>
        <td>
          6953
          -
          7018
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.forall
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          x$7.strategies.forall(((x$8: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; x$8.index.name.==(org.locationtech.geomesa.index.index.attribute.AttributeIndex.JoinIndexName)))
        </td>
      </tr><tr>
        <td>
          159
        </td>
        <td>
          35006
        </td>
        <td>
          6940
          -
          7019
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.find
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          options.find(((x$7: org.locationtech.geomesa.index.api.FilterPlan) =&gt; x$7.strategies.forall(((x$8: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; x$8.index.name.==(org.locationtech.geomesa.index.index.attribute.AttributeIndex.JoinIndexName)))))
        </td>
      </tr><tr>
        <td>
          159
        </td>
        <td>
          35007
        </td>
        <td>
          6940
          -
          7019
        </td>
        <td>
          Block
        </td>
        <td>
          scala.collection.IterableLike.find
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          options.find(((x$7: org.locationtech.geomesa.index.api.FilterPlan) =&gt; x$7.strategies.forall(((x$8: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; x$8.index.name.==(org.locationtech.geomesa.index.index.attribute.AttributeIndex.JoinIndexName)))))
        </td>
      </tr><tr>
        <td>
          161
        </td>
        <td>
          35008
        </td>
        <td>
          7030
          -
          7064
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Option.orElse
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          byId.orElse[org.locationtech.geomesa.index.api.FilterPlan](byName).orElse[org.locationtech.geomesa.index.api.FilterPlan](byJoin)
        </td>
      </tr><tr>
        <td>
          176
        </td>
        <td>
          35009
        </td>
        <td>
          7568
          -
          7589
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.CostBasedStrategyDecider.FilterPlanCost.copy
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          fpc.copy(x$2, x$3, x$1)
        </td>
      </tr><tr>
        <td>
          176
        </td>
        <td>
          35010
        </td>
        <td>
          7568
          -
          7589
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ()
        </td>
      </tr><tr>
        <td>
          176
        </td>
        <td>
          35029
        </td>
        <td>
          7523
          -
          8082
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.metrics.MethodProfiling.profile
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          StrategyDecider.this.profile[CostBasedStrategyDecider.this.FilterPlanCost](((fpc: CostBasedStrategyDecider.this.FilterPlanCost, time: Long) =&gt; {
  {
    &lt;artifact&gt; val x$1: Long = time;
    &lt;artifact&gt; val x$2: org.locationtech.geomesa.index.api.FilterPlan = fpc.copy$default$1;
    &lt;artifact&gt; val x$3: Long = fpc.copy$default$2;
    fpc.copy(x$2, x$3, x$1)
  };
  ()
}))({
  var cost: scala.math.BigInt = scala.`package`.BigInt.apply(0);
  option.strategies.foreach[Unit](((strategy: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; {
    val count: Option[Long] = evaluation match {
      case org.locationtech.geomesa.index.planning.QueryPlanner.CostEvaluation.Stats =&gt; ds.adapter.getStrategyCost(strategy, explain)
      case org.locationtech.geomesa.index.planning.QueryPlanner.CostEvaluation.Index =&gt; scala.None
    };
    cost = cost.+(scala.`package`.BigInt.apply(count.getOrElse[Long](100L).*(strategy.costMultiplier).toLong))
  }));
  CostBasedStrategyDecider.this.FilterPlanCost.apply(option, if (cost.isValidLong)
    cost.longValue()
  else
    9223372036854775807L, 0L)
})
        </td>
      </tr><tr>
        <td>
          177
        </td>
        <td>
          35011
        </td>
        <td>
          7614
          -
          7623
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.math.BigInt.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.`package`.BigInt.apply(0)
        </td>
      </tr><tr>
        <td>
          178
        </td>
        <td>
          35021
        </td>
        <td>
          7634
          -
          7970
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.foreach
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          option.strategies.foreach[Unit](((strategy: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; {
  val count: Option[Long] = evaluation match {
    case org.locationtech.geomesa.index.planning.QueryPlanner.CostEvaluation.Stats =&gt; ds.adapter.getStrategyCost(strategy, explain)
    case org.locationtech.geomesa.index.planning.QueryPlanner.CostEvaluation.Index =&gt; scala.None
  };
  cost = cost.+(scala.`package`.BigInt.apply(count.getOrElse[Long](100L).*(strategy.costMultiplier).toLong))
}))
        </td>
      </tr><tr>
        <td>
          180
        </td>
        <td>
          35012
        </td>
        <td>
          7760
          -
          7805
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.api.IndexAdapter.getStrategyCost
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ds.adapter.getStrategyCost(strategy, explain)
        </td>
      </tr><tr>
        <td>
          180
        </td>
        <td>
          35013
        </td>
        <td>
          7760
          -
          7805
        </td>
        <td>
          Block
        </td>
        <td>
          org.locationtech.geomesa.index.api.IndexAdapter.getStrategyCost
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ds.adapter.getStrategyCost(strategy, explain)
        </td>
      </tr><tr>
        <td>
          181
        </td>
        <td>
          35014
        </td>
        <td>
          7849
          -
          7853
        </td>
        <td>
          Select
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.None
        </td>
      </tr><tr>
        <td>
          181
        </td>
        <td>
          35015
        </td>
        <td>
          7849
          -
          7853
        </td>
        <td>
          Block
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.None
        </td>
      </tr><tr>
        <td>
          183
        </td>
        <td>
          35016
        </td>
        <td>
          7918
          -
          7922
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          100L
        </td>
      </tr><tr>
        <td>
          183
        </td>
        <td>
          35017
        </td>
        <td>
          7926
          -
          7949
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.api.FilterStrategy.costMultiplier
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          strategy.costMultiplier
        </td>
      </tr><tr>
        <td>
          183
        </td>
        <td>
          35018
        </td>
        <td>
          7901
          -
          7957
        </td>
        <td>
          Select
        </td>
        <td>
          scala.Float.toLong
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          count.getOrElse[Long](100L).*(strategy.costMultiplier).toLong
        </td>
      </tr><tr>
        <td>
          183
        </td>
        <td>
          35019
        </td>
        <td>
          7894
          -
          7958
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.math.BigInt.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.`package`.BigInt.apply(count.getOrElse[Long](100L).*(strategy.costMultiplier).toLong)
        </td>
      </tr><tr>
        <td>
          183
        </td>
        <td>
          35020
        </td>
        <td>
          7887
          -
          7958
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.math.BigInt.+
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          cost.+(scala.`package`.BigInt.apply(count.getOrElse[Long](100L).*(strategy.costMultiplier).toLong))
        </td>
      </tr><tr>
        <td>
          185
        </td>
        <td>
          35022
        </td>
        <td>
          8008
          -
          8024
        </td>
        <td>
          Select
        </td>
        <td>
          scala.math.BigInt.isValidLong
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          cost.isValidLong
        </td>
      </tr><tr>
        <td>
          185
        </td>
        <td>
          35023
        </td>
        <td>
          8028
          -
          8042
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.math.BigInt.longValue
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          cost.longValue()
        </td>
      </tr><tr>
        <td>
          185
        </td>
        <td>
          35024
        </td>
        <td>
          8028
          -
          8042
        </td>
        <td>
          Block
        </td>
        <td>
          scala.math.BigInt.longValue
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          cost.longValue()
        </td>
      </tr><tr>
        <td>
          185
        </td>
        <td>
          35025
        </td>
        <td>
          8052
          -
          8065
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          9223372036854775807L
        </td>
      </tr><tr>
        <td>
          185
        </td>
        <td>
          35026
        </td>
        <td>
          8052
          -
          8065
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          9223372036854775807L
        </td>
      </tr><tr>
        <td>
          185
        </td>
        <td>
          35027
        </td>
        <td>
          8069
          -
          8071
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          0L
        </td>
      </tr><tr>
        <td>
          185
        </td>
        <td>
          35028
        </td>
        <td>
          7981
          -
          8072
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.CostBasedStrategyDecider.FilterPlanCost.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          CostBasedStrategyDecider.this.FilterPlanCost.apply(option, if (cost.isValidLong)
  cost.longValue()
else
  9223372036854775807L, 0L)
        </td>
      </tr><tr>
        <td>
          189
        </td>
        <td>
          35030
        </td>
        <td>
          8122
          -
          8126
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.CostBasedStrategyDecider.cost
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          cost(option)
        </td>
      </tr><tr>
        <td>
          189
        </td>
        <td>
          35031
        </td>
        <td>
          8121
          -
          8121
        </td>
        <td>
          TypeApply
        </td>
        <td>
          scala.collection.Seq.canBuildFrom
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          collection.this.Seq.canBuildFrom[CostBasedStrategyDecider.this.FilterPlanCost]
        </td>
      </tr><tr>
        <td>
          189
        </td>
        <td>
          35032
        </td>
        <td>
          8128
          -
          8128
        </td>
        <td>
          TypeApply
        </td>
        <td>
          scala.Predef.$conforms
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Predef.$conforms[CostBasedStrategyDecider.this.FilterPlanCost]
        </td>
      </tr><tr>
        <td>
          189
        </td>
        <td>
          35033
        </td>
        <td>
          8128
          -
          8128
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.math.LowPriorityOrderingImplicits.ordered
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          math.this.Ordering.ordered[CostBasedStrategyDecider.this.FilterPlanCost](scala.Predef.$conforms[CostBasedStrategyDecider.this.FilterPlanCost])
        </td>
      </tr><tr>
        <td>
          189
        </td>
        <td>
          35034
        </td>
        <td>
          8110
          -
          8134
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.collection.SeqLike.sorted
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          options.map[CostBasedStrategyDecider.this.FilterPlanCost, Seq[CostBasedStrategyDecider.this.FilterPlanCost]]({
  ((option: org.locationtech.geomesa.index.api.FilterPlan) =&gt; cost(option))
})(collection.this.Seq.canBuildFrom[CostBasedStrategyDecider.this.FilterPlanCost]).sorted[CostBasedStrategyDecider.this.FilterPlanCost](math.this.Ordering.ordered[CostBasedStrategyDecider.this.FilterPlanCost](scala.Predef.$conforms[CostBasedStrategyDecider.this.FilterPlanCost]))
        </td>
      </tr><tr>
        <td>
          191
        </td>
        <td>
          35035
        </td>
        <td>
          8161
          -
          8184
        </td>
        <td>
          Select
        </td>
        <td>
          scala.Boolean.unary_!
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.geomesa.utils.geotools.RichSimpleFeatureType.RichSimpleFeatureType(sft).isTemporalPriority.unary_!
        </td>
      </tr><tr>
        <td>
          191
        </td>
        <td>
          35036
        </td>
        <td>
          8188
          -
          8192
        </td>
        <td>
          Select
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.None
        </td>
      </tr><tr>
        <td>
          191
        </td>
        <td>
          35037
        </td>
        <td>
          8188
          -
          8192
        </td>
        <td>
          Block
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.None
        </td>
      </tr><tr>
        <td>
          192
        </td>
        <td>
          35038
        </td>
        <td>
          8281
          -
          8291
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.api.FilterStrategy.temporal
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          x$9.temporal
        </td>
      </tr><tr>
        <td>
          192
        </td>
        <td>
          35039
        </td>
        <td>
          8256
          -
          8292
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.forall
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          c.plan.strategies.forall(((x$9: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; x$9.temporal))
        </td>
      </tr><tr>
        <td>
          192
        </td>
        <td>
          35040
        </td>
        <td>
          8226
          -
          8292
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Boolean.&amp;&amp;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          c.plan.strategies.nonEmpty.&amp;&amp;(c.plan.strategies.forall(((x$9: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; x$9.temporal)))
        </td>
      </tr><tr>
        <td>
          192
        </td>
        <td>
          35041
        </td>
        <td>
          8210
          -
          8293
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.find
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          costs.find(((c: CostBasedStrategyDecider.this.FilterPlanCost) =&gt; c.plan.strategies.nonEmpty.&amp;&amp;(c.plan.strategies.forall(((x$9: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; x$9.temporal)))))
        </td>
      </tr><tr>
        <td>
          192
        </td>
        <td>
          35042
        </td>
        <td>
          8210
          -
          8293
        </td>
        <td>
          Block
        </td>
        <td>
          scala.collection.IterableLike.find
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          costs.find(((c: CostBasedStrategyDecider.this.FilterPlanCost) =&gt; c.plan.strategies.nonEmpty.&amp;&amp;(c.plan.strategies.forall(((x$9: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; x$9.temporal)))))
        </td>
      </tr><tr>
        <td>
          194
        </td>
        <td>
          35043
        </td>
        <td>
          8342
          -
          8352
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.IterableLike.head
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          costs.head
        </td>
      </tr><tr>
        <td>
          194
        </td>
        <td>
          35044
        </td>
        <td>
          8323
          -
          8353
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Option.getOrElse
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          temporal.getOrElse[CostBasedStrategyDecider.this.FilterPlanCost](costs.head)
        </td>
      </tr><tr>
        <td>
          195
        </td>
        <td>
          35045
        </td>
        <td>
          8368
          -
          8402
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.StringContext.s
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          scala.StringContext.apply(&quot;Filter plan selected: &quot;, &quot;&quot;).s(selected)
        </td>
      </tr><tr>
        <td>
          195
        </td>
        <td>
          35046
        </td>
        <td>
          8360
          -
          8403
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.utils.Explainer.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          explain.apply(scala.StringContext.apply(&quot;Filter plan selected: &quot;, &quot;&quot;).s(selected))
        </td>
      </tr><tr>
        <td>
          196
        </td>
        <td>
          35047
        </td>
        <td>
          8420
          -
          8448
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          &quot;Filter plans not selected: &quot;
        </td>
      </tr><tr>
        <td>
          196
        </td>
        <td>
          35048
        </td>
        <td>
          8496
          -
          8497
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          &quot;&quot;
        </td>
      </tr><tr>
        <td>
          196
        </td>
        <td>
          35049
        </td>
        <td>
          8449
          -
          8495
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.TraversableOnce.mkString
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          costs.filterNot(((x$10: CostBasedStrategyDecider.this.FilterPlanCost) =&gt; x$10.eq(selected))).mkString(&quot;, &quot;)
        </td>
      </tr><tr>
        <td>
          196
        </td>
        <td>
          35050
        </td>
        <td>
          8418
          -
          8497
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.StringContext.s
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          scala.StringContext.apply(&quot;Filter plans not selected: &quot;, &quot;&quot;).s(costs.filterNot(((x$10: CostBasedStrategyDecider.this.FilterPlanCost) =&gt; x$10.eq(selected))).mkString(&quot;, &quot;))
        </td>
      </tr><tr>
        <td>
          196
        </td>
        <td>
          35051
        </td>
        <td>
          8410
          -
          8498
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.utils.Explainer.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          explain.apply(scala.StringContext.apply(&quot;Filter plans not selected: &quot;, &quot;&quot;).s(costs.filterNot(((x$10: CostBasedStrategyDecider.this.FilterPlanCost) =&gt; x$10.eq(selected))).mkString(&quot;, &quot;)))
        </td>
      </tr><tr>
        <td>
          197
        </td>
        <td>
          35052
        </td>
        <td>
          8505
          -
          8518
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.CostBasedStrategyDecider.FilterPlanCost.plan
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          selected.plan
        </td>
      </tr><tr>
        <td>
          201
        </td>
        <td>
          35053
        </td>
        <td>
          8721
          -
          8725
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.CostBasedStrategyDecider.FilterPlanCost.cost
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          FilterPlanCost.this.cost
        </td>
      </tr><tr>
        <td>
          201
        </td>
        <td>
          35054
        </td>
        <td>
          8727
          -
          8733
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.CostBasedStrategyDecider.FilterPlanCost.cost
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          o.cost
        </td>
      </tr><tr>
        <td>
          201
        </td>
        <td>
          35055
        </td>
        <td>
          8698
          -
          8734
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.Long.compare
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          java.lang.Long.compare(FilterPlanCost.this.cost, o.cost)
        </td>
      </tr><tr>
        <td>
          202
        </td>
        <td>
          35056
        </td>
        <td>
          8775
          -
          8776
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          &quot;&quot;
        </td>
      </tr><tr>
        <td>
          202
        </td>
        <td>
          35057
        </td>
        <td>
          8780
          -
          8788
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          &quot; (Cost &quot;
        </td>
      </tr><tr>
        <td>
          202
        </td>
        <td>
          35058
        </td>
        <td>
          8792
          -
          8797
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          &quot; in &quot;
        </td>
      </tr><tr>
        <td>
          202
        </td>
        <td>
          35059
        </td>
        <td>
          8803
          -
          8807
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          &quot;ms)&quot;
        </td>
      </tr><tr>
        <td>
          202
        </td>
        <td>
          35060
        </td>
        <td>
          8776
          -
          8780
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.CostBasedStrategyDecider.FilterPlanCost.plan
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          FilterPlanCost.this.plan
        </td>
      </tr><tr>
        <td>
          202
        </td>
        <td>
          35061
        </td>
        <td>
          8788
          -
          8792
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.CostBasedStrategyDecider.FilterPlanCost.cost
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          FilterPlanCost.this.cost
        </td>
      </tr><tr>
        <td>
          202
        </td>
        <td>
          35062
        </td>
        <td>
          8798
          -
          8802
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.CostBasedStrategyDecider.FilterPlanCost.time
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          FilterPlanCost.this.time
        </td>
      </tr><tr>
        <td>
          202
        </td>
        <td>
          35063
        </td>
        <td>
          8773
          -
          8807
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.StringContext.s
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          scala.StringContext.apply(&quot;&quot;, &quot; (Cost &quot;, &quot; in &quot;, &quot;ms)&quot;).s(FilterPlanCost.this.plan, FilterPlanCost.this.cost, FilterPlanCost.this.time)
        </td>
      </tr>
    </table>
          </div>
        </div>
      </body>
    </html>