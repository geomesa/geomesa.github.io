<html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title id="title">
          org/locationtech/geomesa/index/planning/StrategyDecider.scala.html
        </title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.20.1/css/theme.default.min.css" type="text/css"/><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.20.1/js/jquery.tablesorter.min.js"></script><link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" type="text/css"/><script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script><script type="text/javascript">
        $(document).ready(function() {$(".tablesorter").tablesorter();});
      </script>
        <style>
          table.codegrid { font-family: monospace; font-size: 12px; width: auto!important; }table.statementlist { width: auto!important; font-size: 13px; } table.codegrid td { padding: 0!important; border: 0!important } table td.linenumber { width: 40px!important; } 
        </style>
      </head>
      <body style="font-family: monospace;">
        <ul class="nav nav-tabs">
          <li>
            <a href="#codegrid" data-toggle="tab">Codegrid</a>
          </li>
          <li>
            <a href="#statementlist" data-toggle="tab">Statement List</a>
          </li>
        </ul>
        <div class="tab-content">
          <div class="tab-pane active" id="codegrid">
            <pre style='font-size: 12pt; font-family: courier, monospace;'>1 <span style=''>/***********************************************************************
</span>2 <span style=''> * Copyright (c) 2013-2025 General Atomics Integrated Intelligence, Inc.
</span>3 <span style=''> * All rights reserved. This program and the accompanying materials
</span>4 <span style=''> * are made available under the terms of the Apache License, Version 2.0
</span>5 <span style=''> * which accompanies this distribution and is available at
</span>6 <span style=''> * https://www.apache.org/licenses/LICENSE-2.0
</span>7 <span style=''> ***********************************************************************/
</span>8 <span style=''>
</span>9 <span style=''>package org.locationtech.geomesa.index.planning
</span>10 <span style=''>
</span>11 <span style=''>import com.typesafe.scalalogging.LazyLogging
</span>12 <span style=''>import org.geotools.api.feature.simple.SimpleFeatureType
</span>13 <span style=''>import org.geotools.api.filter.Filter
</span>14 <span style=''>import org.geotools.util.factory.Hints
</span>15 <span style=''>import org.locationtech.geomesa.index.api._
</span>16 <span style=''>import org.locationtech.geomesa.index.geotools.GeoMesaDataStore
</span>17 <span style=''>import org.locationtech.geomesa.index.index.EmptyIndex
</span>18 <span style=''>import org.locationtech.geomesa.index.index.attribute.AttributeIndex
</span>19 <span style=''>import org.locationtech.geomesa.index.planning.StrategyDecider.CostEvaluation
</span>20 <span style=''>import org.locationtech.geomesa.index.planning.StrategyDecider.CostEvaluation.CostEvaluation
</span>21 <span style=''>import org.locationtech.geomesa.index.stats.GeoMesaStats
</span>22 <span style=''>import org.locationtech.geomesa.index.utils.{ExplainNull, Explainer}
</span>23 <span style=''>import org.locationtech.geomesa.utils.conf.GeoMesaSystemProperties.SystemProperty
</span>24 <span style=''>import org.locationtech.geomesa.utils.index.IndexMode
</span>25 <span style=''>import org.locationtech.geomesa.utils.metrics.MethodProfiling
</span>26 <span style=''>
</span>27 <span style=''>/**
</span>28 <span style=''>  * Selects from available strategies for answering a query
</span>29 <span style=''>  */
</span>30 <span style=''>trait StrategyDecider {
</span>31 <span style=''>
</span>32 <span style=''>  /**
</span>33 <span style=''>   * Select from available filter plans
</span>34 <span style=''>   *
</span>35 <span style=''>   * @param sft simple feature type being queried
</span>36 <span style=''>   * @param options filter plans that can satisfy the query
</span>37 <span style=''>   * @param stats optional stats that can be used for selecting a plan
</span>38 <span style=''>   * @param explain explain logging
</span>39 <span style=''>   * @return filter plan to execute
</span>40 <span style=''>   */
</span>41 <span style=''>  @deprecated(&quot;Replaced with alternate signature&quot;)
</span>42 <span style=''>  def selectFilterPlan(
</span>43 <span style=''>    sft: SimpleFeatureType,
</span>44 <span style=''>    options: Seq[FilterPlan],
</span>45 <span style=''>    stats: Option[GeoMesaStats],
</span>46 <span style=''>    explain: Explainer): FilterPlan = </span><span style='background: #F0ADAD'>throw new NotImplementedError()</span><span style=''>
</span>47 <span style=''>
</span>48 <span style=''>  /**
</span>49 <span style=''>   * Select from available filter plans.
</span>50 <span style=''>   *
</span>51 <span style=''>   * This method has a default implementation that delegates to the old method for
</span>52 <span style=''>   * back-compatibility, but should be overridden going forward
</span>53 <span style=''>   *
</span>54 <span style=''>   * @param ds data store
</span>55 <span style=''>   * @param sft simple feature type being queried
</span>56 <span style=''>   * @param options filter plans that can satisfy the query
</span>57 <span style=''>   * @param evaluation cost evaluation type
</span>58 <span style=''>   * @param explain explain logging
</span>59 <span style=''>   * @return filter plan to execute
</span>60 <span style=''>   */
</span>61 <span style=''>  def selectFilterPlan[DS &lt;: GeoMesaDataStore[DS]](
</span>62 <span style=''>      ds: DS,
</span>63 <span style=''>      sft: SimpleFeatureType,
</span>64 <span style=''>      options: Seq[FilterPlan],
</span>65 <span style=''>      evaluation: CostEvaluation,
</span>66 <span style=''>      explain: Explainer): FilterPlan = {
</span>67 <span style=''>    val stats = evaluation match {
</span>68 <span style=''>      case CostEvaluation.Stats =&gt; </span><span style='background: #F0ADAD'>Option(ds.stats)</span><span style=''>
</span>69 <span style=''>      case CostEvaluation.Index =&gt; </span><span style='background: #F0ADAD'>None</span><span style=''>
</span>70 <span style=''>    }
</span>71 <span style=''>    // noinspection ScalaDeprecation
</span>72 <span style=''>    </span><span style='background: #F0ADAD'>selectFilterPlan(sft, options, stats, explain)</span><span style=''>
</span>73 <span style=''>  }
</span>74 <span style=''>}
</span>75 <span style=''>
</span>76 <span style=''>object StrategyDecider extends MethodProfiling with LazyLogging {
</span>77 <span style=''>
</span>78 <span style=''>  private val decider: StrategyDecider = </span><span style='background: #AEF1AE'>SystemProperty(&quot;geomesa.strategy.decider&quot;).option</span><span style=''> match {
</span>79 <span style=''>    case None       =&gt; </span><span style='background: #AEF1AE'>new CostBasedStrategyDecider()</span><span style=''>
</span>80 <span style=''>    case Some(clas) =&gt; </span><span style='background: #F0ADAD'>Class.forName(clas).getConstructor().newInstance().asInstanceOf[StrategyDecider]</span><span style=''>
</span>81 <span style=''>  }
</span>82 <span style=''>
</span>83 <span style=''>  logger.debug(s&quot;Using strategy provider '${decider.getClass.getName}'&quot;)
</span>84 <span style=''>
</span>85 <span style=''>  /**
</span>86 <span style=''>    * Selects a strategy for executing a given query.
</span>87 <span style=''>    *
</span>88 <span style=''>    * If a particular strategy has been requested, that strategy will be used (note - this is only
</span>89 <span style=''>    * partially supported, and should be used with care.)
</span>90 <span style=''>    *
</span>91 <span style=''>    * Otherwise, the query will be examined for strategies that could be used to execute it. The cost of
</span>92 <span style=''>    * executing each available strategy will be calculated, and the least expensive strategy will be used.
</span>93 <span style=''>    *
</span>94 <span style=''>    * @param ds data store
</span>95 <span style=''>    * @param sft simple feature type
</span>96 <span style=''>    * @param filter filter to execute
</span>97 <span style=''>    * @param hints query hints (transform, etc)
</span>98 <span style=''>    * @param explain for trace logging
</span>99 <span style=''>    * @return
</span>100 <span style=''>    */
</span>101 <span style=''>  def getFilterPlan[DS &lt;: GeoMesaDataStore[DS]](
</span>102 <span style=''>      ds: DS,
</span>103 <span style=''>      sft: SimpleFeatureType,
</span>104 <span style=''>      filter: Filter,
</span>105 <span style=''>      hints: Hints,
</span>106 <span style=''>      explain: Explainer = ExplainNull): Seq[FilterStrategy] = {
</span>107 <span style=''>    import org.locationtech.geomesa.index.conf.QueryHints.RichHints
</span>108 <span style=''>
</span>109 <span style=''>    def complete(op: String, time: Long, count: Int): Unit = </span><span style='background: #AEF1AE'>explain(s&quot;$op took ${time}ms for $count options&quot;)</span><span style=''>
</span>110 <span style=''>
</span>111 <span style=''>    val evaluation = </span><span style='background: #AEF1AE'>hints.getCostEvaluation</span><span style=''>
</span>112 <span style=''>    val indices = </span><span style='background: #AEF1AE'>ds.manager.indices(sft, mode = IndexMode.Read)</span><span style=''>
</span>113 <span style=''>
</span>114 <span style=''>    // get the various options that we could potentially use
</span>115 <span style=''>    val options = </span><span style='background: #AEF1AE'>profile((o: Seq[FilterPlan], t: Long) =&gt; complete(&quot;Query processing&quot;, t, o.length)) {
</span>116 <span style=''></span><span style='background: #AEF1AE'>      new FilterSplitter(sft, indices).getQueryOptions(filter, hints)
</span>117 <span style=''></span><span style='background: #AEF1AE'>    }</span><span style=''>
</span>118 <span style=''>
</span>119 <span style=''>    val selected = </span><span style='background: #AEF1AE'>profile(t =&gt; complete(&quot;Strategy selection&quot;, t, options.length)) {
</span>120 <span style=''></span><span style='background: #AEF1AE'>      val requested = hints.getRequestedIndex.orNull
</span>121 <span style=''></span><span style='background: #AEF1AE'>      if (requested != null) {
</span>122 <span style=''></span><span style='background: #AEF1AE'>        // see if one of the normal plans matches the requested type - if not, force it
</span>123 <span style=''></span><span style='background: #AEF1AE'>        val forced = matchRequested(requested, options).getOrElse {
</span>124 <span style=''></span><span style='background: #AEF1AE'>          val index =
</span>125 <span style=''></span><span style='background: #AEF1AE'>            indices.find(_.identifier.equalsIgnoreCase(requested))
</span>126 <span style=''></span><span style='background: #AEF1AE'>              .orElse(indices.find(_.name.equalsIgnoreCase(requested)))
</span>127 <span style=''></span><span style='background: #AEF1AE'>              .getOrElse {
</span>128 <span style=''></span><span style='background: #AEF1AE'>                throw new IllegalArgumentException(s&quot;Invalid index strategy: $requested. Valid values are &quot; +
</span>129 <span style=''></span><span style='background: #AEF1AE'>                  indices.map(i =&gt; s&quot;${i.name}, ${i.identifier}&quot;).mkString(&quot;, &quot;))
</span>130 <span style=''></span><span style='background: #AEF1AE'>              }
</span>131 <span style=''></span><span style='background: #AEF1AE'>          val secondary = if (filter == Filter.INCLUDE) { </span><span style='background: #F0ADAD'>None</span><span style='background: #AEF1AE'> } else { Some(filter) }
</span>132 <span style=''></span><span style='background: #AEF1AE'>          FilterPlan(Seq(FilterStrategy(index, None, secondary, temporal = false, Float.PositiveInfinity, hints)))
</span>133 <span style=''></span><span style='background: #AEF1AE'>        }
</span>134 <span style=''></span><span style='background: #AEF1AE'>        explain(</span><span style='background: #F0ADAD'>s&quot;Filter plan forced to $forced&quot;</span><span style='background: #AEF1AE'>)
</span>135 <span style=''></span><span style='background: #AEF1AE'>        forced
</span>136 <span style=''></span><span style='background: #AEF1AE'>      } else if (options.isEmpty) {
</span>137 <span style=''></span><span style='background: #AEF1AE'>        // corresponds to filter.exclude
</span>138 <span style=''></span><span style='background: #AEF1AE'>        // we still need to return something so that we can handle reduce steps, if needed
</span>139 <span style=''></span><span style='background: #AEF1AE'>        explain(&quot;No filter plans found - creating empty plan&quot;)
</span>140 <span style=''></span><span style='background: #AEF1AE'>        FilterPlan(Seq(FilterStrategy(new EmptyIndex(ds, sft), Some(Filter.EXCLUDE), None, temporal = false, 1f, hints)))
</span>141 <span style=''></span><span style='background: #AEF1AE'>      } else if (options.lengthCompare(1) == 0) {
</span>142 <span style=''></span><span style='background: #AEF1AE'>        // only a single option, so don't bother with cost
</span>143 <span style=''></span><span style='background: #AEF1AE'>        explain(s&quot;Filter plan: ${options.head}&quot;)
</span>144 <span style=''></span><span style='background: #AEF1AE'>        options.head
</span>145 <span style=''></span><span style='background: #AEF1AE'>      } else {
</span>146 <span style=''></span><span style='background: #AEF1AE'>        // let the decider implementation choose the best option
</span>147 <span style=''></span><span style='background: #AEF1AE'>        decider.selectFilterPlan(ds, sft, options, evaluation, explain)
</span>148 <span style=''></span><span style='background: #AEF1AE'>      }
</span>149 <span style=''></span><span style='background: #AEF1AE'>    }</span><span style=''>
</span>150 <span style=''>
</span>151 <span style=''>    </span><span style='background: #AEF1AE'>selected.strategies</span><span style=''>
</span>152 <span style=''>  }
</span>153 <span style=''>
</span>154 <span style=''>  private def matchRequested(id: String, options: Seq[FilterPlan]): Option[FilterPlan] = {
</span>155 <span style=''>    def byId: Option[FilterPlan] = </span><span style='background: #AEF1AE'>options.find(_.strategies.forall(_.index.identifier.equalsIgnoreCase(id)))</span><span style=''>
</span>156 <span style=''>    def byName: Option[FilterPlan] = </span><span style='background: #AEF1AE'>options.find(_.strategies.forall(_.index.name.equalsIgnoreCase(id)))</span><span style=''>
</span>157 <span style=''>    // back-compatibility for attr vs join index name
</span>158 <span style=''>    def byJoin: Option[FilterPlan] = if (</span><span style='background: #AEF1AE'>!AttributeIndex.name.equalsIgnoreCase(id)</span><span style=''>) { </span><span style='background: #AEF1AE'>None</span><span style=''> } else {
</span>159 <span style=''>      </span><span style='background: #AEF1AE'>options.find(</span><span style='background: #F0ADAD'>_.strategies.forall(_.index.name == AttributeIndex.JoinIndexName)</span><span style='background: #AEF1AE'>)</span><span style=''>
</span>160 <span style=''>    }
</span>161 <span style=''>    </span><span style='background: #AEF1AE'>byId.orElse(byName).orElse(byJoin)</span><span style=''>
</span>162 <span style=''>  }
</span>163 <span style=''>
</span>164 <span style=''>  private class CostBasedStrategyDecider extends StrategyDecider {
</span>165 <span style=''>
</span>166 <span style=''>    import org.locationtech.geomesa.utils.geotools.RichSimpleFeatureType.RichSimpleFeatureType
</span>167 <span style=''>
</span>168 <span style=''>    override def selectFilterPlan[DS &lt;: GeoMesaDataStore[DS]](
</span>169 <span style=''>        ds: DS,
</span>170 <span style=''>        sft: SimpleFeatureType,
</span>171 <span style=''>        options: Seq[FilterPlan],
</span>172 <span style=''>        evaluation: CostEvaluation,
</span>173 <span style=''>        explain: Explainer): FilterPlan = {
</span>174 <span style=''>
</span>175 <span style=''>      def cost(option: FilterPlan): FilterPlanCost = {
</span>176 <span style=''>        </span><span style='background: #AEF1AE'>profile((fpc: FilterPlanCost, time: Long) =&gt; fpc.copy(time = time)) {
</span>177 <span style=''></span><span style='background: #AEF1AE'>          var cost = BigInt(0)
</span>178 <span style=''></span><span style='background: #AEF1AE'>          option.strategies.foreach { strategy =&gt;
</span>179 <span style=''></span><span style='background: #AEF1AE'>            val count = evaluation match {
</span>180 <span style=''></span><span style='background: #AEF1AE'>              case CostEvaluation.Stats =&gt; ds.adapter.getStrategyCost(strategy, explain)
</span>181 <span style=''></span><span style='background: #AEF1AE'>              case CostEvaluation.Index =&gt; None
</span>182 <span style=''></span><span style='background: #AEF1AE'>            }
</span>183 <span style=''></span><span style='background: #AEF1AE'>            cost = cost + BigInt((count.getOrElse(100L) * strategy.costMultiplier).toLong)
</span>184 <span style=''></span><span style='background: #AEF1AE'>          }
</span>185 <span style=''></span><span style='background: #AEF1AE'>          FilterPlanCost(option, if (cost.isValidLong) { cost.longValue } else { </span><span style='background: #F0ADAD'>Long.MaxValue</span><span style='background: #AEF1AE'> }, 0L)
</span>186 <span style=''></span><span style='background: #AEF1AE'>        }</span><span style=''>
</span>187 <span style=''>      }
</span>188 <span style=''>
</span>189 <span style=''>      val costs = </span><span style='background: #AEF1AE'>options.map(cost).sorted</span><span style=''>
</span>190 <span style=''>
</span>191 <span style=''>      val temporal = if (</span><span style='background: #AEF1AE'>!sft.isTemporalPriority</span><span style=''>) { </span><span style='background: #AEF1AE'>None</span><span style=''> } else {
</span>192 <span style=''>        </span><span style='background: #AEF1AE'>costs.find(c =&gt; c.plan.strategies.nonEmpty &amp;&amp; c.plan.strategies.forall(_.temporal))</span><span style=''>
</span>193 <span style=''>      }
</span>194 <span style=''>      val selected = </span><span style='background: #AEF1AE'>temporal.getOrElse(costs.head)</span><span style=''>
</span>195 <span style=''>      </span><span style='background: #AEF1AE'>explain(</span><span style='background: #F0ADAD'>s&quot;Filter plan selected: $selected&quot;</span><span style='background: #AEF1AE'>)</span><span style=''>
</span>196 <span style=''>      </span><span style='background: #AEF1AE'>explain(</span><span style='background: #F0ADAD'>s&quot;Filter plans not selected: ${costs.filterNot(_.eq(selected)).mkString(&quot;, &quot;)}&quot;</span><span style='background: #AEF1AE'>)</span><span style=''>
</span>197 <span style=''>      </span><span style='background: #AEF1AE'>selected.plan</span><span style=''>
</span>198 <span style=''>    }
</span>199 <span style=''>
</span>200 <span style=''>    private case class FilterPlanCost(plan: FilterPlan, cost: Long, time: Long) extends Comparable[FilterPlanCost] {
</span>201 <span style=''>      override def compareTo(o: FilterPlanCost): Int = </span><span style='background: #AEF1AE'>java.lang.Long.compare(cost, o.cost)</span><span style=''>
</span>202 <span style=''>      override def toString: String = </span><span style='background: #F0ADAD'>s&quot;$plan (Cost $cost in ${time}ms)&quot;</span><span style=''>
</span>203 <span style=''>    }
</span>204 <span style=''>  }
</span>205 <span style=''>
</span>206 <span style=''>  object CostEvaluation extends Enumeration {
</span>207 <span style=''>    type CostEvaluation = Value
</span>208 <span style=''>    val Stats, Index = </span><span style='background: #AEF1AE'>Value</span><span style=''>
</span>209 <span style=''>  }
</span>210 <span style=''>}
</span></pre>
          </div>
          <div class="tab-pane" id="statementlist">
            <table cellspacing="0" cellpadding="0" class="table statementlist">
      <tr>
        <th>Line</th>
        <th>Stmt Id</th>
        <th>Pos</th>
        <th>Tree</th>
        <th>Symbol</th>
        <th>Tests</th>
        <th>Code</th>
      </tr><tr>
        <td>
          46
        </td>
        <td>
          34960
        </td>
        <td>
          2032
          -
          2063
        </td>
        <td>
          Throw
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          throw new scala.NotImplementedError()
        </td>
      </tr><tr>
        <td>
          68
        </td>
        <td>
          34961
        </td>
        <td>
          2808
          -
          2816
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.stats.HasGeoMesaStats.stats
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          ds.stats
        </td>
      </tr><tr>
        <td>
          68
        </td>
        <td>
          34962
        </td>
        <td>
          2801
          -
          2817
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Option.apply
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          scala.Option.apply[org.locationtech.geomesa.index.stats.GeoMesaStats](ds.stats)
        </td>
      </tr><tr>
        <td>
          68
        </td>
        <td>
          34963
        </td>
        <td>
          2801
          -
          2817
        </td>
        <td>
          Block
        </td>
        <td>
          scala.Option.apply
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          scala.Option.apply[org.locationtech.geomesa.index.stats.GeoMesaStats](ds.stats)
        </td>
      </tr><tr>
        <td>
          69
        </td>
        <td>
          34964
        </td>
        <td>
          2853
          -
          2857
        </td>
        <td>
          Select
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          scala.None
        </td>
      </tr><tr>
        <td>
          69
        </td>
        <td>
          34965
        </td>
        <td>
          2853
          -
          2857
        </td>
        <td>
          Block
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          scala.None
        </td>
      </tr><tr>
        <td>
          72
        </td>
        <td>
          34966
        </td>
        <td>
          2905
          -
          2951
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.selectFilterPlan
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          StrategyDecider.this.selectFilterPlan(sft, options, stats, explain)
        </td>
      </tr><tr>
        <td>
          78
        </td>
        <td>
          34967
        </td>
        <td>
          3082
          -
          3108
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          &quot;geomesa.strategy.decider&quot;
        </td>
      </tr><tr>
        <td>
          78
        </td>
        <td>
          34968
        </td>
        <td>
          3067
          -
          3116
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.utils.conf.GeoMesaSystemProperties.SystemProperty.option
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.geomesa.utils.conf.GeoMesaSystemProperties.SystemProperty.apply(&quot;geomesa.strategy.decider&quot;, org.locationtech.geomesa.utils.conf.GeoMesaSystemProperties.SystemProperty.apply$default$2).option
        </td>
      </tr><tr>
        <td>
          79
        </td>
        <td>
          34969
        </td>
        <td>
          3148
          -
          3178
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.CostBasedStrategyDecider.&lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          new StrategyDecider.this.CostBasedStrategyDecider()
        </td>
      </tr><tr>
        <td>
          79
        </td>
        <td>
          34970
        </td>
        <td>
          3148
          -
          3178
        </td>
        <td>
          Block
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.CostBasedStrategyDecider.&lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          new StrategyDecider.this.CostBasedStrategyDecider()
        </td>
      </tr><tr>
        <td>
          80
        </td>
        <td>
          34971
        </td>
        <td>
          3202
          -
          3282
        </td>
        <td>
          TypeApply
        </td>
        <td>
          scala.Any.asInstanceOf
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          java.lang.Class.forName(clas).getConstructor().newInstance().asInstanceOf[org.locationtech.geomesa.index.planning.StrategyDecider]
        </td>
      </tr><tr>
        <td>
          80
        </td>
        <td>
          34972
        </td>
        <td>
          3202
          -
          3282
        </td>
        <td>
          Block
        </td>
        <td>
          scala.Any.asInstanceOf
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          java.lang.Class.forName(clas).getConstructor().newInstance().asInstanceOf[org.locationtech.geomesa.index.planning.StrategyDecider]
        </td>
      </tr><tr>
        <td>
          109
        </td>
        <td>
          34973
        </td>
        <td>
          4357
          -
          4397
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.StringContext.s
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.StringContext.apply(&quot;&quot;, &quot; took &quot;, &quot;ms for &quot;, &quot; options&quot;).s(op, time, count)
        </td>
      </tr><tr>
        <td>
          109
        </td>
        <td>
          34974
        </td>
        <td>
          4349
          -
          4398
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.utils.Explainer.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          explain.apply(scala.StringContext.apply(&quot;&quot;, &quot; took &quot;, &quot;ms for &quot;, &quot; options&quot;).s(op, time, count))
        </td>
      </tr><tr>
        <td>
          109
        </td>
        <td>
          34975
        </td>
        <td>
          4356
          -
          4356
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ()
        </td>
      </tr><tr>
        <td>
          111
        </td>
        <td>
          34976
        </td>
        <td>
          4421
          -
          4444
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.conf.QueryHints.RichHints.getCostEvaluation
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.geomesa.index.conf.QueryHints.RichHints(hints).getCostEvaluation
        </td>
      </tr><tr>
        <td>
          112
        </td>
        <td>
          34977
        </td>
        <td>
          4494
          -
          4508
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.utils.index.IndexMode.Read
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.geomesa.utils.index.IndexMode.Read
        </td>
      </tr><tr>
        <td>
          112
        </td>
        <td>
          34978
        </td>
        <td>
          4463
          -
          4509
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.api.IndexManager.indices
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ds.manager.indices(sft, org.locationtech.geomesa.utils.index.IndexMode.Read)
        </td>
      </tr><tr>
        <td>
          115
        </td>
        <td>
          34979
        </td>
        <td>
          4640
          -
          4658
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          &quot;Query processing&quot;
        </td>
      </tr><tr>
        <td>
          115
        </td>
        <td>
          34980
        </td>
        <td>
          4663
          -
          4671
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.SeqLike.length
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          o.length
        </td>
      </tr><tr>
        <td>
          115
        </td>
        <td>
          34981
        </td>
        <td>
          4631
          -
          4672
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.complete
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          complete(&quot;Query processing&quot;, t, o.length)
        </td>
      </tr><tr>
        <td>
          115
        </td>
        <td>
          34983
        </td>
        <td>
          4590
          -
          4751
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.metrics.MethodProfiling.profile
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          StrategyDecider.this.profile[Seq[org.locationtech.geomesa.index.api.FilterPlan]](((o: Seq[org.locationtech.geomesa.index.api.FilterPlan], t: Long) =&gt; complete(&quot;Query processing&quot;, t, o.length)))(new FilterSplitter(sft, indices).getQueryOptions(filter, hints))
        </td>
      </tr><tr>
        <td>
          116
        </td>
        <td>
          34982
        </td>
        <td>
          4682
          -
          4745
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.planning.FilterSplitter.getQueryOptions
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          new FilterSplitter(sft, indices).getQueryOptions(filter, hints)
        </td>
      </tr><tr>
        <td>
          119
        </td>
        <td>
          34984
        </td>
        <td>
          4794
          -
          4814
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          &quot;Strategy selection&quot;
        </td>
      </tr><tr>
        <td>
          119
        </td>
        <td>
          34985
        </td>
        <td>
          4819
          -
          4833
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.SeqLike.length
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          options.length
        </td>
      </tr><tr>
        <td>
          119
        </td>
        <td>
          34986
        </td>
        <td>
          4785
          -
          4834
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.complete
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          complete(&quot;Strategy selection&quot;, t, options.length)
        </td>
      </tr><tr>
        <td>
          119
        </td>
        <td>
          35035
        </td>
        <td>
          4772
          -
          6448
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.metrics.MethodProfiling.profile
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          StrategyDecider.this.profile[org.locationtech.geomesa.index.api.FilterPlan](((t: Long) =&gt; complete(&quot;Strategy selection&quot;, t, options.length)))({
  val requested: String = org.locationtech.geomesa.index.conf.QueryHints.RichHints(hints).getRequestedIndex.orNull[String](scala.Predef.$conforms[Null]);
  if (requested.!=(null))
    {
      val forced: org.locationtech.geomesa.index.api.FilterPlan = StrategyDecider.this.matchRequested(requested, options).getOrElse[org.locationtech.geomesa.index.api.FilterPlan]({
        val index: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _] = indices.find(((x$1: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; x$1.identifier.equalsIgnoreCase(requested))).orElse[org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]](indices.find(((x$2: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; x$2.name.equalsIgnoreCase(requested)))).getOrElse[org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]](throw new scala.`package`.IllegalArgumentException(scala.StringContext.apply(&quot;Invalid index strategy: &quot;, &quot;. Valid values are &quot;).s(requested).+(indices.map[String, Seq[String]](((i: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; scala.StringContext.apply(&quot;&quot;, &quot;, &quot;, &quot;&quot;).s(i.name, i.identifier)))(collection.this.Seq.canBuildFrom[String]).mkString(&quot;, &quot;))));
        val secondary: Option[org.geotools.api.filter.Filter] = if (filter.==(org.geotools.api.filter.Filter.INCLUDE))
          scala.None
        else
          scala.Some.apply[org.geotools.api.filter.Filter](filter);
        org.locationtech.geomesa.index.api.`package`.FilterPlan.apply(scala.collection.Seq.apply[org.locationtech.geomesa.index.api.FilterStrategy](org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(index, scala.None, secondary, false, Infinity, hints)))
      });
      explain.apply(scala.StringContext.apply(&quot;Filter plan forced to &quot;, &quot;&quot;).s(forced));
      forced
    }
  else
    if (options.isEmpty)
      {
        explain.apply(&quot;No filter plans found - creating empty plan&quot;);
        org.locationtech.geomesa.index.api.`package`.FilterPlan.apply(scala.collection.Seq.apply[org.locationtech.geomesa.index.api.FilterStrategy](org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(new org.locationtech.geomesa.index.index.EmptyIndex(ds, sft), scala.Some.apply[org.geotools.api.filter.ExcludeFilter](org.geotools.api.filter.Filter.EXCLUDE), scala.None, false, 1.0, hints)))
      }
    else
      if (options.lengthCompare(1).==(0))
        {
          explain.apply(scala.StringContext.apply(&quot;Filter plan: &quot;, &quot;&quot;).s(options.head));
          options.head
        }
      else
        StrategyDecider.this.decider.selectFilterPlan[DS](ds, sft, options, evaluation, explain)
})
        </td>
      </tr><tr>
        <td>
          120
        </td>
        <td>
          34987
        </td>
        <td>
          4884
          -
          4884
        </td>
        <td>
          TypeApply
        </td>
        <td>
          scala.Predef.$conforms
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Predef.$conforms[Null]
        </td>
      </tr><tr>
        <td>
          120
        </td>
        <td>
          34988
        </td>
        <td>
          4860
          -
          4890
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.Option.orNull
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.geomesa.index.conf.QueryHints.RichHints(hints).getRequestedIndex.orNull[String](scala.Predef.$conforms[Null])
        </td>
      </tr><tr>
        <td>
          121
        </td>
        <td>
          34989
        </td>
        <td>
          4901
          -
          4918
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.Object.!=
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          requested.!=(null)
        </td>
      </tr><tr>
        <td>
          121
        </td>
        <td>
          35010
        </td>
        <td>
          4920
          -
          5758
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          {
  val forced: org.locationtech.geomesa.index.api.FilterPlan = StrategyDecider.this.matchRequested(requested, options).getOrElse[org.locationtech.geomesa.index.api.FilterPlan]({
    val index: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _] = indices.find(((x$1: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; x$1.identifier.equalsIgnoreCase(requested))).orElse[org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]](indices.find(((x$2: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; x$2.name.equalsIgnoreCase(requested)))).getOrElse[org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]](throw new scala.`package`.IllegalArgumentException(scala.StringContext.apply(&quot;Invalid index strategy: &quot;, &quot;. Valid values are &quot;).s(requested).+(indices.map[String, Seq[String]](((i: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; scala.StringContext.apply(&quot;&quot;, &quot;, &quot;, &quot;&quot;).s(i.name, i.identifier)))(collection.this.Seq.canBuildFrom[String]).mkString(&quot;, &quot;))));
    val secondary: Option[org.geotools.api.filter.Filter] = if (filter.==(org.geotools.api.filter.Filter.INCLUDE))
      scala.None
    else
      scala.Some.apply[org.geotools.api.filter.Filter](filter);
    org.locationtech.geomesa.index.api.`package`.FilterPlan.apply(scala.collection.Seq.apply[org.locationtech.geomesa.index.api.FilterStrategy](org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(index, scala.None, secondary, false, Infinity, hints)))
  });
  explain.apply(scala.StringContext.apply(&quot;Filter plan forced to &quot;, &quot;&quot;).s(forced));
  forced
}
        </td>
      </tr><tr>
        <td>
          123
        </td>
        <td>
          35007
        </td>
        <td>
          5031
          -
          5685
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Option.getOrElse
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          StrategyDecider.this.matchRequested(requested, options).getOrElse[org.locationtech.geomesa.index.api.FilterPlan]({
  val index: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _] = indices.find(((x$1: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; x$1.identifier.equalsIgnoreCase(requested))).orElse[org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]](indices.find(((x$2: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; x$2.name.equalsIgnoreCase(requested)))).getOrElse[org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]](throw new scala.`package`.IllegalArgumentException(scala.StringContext.apply(&quot;Invalid index strategy: &quot;, &quot;. Valid values are &quot;).s(requested).+(indices.map[String, Seq[String]](((i: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; scala.StringContext.apply(&quot;&quot;, &quot;, &quot;, &quot;&quot;).s(i.name, i.identifier)))(collection.this.Seq.canBuildFrom[String]).mkString(&quot;, &quot;))));
  val secondary: Option[org.geotools.api.filter.Filter] = if (filter.==(org.geotools.api.filter.Filter.INCLUDE))
    scala.None
  else
    scala.Some.apply[org.geotools.api.filter.Filter](filter);
  org.locationtech.geomesa.index.api.`package`.FilterPlan.apply(scala.collection.Seq.apply[org.locationtech.geomesa.index.api.FilterStrategy](org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(index, scala.None, secondary, false, Infinity, hints)))
})
        </td>
      </tr><tr>
        <td>
          125
        </td>
        <td>
          34990
        </td>
        <td>
          5125
          -
          5165
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.equalsIgnoreCase
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          x$1.identifier.equalsIgnoreCase(requested)
        </td>
      </tr><tr>
        <td>
          126
        </td>
        <td>
          34991
        </td>
        <td>
          5202
          -
          5236
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.equalsIgnoreCase
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          x$2.name.equalsIgnoreCase(requested)
        </td>
      </tr><tr>
        <td>
          126
        </td>
        <td>
          34992
        </td>
        <td>
          5189
          -
          5237
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.find
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          indices.find(((x$2: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; x$2.name.equalsIgnoreCase(requested)))
        </td>
      </tr><tr>
        <td>
          127
        </td>
        <td>
          34994
        </td>
        <td>
          5112
          -
          5473
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Option.getOrElse
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          indices.find(((x$1: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; x$1.identifier.equalsIgnoreCase(requested))).orElse[org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]](indices.find(((x$2: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; x$2.name.equalsIgnoreCase(requested)))).getOrElse[org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]](throw new scala.`package`.IllegalArgumentException(scala.StringContext.apply(&quot;Invalid index strategy: &quot;, &quot;. Valid values are &quot;).s(requested).+(indices.map[String, Seq[String]](((i: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; scala.StringContext.apply(&quot;&quot;, &quot;, &quot;, &quot;&quot;).s(i.name, i.identifier)))(collection.this.Seq.canBuildFrom[String]).mkString(&quot;, &quot;))))
        </td>
      </tr><tr>
        <td>
          128
        </td>
        <td>
          34993
        </td>
        <td>
          5282
          -
          5457
        </td>
        <td>
          Throw
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          throw new scala.`package`.IllegalArgumentException(scala.StringContext.apply(&quot;Invalid index strategy: &quot;, &quot;. Valid values are &quot;).s(requested).+(indices.map[String, Seq[String]](((i: org.locationtech.geomesa.index.api.GeoMesaFeatureIndex[_, _]) =&gt; scala.StringContext.apply(&quot;&quot;, &quot;, &quot;, &quot;&quot;).s(i.name, i.identifier)))(collection.this.Seq.canBuildFrom[String]).mkString(&quot;, &quot;)))
        </td>
      </tr><tr>
        <td>
          131
        </td>
        <td>
          34995
        </td>
        <td>
          5514
          -
          5528
        </td>
        <td>
          Select
        </td>
        <td>
          org.geotools.api.filter.Filter.INCLUDE
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.geotools.api.filter.Filter.INCLUDE
        </td>
      </tr><tr>
        <td>
          131
        </td>
        <td>
          34996
        </td>
        <td>
          5504
          -
          5528
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.Object.==
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          filter.==(org.geotools.api.filter.Filter.INCLUDE)
        </td>
      </tr><tr>
        <td>
          131
        </td>
        <td>
          34997
        </td>
        <td>
          5532
          -
          5536
        </td>
        <td>
          Select
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          scala.None
        </td>
      </tr><tr>
        <td>
          131
        </td>
        <td>
          34998
        </td>
        <td>
          5532
          -
          5536
        </td>
        <td>
          Block
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          scala.None
        </td>
      </tr><tr>
        <td>
          131
        </td>
        <td>
          34999
        </td>
        <td>
          5546
          -
          5558
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Some.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Some.apply[org.geotools.api.filter.Filter](filter)
        </td>
      </tr><tr>
        <td>
          131
        </td>
        <td>
          35000
        </td>
        <td>
          5546
          -
          5558
        </td>
        <td>
          Block
        </td>
        <td>
          scala.Some.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Some.apply[org.geotools.api.filter.Filter](filter)
        </td>
      </tr><tr>
        <td>
          132
        </td>
        <td>
          35001
        </td>
        <td>
          5608
          -
          5612
        </td>
        <td>
          Select
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.None
        </td>
      </tr><tr>
        <td>
          132
        </td>
        <td>
          35002
        </td>
        <td>
          5636
          -
          5641
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          false
        </td>
      </tr><tr>
        <td>
          132
        </td>
        <td>
          35003
        </td>
        <td>
          5643
          -
          5665
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          Infinity
        </td>
      </tr><tr>
        <td>
          132
        </td>
        <td>
          35004
        </td>
        <td>
          5586
          -
          5673
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.api.FilterStrategy.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(index, scala.None, secondary, false, Infinity, hints)
        </td>
      </tr><tr>
        <td>
          132
        </td>
        <td>
          35005
        </td>
        <td>
          5582
          -
          5674
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.generic.GenericCompanion.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.collection.Seq.apply[org.locationtech.geomesa.index.api.FilterStrategy](org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(index, scala.None, secondary, false, Infinity, hints))
        </td>
      </tr><tr>
        <td>
          132
        </td>
        <td>
          35006
        </td>
        <td>
          5571
          -
          5675
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.api.FilterPlan.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.geomesa.index.api.`package`.FilterPlan.apply(scala.collection.Seq.apply[org.locationtech.geomesa.index.api.FilterStrategy](org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(index, scala.None, secondary, false, Infinity, hints)))
        </td>
      </tr><tr>
        <td>
          134
        </td>
        <td>
          35008
        </td>
        <td>
          5702
          -
          5734
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.StringContext.s
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          scala.StringContext.apply(&quot;Filter plan forced to &quot;, &quot;&quot;).s(forced)
        </td>
      </tr><tr>
        <td>
          134
        </td>
        <td>
          35009
        </td>
        <td>
          5694
          -
          5735
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.utils.Explainer.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          explain.apply(scala.StringContext.apply(&quot;Filter plan forced to &quot;, &quot;&quot;).s(forced))
        </td>
      </tr><tr>
        <td>
          136
        </td>
        <td>
          35011
        </td>
        <td>
          5768
          -
          5783
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.SeqLike.isEmpty
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          options.isEmpty
        </td>
      </tr><tr>
        <td>
          136
        </td>
        <td>
          35022
        </td>
        <td>
          5785
          -
          6111
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          {
  explain.apply(&quot;No filter plans found - creating empty plan&quot;);
  org.locationtech.geomesa.index.api.`package`.FilterPlan.apply(scala.collection.Seq.apply[org.locationtech.geomesa.index.api.FilterStrategy](org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(new org.locationtech.geomesa.index.index.EmptyIndex(ds, sft), scala.Some.apply[org.geotools.api.filter.ExcludeFilter](org.geotools.api.filter.Filter.EXCLUDE), scala.None, false, 1.0, hints)))
}
        </td>
      </tr><tr>
        <td>
          136
        </td>
        <td>
          35034
        </td>
        <td>
          5764
          -
          6442
        </td>
        <td>
          If
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          if (options.isEmpty)
  {
    explain.apply(&quot;No filter plans found - creating empty plan&quot;);
    org.locationtech.geomesa.index.api.`package`.FilterPlan.apply(scala.collection.Seq.apply[org.locationtech.geomesa.index.api.FilterStrategy](org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(new org.locationtech.geomesa.index.index.EmptyIndex(ds, sft), scala.Some.apply[org.geotools.api.filter.ExcludeFilter](org.geotools.api.filter.Filter.EXCLUDE), scala.None, false, 1.0, hints)))
  }
else
  if (options.lengthCompare(1).==(0))
    {
      explain.apply(scala.StringContext.apply(&quot;Filter plan: &quot;, &quot;&quot;).s(options.head));
      options.head
    }
  else
    StrategyDecider.this.decider.selectFilterPlan[DS](ds, sft, options, evaluation, explain)
        </td>
      </tr><tr>
        <td>
          139
        </td>
        <td>
          35012
        </td>
        <td>
          5927
          -
          5981
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.utils.Explainer.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          explain.apply(&quot;No filter plans found - creating empty plan&quot;)
        </td>
      </tr><tr>
        <td>
          140
        </td>
        <td>
          35013
        </td>
        <td>
          6020
          -
          6043
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.index.EmptyIndex.&lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          new org.locationtech.geomesa.index.index.EmptyIndex(ds, sft)
        </td>
      </tr><tr>
        <td>
          140
        </td>
        <td>
          35014
        </td>
        <td>
          6050
          -
          6064
        </td>
        <td>
          Select
        </td>
        <td>
          org.geotools.api.filter.Filter.EXCLUDE
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.geotools.api.filter.Filter.EXCLUDE
        </td>
      </tr><tr>
        <td>
          140
        </td>
        <td>
          35015
        </td>
        <td>
          6045
          -
          6065
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Some.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Some.apply[org.geotools.api.filter.ExcludeFilter](org.geotools.api.filter.Filter.EXCLUDE)
        </td>
      </tr><tr>
        <td>
          140
        </td>
        <td>
          35016
        </td>
        <td>
          6067
          -
          6071
        </td>
        <td>
          Select
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.None
        </td>
      </tr><tr>
        <td>
          140
        </td>
        <td>
          35017
        </td>
        <td>
          6084
          -
          6089
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          false
        </td>
      </tr><tr>
        <td>
          140
        </td>
        <td>
          35018
        </td>
        <td>
          6091
          -
          6093
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          1.0
        </td>
      </tr><tr>
        <td>
          140
        </td>
        <td>
          35019
        </td>
        <td>
          6005
          -
          6101
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.api.FilterStrategy.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(new org.locationtech.geomesa.index.index.EmptyIndex(ds, sft), scala.Some.apply[org.geotools.api.filter.ExcludeFilter](org.geotools.api.filter.Filter.EXCLUDE), scala.None, false, 1.0, hints)
        </td>
      </tr><tr>
        <td>
          140
        </td>
        <td>
          35020
        </td>
        <td>
          6001
          -
          6102
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.generic.GenericCompanion.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.collection.Seq.apply[org.locationtech.geomesa.index.api.FilterStrategy](org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(new org.locationtech.geomesa.index.index.EmptyIndex(ds, sft), scala.Some.apply[org.geotools.api.filter.ExcludeFilter](org.geotools.api.filter.Filter.EXCLUDE), scala.None, false, 1.0, hints))
        </td>
      </tr><tr>
        <td>
          140
        </td>
        <td>
          35021
        </td>
        <td>
          5990
          -
          6103
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.api.FilterPlan.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.geomesa.index.api.`package`.FilterPlan.apply(scala.collection.Seq.apply[org.locationtech.geomesa.index.api.FilterStrategy](org.locationtech.geomesa.index.api.`package`.FilterStrategy.apply(new org.locationtech.geomesa.index.index.EmptyIndex(ds, sft), scala.Some.apply[org.geotools.api.filter.ExcludeFilter](org.geotools.api.filter.Filter.EXCLUDE), scala.None, false, 1.0, hints)))
        </td>
      </tr><tr>
        <td>
          141
        </td>
        <td>
          35023
        </td>
        <td>
          6121
          -
          6150
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Int.==
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          options.lengthCompare(1).==(0)
        </td>
      </tr><tr>
        <td>
          141
        </td>
        <td>
          35030
        </td>
        <td>
          6152
          -
          6290
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          {
  explain.apply(scala.StringContext.apply(&quot;Filter plan: &quot;, &quot;&quot;).s(options.head));
  options.head
}
        </td>
      </tr><tr>
        <td>
          141
        </td>
        <td>
          35033
        </td>
        <td>
          6117
          -
          6442
        </td>
        <td>
          If
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          if (options.lengthCompare(1).==(0))
  {
    explain.apply(scala.StringContext.apply(&quot;Filter plan: &quot;, &quot;&quot;).s(options.head));
    options.head
  }
else
  StrategyDecider.this.decider.selectFilterPlan[DS](ds, sft, options, evaluation, explain)
        </td>
      </tr><tr>
        <td>
          143
        </td>
        <td>
          35024
        </td>
        <td>
          6231
          -
          6245
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          &quot;Filter plan: &quot;
        </td>
      </tr><tr>
        <td>
          143
        </td>
        <td>
          35025
        </td>
        <td>
          6259
          -
          6260
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          &quot;&quot;
        </td>
      </tr><tr>
        <td>
          143
        </td>
        <td>
          35026
        </td>
        <td>
          6246
          -
          6258
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.IterableLike.head
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          options.head
        </td>
      </tr><tr>
        <td>
          143
        </td>
        <td>
          35027
        </td>
        <td>
          6229
          -
          6260
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.StringContext.s
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.StringContext.apply(&quot;Filter plan: &quot;, &quot;&quot;).s(options.head)
        </td>
      </tr><tr>
        <td>
          143
        </td>
        <td>
          35028
        </td>
        <td>
          6221
          -
          6261
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.utils.Explainer.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          explain.apply(scala.StringContext.apply(&quot;Filter plan: &quot;, &quot;&quot;).s(options.head))
        </td>
      </tr><tr>
        <td>
          144
        </td>
        <td>
          35029
        </td>
        <td>
          6270
          -
          6282
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.IterableLike.head
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          options.head
        </td>
      </tr><tr>
        <td>
          147
        </td>
        <td>
          35031
        </td>
        <td>
          6371
          -
          6434
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.selectFilterPlan
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          StrategyDecider.this.decider.selectFilterPlan[DS](ds, sft, options, evaluation, explain)
        </td>
      </tr><tr>
        <td>
          147
        </td>
        <td>
          35032
        </td>
        <td>
          6371
          -
          6434
        </td>
        <td>
          Block
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.selectFilterPlan
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          StrategyDecider.this.decider.selectFilterPlan[DS](ds, sft, options, evaluation, explain)
        </td>
      </tr><tr>
        <td>
          151
        </td>
        <td>
          35036
        </td>
        <td>
          6454
          -
          6473
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.api.FilterPlan.strategies
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          selected.strategies
        </td>
      </tr><tr>
        <td>
          155
        </td>
        <td>
          35037
        </td>
        <td>
          6638
          -
          6677
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.equalsIgnoreCase
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          x$4.index.identifier.equalsIgnoreCase(id)
        </td>
      </tr><tr>
        <td>
          155
        </td>
        <td>
          35038
        </td>
        <td>
          6618
          -
          6678
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.forall
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          x$3.strategies.forall(((x$4: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; x$4.index.identifier.equalsIgnoreCase(id)))
        </td>
      </tr><tr>
        <td>
          155
        </td>
        <td>
          35039
        </td>
        <td>
          6605
          -
          6679
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.find
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          options.find(((x$3: org.locationtech.geomesa.index.api.FilterPlan) =&gt; x$3.strategies.forall(((x$4: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; x$4.index.identifier.equalsIgnoreCase(id)))))
        </td>
      </tr><tr>
        <td>
          156
        </td>
        <td>
          35040
        </td>
        <td>
          6750
          -
          6783
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.equalsIgnoreCase
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          x$6.index.name.equalsIgnoreCase(id)
        </td>
      </tr><tr>
        <td>
          156
        </td>
        <td>
          35041
        </td>
        <td>
          6730
          -
          6784
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.forall
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          x$5.strategies.forall(((x$6: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; x$6.index.name.equalsIgnoreCase(id)))
        </td>
      </tr><tr>
        <td>
          156
        </td>
        <td>
          35042
        </td>
        <td>
          6717
          -
          6785
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.find
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          options.find(((x$5: org.locationtech.geomesa.index.api.FilterPlan) =&gt; x$5.strategies.forall(((x$6: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; x$6.index.name.equalsIgnoreCase(id)))))
        </td>
      </tr><tr>
        <td>
          158
        </td>
        <td>
          35043
        </td>
        <td>
          6881
          -
          6922
        </td>
        <td>
          Select
        </td>
        <td>
          scala.Boolean.unary_!
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.geomesa.index.index.attribute.AttributeIndex.name.equalsIgnoreCase(id).unary_!
        </td>
      </tr><tr>
        <td>
          158
        </td>
        <td>
          35044
        </td>
        <td>
          6926
          -
          6930
        </td>
        <td>
          Select
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.None
        </td>
      </tr><tr>
        <td>
          158
        </td>
        <td>
          35045
        </td>
        <td>
          6926
          -
          6930
        </td>
        <td>
          Block
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.None
        </td>
      </tr><tr>
        <td>
          159
        </td>
        <td>
          35046
        </td>
        <td>
          6995
          -
          7023
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.index.attribute.AttributeIndex.JoinIndexName
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          org.locationtech.geomesa.index.index.attribute.AttributeIndex.JoinIndexName
        </td>
      </tr><tr>
        <td>
          159
        </td>
        <td>
          35047
        </td>
        <td>
          6979
          -
          7023
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.Object.==
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          x$8.index.name.==(org.locationtech.geomesa.index.index.attribute.AttributeIndex.JoinIndexName)
        </td>
      </tr><tr>
        <td>
          159
        </td>
        <td>
          35048
        </td>
        <td>
          6959
          -
          7024
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.forall
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          x$7.strategies.forall(((x$8: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; x$8.index.name.==(org.locationtech.geomesa.index.index.attribute.AttributeIndex.JoinIndexName)))
        </td>
      </tr><tr>
        <td>
          159
        </td>
        <td>
          35049
        </td>
        <td>
          6946
          -
          7025
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.find
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          options.find(((x$7: org.locationtech.geomesa.index.api.FilterPlan) =&gt; x$7.strategies.forall(((x$8: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; x$8.index.name.==(org.locationtech.geomesa.index.index.attribute.AttributeIndex.JoinIndexName)))))
        </td>
      </tr><tr>
        <td>
          159
        </td>
        <td>
          35050
        </td>
        <td>
          6946
          -
          7025
        </td>
        <td>
          Block
        </td>
        <td>
          scala.collection.IterableLike.find
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          options.find(((x$7: org.locationtech.geomesa.index.api.FilterPlan) =&gt; x$7.strategies.forall(((x$8: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; x$8.index.name.==(org.locationtech.geomesa.index.index.attribute.AttributeIndex.JoinIndexName)))))
        </td>
      </tr><tr>
        <td>
          161
        </td>
        <td>
          35051
        </td>
        <td>
          7036
          -
          7070
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Option.orElse
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          byId.orElse[org.locationtech.geomesa.index.api.FilterPlan](byName).orElse[org.locationtech.geomesa.index.api.FilterPlan](byJoin)
        </td>
      </tr><tr>
        <td>
          176
        </td>
        <td>
          35052
        </td>
        <td>
          7574
          -
          7595
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.CostBasedStrategyDecider.FilterPlanCost.copy
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          fpc.copy(x$2, x$3, x$1)
        </td>
      </tr><tr>
        <td>
          176
        </td>
        <td>
          35053
        </td>
        <td>
          7574
          -
          7595
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ()
        </td>
      </tr><tr>
        <td>
          176
        </td>
        <td>
          35072
        </td>
        <td>
          7529
          -
          8088
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.metrics.MethodProfiling.profile
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          StrategyDecider.this.profile[CostBasedStrategyDecider.this.FilterPlanCost](((fpc: CostBasedStrategyDecider.this.FilterPlanCost, time: Long) =&gt; {
  {
    &lt;artifact&gt; val x$1: Long = time;
    &lt;artifact&gt; val x$2: org.locationtech.geomesa.index.api.FilterPlan = fpc.copy$default$1;
    &lt;artifact&gt; val x$3: Long = fpc.copy$default$2;
    fpc.copy(x$2, x$3, x$1)
  };
  ()
}))({
  var cost: scala.math.BigInt = scala.`package`.BigInt.apply(0);
  option.strategies.foreach[Unit](((strategy: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; {
    val count: Option[Long] = evaluation match {
      case StrategyDecider.this.CostEvaluation.Stats =&gt; ds.adapter.getStrategyCost(strategy, explain)
      case StrategyDecider.this.CostEvaluation.Index =&gt; scala.None
    };
    cost = cost.+(scala.`package`.BigInt.apply(count.getOrElse[Long](100L).*(strategy.costMultiplier).toLong))
  }));
  CostBasedStrategyDecider.this.FilterPlanCost.apply(option, if (cost.isValidLong)
    cost.longValue()
  else
    9223372036854775807L, 0L)
})
        </td>
      </tr><tr>
        <td>
          177
        </td>
        <td>
          35054
        </td>
        <td>
          7620
          -
          7629
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.math.BigInt.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.`package`.BigInt.apply(0)
        </td>
      </tr><tr>
        <td>
          178
        </td>
        <td>
          35064
        </td>
        <td>
          7640
          -
          7976
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.foreach
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          option.strategies.foreach[Unit](((strategy: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; {
  val count: Option[Long] = evaluation match {
    case StrategyDecider.this.CostEvaluation.Stats =&gt; ds.adapter.getStrategyCost(strategy, explain)
    case StrategyDecider.this.CostEvaluation.Index =&gt; scala.None
  };
  cost = cost.+(scala.`package`.BigInt.apply(count.getOrElse[Long](100L).*(strategy.costMultiplier).toLong))
}))
        </td>
      </tr><tr>
        <td>
          180
        </td>
        <td>
          35055
        </td>
        <td>
          7766
          -
          7811
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.api.IndexAdapter.getStrategyCost
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ds.adapter.getStrategyCost(strategy, explain)
        </td>
      </tr><tr>
        <td>
          180
        </td>
        <td>
          35056
        </td>
        <td>
          7766
          -
          7811
        </td>
        <td>
          Block
        </td>
        <td>
          org.locationtech.geomesa.index.api.IndexAdapter.getStrategyCost
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ds.adapter.getStrategyCost(strategy, explain)
        </td>
      </tr><tr>
        <td>
          181
        </td>
        <td>
          35057
        </td>
        <td>
          7855
          -
          7859
        </td>
        <td>
          Select
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.None
        </td>
      </tr><tr>
        <td>
          181
        </td>
        <td>
          35058
        </td>
        <td>
          7855
          -
          7859
        </td>
        <td>
          Block
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.None
        </td>
      </tr><tr>
        <td>
          183
        </td>
        <td>
          35059
        </td>
        <td>
          7924
          -
          7928
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          100L
        </td>
      </tr><tr>
        <td>
          183
        </td>
        <td>
          35060
        </td>
        <td>
          7932
          -
          7955
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.api.FilterStrategy.costMultiplier
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          strategy.costMultiplier
        </td>
      </tr><tr>
        <td>
          183
        </td>
        <td>
          35061
        </td>
        <td>
          7907
          -
          7963
        </td>
        <td>
          Select
        </td>
        <td>
          scala.Float.toLong
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          count.getOrElse[Long](100L).*(strategy.costMultiplier).toLong
        </td>
      </tr><tr>
        <td>
          183
        </td>
        <td>
          35062
        </td>
        <td>
          7900
          -
          7964
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.math.BigInt.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.`package`.BigInt.apply(count.getOrElse[Long](100L).*(strategy.costMultiplier).toLong)
        </td>
      </tr><tr>
        <td>
          183
        </td>
        <td>
          35063
        </td>
        <td>
          7893
          -
          7964
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.math.BigInt.+
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          cost.+(scala.`package`.BigInt.apply(count.getOrElse[Long](100L).*(strategy.costMultiplier).toLong))
        </td>
      </tr><tr>
        <td>
          185
        </td>
        <td>
          35065
        </td>
        <td>
          8014
          -
          8030
        </td>
        <td>
          Select
        </td>
        <td>
          scala.math.BigInt.isValidLong
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          cost.isValidLong
        </td>
      </tr><tr>
        <td>
          185
        </td>
        <td>
          35066
        </td>
        <td>
          8034
          -
          8048
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.math.BigInt.longValue
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          cost.longValue()
        </td>
      </tr><tr>
        <td>
          185
        </td>
        <td>
          35067
        </td>
        <td>
          8034
          -
          8048
        </td>
        <td>
          Block
        </td>
        <td>
          scala.math.BigInt.longValue
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          cost.longValue()
        </td>
      </tr><tr>
        <td>
          185
        </td>
        <td>
          35068
        </td>
        <td>
          8058
          -
          8071
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          9223372036854775807L
        </td>
      </tr><tr>
        <td>
          185
        </td>
        <td>
          35069
        </td>
        <td>
          8058
          -
          8071
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          9223372036854775807L
        </td>
      </tr><tr>
        <td>
          185
        </td>
        <td>
          35070
        </td>
        <td>
          8075
          -
          8077
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          0L
        </td>
      </tr><tr>
        <td>
          185
        </td>
        <td>
          35071
        </td>
        <td>
          7987
          -
          8078
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.CostBasedStrategyDecider.FilterPlanCost.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          CostBasedStrategyDecider.this.FilterPlanCost.apply(option, if (cost.isValidLong)
  cost.longValue()
else
  9223372036854775807L, 0L)
        </td>
      </tr><tr>
        <td>
          189
        </td>
        <td>
          35073
        </td>
        <td>
          8128
          -
          8132
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.CostBasedStrategyDecider.cost
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          cost(option)
        </td>
      </tr><tr>
        <td>
          189
        </td>
        <td>
          35074
        </td>
        <td>
          8127
          -
          8127
        </td>
        <td>
          TypeApply
        </td>
        <td>
          scala.collection.Seq.canBuildFrom
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          collection.this.Seq.canBuildFrom[CostBasedStrategyDecider.this.FilterPlanCost]
        </td>
      </tr><tr>
        <td>
          189
        </td>
        <td>
          35075
        </td>
        <td>
          8134
          -
          8134
        </td>
        <td>
          TypeApply
        </td>
        <td>
          scala.Predef.$conforms
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Predef.$conforms[CostBasedStrategyDecider.this.FilterPlanCost]
        </td>
      </tr><tr>
        <td>
          189
        </td>
        <td>
          35076
        </td>
        <td>
          8134
          -
          8134
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.math.LowPriorityOrderingImplicits.ordered
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          math.this.Ordering.ordered[CostBasedStrategyDecider.this.FilterPlanCost](scala.Predef.$conforms[CostBasedStrategyDecider.this.FilterPlanCost])
        </td>
      </tr><tr>
        <td>
          189
        </td>
        <td>
          35077
        </td>
        <td>
          8116
          -
          8140
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.collection.SeqLike.sorted
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          options.map[CostBasedStrategyDecider.this.FilterPlanCost, Seq[CostBasedStrategyDecider.this.FilterPlanCost]]({
  ((option: org.locationtech.geomesa.index.api.FilterPlan) =&gt; cost(option))
})(collection.this.Seq.canBuildFrom[CostBasedStrategyDecider.this.FilterPlanCost]).sorted[CostBasedStrategyDecider.this.FilterPlanCost](math.this.Ordering.ordered[CostBasedStrategyDecider.this.FilterPlanCost](scala.Predef.$conforms[CostBasedStrategyDecider.this.FilterPlanCost]))
        </td>
      </tr><tr>
        <td>
          191
        </td>
        <td>
          35078
        </td>
        <td>
          8167
          -
          8190
        </td>
        <td>
          Select
        </td>
        <td>
          scala.Boolean.unary_!
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.geomesa.utils.geotools.RichSimpleFeatureType.RichSimpleFeatureType(sft).isTemporalPriority.unary_!
        </td>
      </tr><tr>
        <td>
          191
        </td>
        <td>
          35079
        </td>
        <td>
          8194
          -
          8198
        </td>
        <td>
          Select
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.None
        </td>
      </tr><tr>
        <td>
          191
        </td>
        <td>
          35080
        </td>
        <td>
          8194
          -
          8198
        </td>
        <td>
          Block
        </td>
        <td>
          scala.None
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.None
        </td>
      </tr><tr>
        <td>
          192
        </td>
        <td>
          35081
        </td>
        <td>
          8287
          -
          8297
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.api.FilterStrategy.temporal
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          x$9.temporal
        </td>
      </tr><tr>
        <td>
          192
        </td>
        <td>
          35082
        </td>
        <td>
          8262
          -
          8298
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.forall
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          c.plan.strategies.forall(((x$9: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; x$9.temporal))
        </td>
      </tr><tr>
        <td>
          192
        </td>
        <td>
          35083
        </td>
        <td>
          8232
          -
          8298
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Boolean.&amp;&amp;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          c.plan.strategies.nonEmpty.&amp;&amp;(c.plan.strategies.forall(((x$9: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; x$9.temporal)))
        </td>
      </tr><tr>
        <td>
          192
        </td>
        <td>
          35084
        </td>
        <td>
          8216
          -
          8299
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.find
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          costs.find(((c: CostBasedStrategyDecider.this.FilterPlanCost) =&gt; c.plan.strategies.nonEmpty.&amp;&amp;(c.plan.strategies.forall(((x$9: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; x$9.temporal)))))
        </td>
      </tr><tr>
        <td>
          192
        </td>
        <td>
          35085
        </td>
        <td>
          8216
          -
          8299
        </td>
        <td>
          Block
        </td>
        <td>
          scala.collection.IterableLike.find
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          costs.find(((c: CostBasedStrategyDecider.this.FilterPlanCost) =&gt; c.plan.strategies.nonEmpty.&amp;&amp;(c.plan.strategies.forall(((x$9: org.locationtech.geomesa.index.api.FilterStrategy) =&gt; x$9.temporal)))))
        </td>
      </tr><tr>
        <td>
          194
        </td>
        <td>
          35086
        </td>
        <td>
          8348
          -
          8358
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.IterableLike.head
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          costs.head
        </td>
      </tr><tr>
        <td>
          194
        </td>
        <td>
          35087
        </td>
        <td>
          8329
          -
          8359
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Option.getOrElse
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          temporal.getOrElse[CostBasedStrategyDecider.this.FilterPlanCost](costs.head)
        </td>
      </tr><tr>
        <td>
          195
        </td>
        <td>
          35088
        </td>
        <td>
          8374
          -
          8408
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.StringContext.s
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          scala.StringContext.apply(&quot;Filter plan selected: &quot;, &quot;&quot;).s(selected)
        </td>
      </tr><tr>
        <td>
          195
        </td>
        <td>
          35089
        </td>
        <td>
          8366
          -
          8409
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.utils.Explainer.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          explain.apply(scala.StringContext.apply(&quot;Filter plan selected: &quot;, &quot;&quot;).s(selected))
        </td>
      </tr><tr>
        <td>
          196
        </td>
        <td>
          35090
        </td>
        <td>
          8426
          -
          8454
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          &quot;Filter plans not selected: &quot;
        </td>
      </tr><tr>
        <td>
          196
        </td>
        <td>
          35091
        </td>
        <td>
          8502
          -
          8503
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          &quot;&quot;
        </td>
      </tr><tr>
        <td>
          196
        </td>
        <td>
          35092
        </td>
        <td>
          8455
          -
          8501
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.TraversableOnce.mkString
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          costs.filterNot(((x$10: CostBasedStrategyDecider.this.FilterPlanCost) =&gt; x$10.eq(selected))).mkString(&quot;, &quot;)
        </td>
      </tr><tr>
        <td>
          196
        </td>
        <td>
          35093
        </td>
        <td>
          8424
          -
          8503
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.StringContext.s
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          scala.StringContext.apply(&quot;Filter plans not selected: &quot;, &quot;&quot;).s(costs.filterNot(((x$10: CostBasedStrategyDecider.this.FilterPlanCost) =&gt; x$10.eq(selected))).mkString(&quot;, &quot;))
        </td>
      </tr><tr>
        <td>
          196
        </td>
        <td>
          35094
        </td>
        <td>
          8416
          -
          8504
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.index.utils.Explainer.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          explain.apply(scala.StringContext.apply(&quot;Filter plans not selected: &quot;, &quot;&quot;).s(costs.filterNot(((x$10: CostBasedStrategyDecider.this.FilterPlanCost) =&gt; x$10.eq(selected))).mkString(&quot;, &quot;)))
        </td>
      </tr><tr>
        <td>
          197
        </td>
        <td>
          35095
        </td>
        <td>
          8511
          -
          8524
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.CostBasedStrategyDecider.FilterPlanCost.plan
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          selected.plan
        </td>
      </tr><tr>
        <td>
          201
        </td>
        <td>
          35096
        </td>
        <td>
          8727
          -
          8731
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.CostBasedStrategyDecider.FilterPlanCost.cost
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          FilterPlanCost.this.cost
        </td>
      </tr><tr>
        <td>
          201
        </td>
        <td>
          35097
        </td>
        <td>
          8733
          -
          8739
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.CostBasedStrategyDecider.FilterPlanCost.cost
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          o.cost
        </td>
      </tr><tr>
        <td>
          201
        </td>
        <td>
          35098
        </td>
        <td>
          8704
          -
          8740
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.Long.compare
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          java.lang.Long.compare(FilterPlanCost.this.cost, o.cost)
        </td>
      </tr><tr>
        <td>
          202
        </td>
        <td>
          35099
        </td>
        <td>
          8781
          -
          8782
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          &quot;&quot;
        </td>
      </tr><tr>
        <td>
          202
        </td>
        <td>
          35100
        </td>
        <td>
          8786
          -
          8794
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          &quot; (Cost &quot;
        </td>
      </tr><tr>
        <td>
          202
        </td>
        <td>
          35101
        </td>
        <td>
          8798
          -
          8803
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          &quot; in &quot;
        </td>
      </tr><tr>
        <td>
          202
        </td>
        <td>
          35102
        </td>
        <td>
          8809
          -
          8813
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          &quot;ms)&quot;
        </td>
      </tr><tr>
        <td>
          202
        </td>
        <td>
          35103
        </td>
        <td>
          8782
          -
          8786
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.CostBasedStrategyDecider.FilterPlanCost.plan
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          FilterPlanCost.this.plan
        </td>
      </tr><tr>
        <td>
          202
        </td>
        <td>
          35104
        </td>
        <td>
          8794
          -
          8798
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.CostBasedStrategyDecider.FilterPlanCost.cost
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          FilterPlanCost.this.cost
        </td>
      </tr><tr>
        <td>
          202
        </td>
        <td>
          35105
        </td>
        <td>
          8804
          -
          8808
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.index.planning.StrategyDecider.CostBasedStrategyDecider.FilterPlanCost.time
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          FilterPlanCost.this.time
        </td>
      </tr><tr>
        <td>
          202
        </td>
        <td>
          35106
        </td>
        <td>
          8779
          -
          8813
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.StringContext.s
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          scala.StringContext.apply(&quot;&quot;, &quot; (Cost &quot;, &quot; in &quot;, &quot;ms)&quot;).s(FilterPlanCost.this.plan, FilterPlanCost.this.cost, FilterPlanCost.this.time)
        </td>
      </tr><tr>
        <td>
          208
        </td>
        <td>
          35107
        </td>
        <td>
          8926
          -
          8926
        </td>
        <td>
          Select
        </td>
        <td>
          scala.Enumeration.Value
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          CostEvaluation.this.Value
        </td>
      </tr><tr>
        <td>
          208
        </td>
        <td>
          35108
        </td>
        <td>
          8926
          -
          8931
        </td>
        <td>
          Select
        </td>
        <td>
          scala.Enumeration.Value
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          CostEvaluation.this.Value
        </td>
      </tr>
    </table>
          </div>
        </div>
      </body>
    </html>