<html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title id="title">
          org/locationtech/geomesa/utils/geohash/GeohashUtils.scala.html
        </title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.20.1/css/theme.default.min.css" type="text/css"/><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.20.1/js/jquery.tablesorter.min.js"></script><link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" type="text/css"/><script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script><script type="text/javascript">
        $(document).ready(function() {$(".tablesorter").tablesorter();});
      </script>
        <style>
          table.codegrid { font-family: monospace; font-size: 12px; width: auto!important; }table.statementlist { width: auto!important; font-size: 13px; } table.codegrid td { padding: 0!important; border: 0!important } table td.linenumber { width: 40px!important; } 
        </style>
      </head>
      <body style="font-family: monospace;">
        <ul class="nav nav-tabs">
          <li>
            <a href="#codegrid" data-toggle="tab">Codegrid</a>
          </li>
          <li>
            <a href="#statementlist" data-toggle="tab">Statement List</a>
          </li>
        </ul>
        <div class="tab-content">
          <div class="tab-pane active" id="codegrid">
            <pre style='font-size: 12pt; font-family: courier, monospace;'>1 <span style=''>/***********************************************************************
</span>2 <span style=''> * Copyright (c) 2013-2025 General Atomics Integrated Intelligence, Inc.
</span>3 <span style=''> * All rights reserved. This program and the accompanying materials
</span>4 <span style=''> * are made available under the terms of the Apache License, Version 2.0
</span>5 <span style=''> * which accompanies this distribution and is available at
</span>6 <span style=''> * https://www.apache.org/licenses/LICENSE-2.0
</span>7 <span style=''> ***********************************************************************/
</span>8 <span style=''>
</span>9 <span style=''>package org.locationtech.geomesa.utils.geohash
</span>10 <span style=''>
</span>11 <span style=''>import com.typesafe.scalalogging.LazyLogging
</span>12 <span style=''>import org.locationtech.geomesa.utils.geotools.GeometryUtils
</span>13 <span style=''>import org.locationtech.geomesa.utils.text.WKTUtils
</span>14 <span style=''>import org.locationtech.jts.geom._
</span>15 <span style=''>import org.locationtech.spatial4j.context.jts.JtsSpatialContext
</span>16 <span style=''>
</span>17 <span style=''>import scala.annotation.tailrec
</span>18 <span style=''>import scala.collection.BitSet
</span>19 <span style=''>import scala.collection.immutable.Range.Inclusive
</span>20 <span style=''>import scala.util.Try
</span>21 <span style=''>import scala.util.control.Exception.catching
</span>22 <span style=''>
</span>23 <span style=''>/**
</span>24 <span style=''> * The following bits of code are related to common operations involving
</span>25 <span style=''> * GeoHashes, such as recommending a GeoHash precision for an enclosing
</span>26 <span style=''> * polygon; decomposing a polygon into a fixed number of subordinate
</span>27 <span style=''> * GeoHashes; enumerating possible sub-strings within subordinate GeoHashes
</span>28 <span style=''> * for a given polygon; etc.
</span>29 <span style=''> */
</span>30 <span style=''>object GeohashUtils extends LazyLogging {
</span>31 <span style=''>
</span>32 <span style=''>  // make sure the implicits related to distance are in-scope
</span>33 <span style=''>  import org.locationtech.geomesa.utils.geotools.Conversions.RichGeometry
</span>34 <span style=''>
</span>35 <span style=''>  /**
</span>36 <span style=''>   * Simple place-holder for a pair of resolutions, minimum and maximum, along
</span>37 <span style=''>   * with an increment.
</span>38 <span style=''>   *
</span>39 <span style=''>   * @param minBitsResolution minimum number of bits (GeoHash) resolution to consider; must be ODD
</span>40 <span style=''>   * @param maxBitsResolution maximum number of bits (GeoHash) resolution to consider; must be ODD
</span>41 <span style=''>   */
</span>42 <span style=''>  case class ResolutionRange(minBitsResolution:Int=5,
</span>43 <span style=''>                             maxBitsResolution:Int=63,
</span>44 <span style=''>                             numBitsIncrement:Int=2) {
</span>45 <span style=''>    // validate resolution arguments
</span>46 <span style=''>    if (</span><span style='background: #AEF1AE'>minBitsResolution &gt;= maxBitsResolution</span><span style=''>)
</span>47 <span style=''>      </span><span style='background: #F0ADAD'>throw new IllegalArgumentException(&quot;Minimum resolution must be strictly greater than maximum resolution.&quot;)</span><span style=''>
</span>48 <span style=''>
</span>49 <span style=''>    lazy val range: Range = new Inclusive(minBitsResolution, maxBitsResolution, numBitsIncrement)
</span>50 <span style=''>    override def toString: String = </span><span style='background: #F0ADAD'>&quot;{&quot; + minBitsResolution.toString + &quot;, +&quot; + numBitsIncrement + &quot;..., &quot; + maxBitsResolution.toString + &quot;}&quot;</span><span style=''>
</span>51 <span style=''>
</span>52 <span style=''>    private def getNumChildren: Int = </span><span style='background: #AEF1AE'>1 &lt;&lt; numBitsIncrement</span><span style=''>
</span>53 <span style=''>
</span>54 <span style=''>    def getNextChildren(parent:BitSet, oldPrecision:Int) : List[BitSet] =
</span>55 <span style=''>      </span><span style='background: #AEF1AE'>Range(0, getNumChildren).map { i =&gt;
</span>56 <span style=''></span><span style='background: #AEF1AE'>        // compute bit-set corresponding to this integer,
</span>57 <span style=''></span><span style='background: #AEF1AE'>        // and add it to the left-shifted version of the parent
</span>58 <span style=''></span><span style='background: #AEF1AE'>        val bitString = i.toBinaryString
</span>59 <span style=''></span><span style='background: #AEF1AE'>
</span>60 <span style=''></span><span style='background: #AEF1AE'>        Range(0, numBitsIncrement).foldLeft(parent) { case (bs, j) =&gt;
</span>61 <span style=''></span><span style='background: #AEF1AE'>          val c = if (j &lt; bitString.length) bitString.charAt(j) else '0'
</span>62 <span style=''></span><span style='background: #AEF1AE'>          if (c == '1') bs + (oldPrecision + bitString.length - 1 - j)
</span>63 <span style=''></span><span style='background: #AEF1AE'>          else bs
</span>64 <span style=''></span><span style='background: #AEF1AE'>        }
</span>65 <span style=''></span><span style='background: #AEF1AE'>      }.toList</span><span style=''>
</span>66 <span style=''>
</span>67 <span style=''>  }
</span>68 <span style=''>
</span>69 <span style=''>  // default precision model
</span>70 <span style=''>  private val maxRealisticGeoHashPrecision : Int = </span><span style='background: #AEF1AE'>45</span><span style=''>
</span>71 <span style=''>  private val numDistinctGridPoints: Long = </span><span style='background: #AEF1AE'>1L &lt;&lt; ((maxRealisticGeoHashPrecision+1)/2).toLong</span><span style=''>
</span>72 <span style=''>  private val defaultPrecisionModel = </span><span style='background: #AEF1AE'>new PrecisionModel(numDistinctGridPoints.toDouble)</span><span style=''>
</span>73 <span style=''>
</span>74 <span style=''>  // default factory for WGS84
</span>75 <span style=''>  private val defaultGeometryFactory : GeometryFactory = </span><span style='background: #AEF1AE'>new GeometryFactory(defaultPrecisionModel, 4326)</span><span style=''>
</span>76 <span style=''>
</span>77 <span style=''>  /**
</span>78 <span style=''>   * Utility function that computes the minimum-bounding GeoHash that completely
</span>79 <span style=''>   * encloses the given (target) geometry.  This can be useful as a starting
</span>80 <span style=''>   * point for other calculations on the geometry.
</span>81 <span style=''>   *
</span>82 <span style=''>   * This is a bit of a short-cut, because what it *really* does is to start
</span>83 <span style=''>   * with the centroid of the target geometry, and step down through resolutions
</span>84 <span style=''>   * (in bits) for as long as a GeoHash constructed for that centroid continues
</span>85 <span style=''>   * to enclose the entire geometry.  This works, because any GeoHash that
</span>86 <span style=''>   * encloses the entire geometry must also include the centroid (as well as
</span>87 <span style=''>   * any other point).
</span>88 <span style=''>   *
</span>89 <span style=''>   * @param geom the target geometry that is to be enclosed
</span>90 <span style=''>   * @return the smallest GeoHash -- at an odd number of bits resolution -- that
</span>91 <span style=''>   *         completely encloses the target geometry
</span>92 <span style=''>   */
</span>93 <span style=''>  private def getMinimumBoundingGeohash(geom:Geometry, resolutions:ResolutionRange) : GeoHash = {
</span>94 <span style=''>    // save yourself some effort by computing the geometry's centroid and envelope up front
</span>95 <span style=''>    val centroid = </span><span style='background: #AEF1AE'>getCentroid(geom)</span><span style=''>
</span>96 <span style=''>    val env = </span><span style='background: #AEF1AE'>defaultGeometryFactory.toGeometry(geom.getEnvelopeInternal)</span><span style=''>
</span>97 <span style=''>
</span>98 <span style=''>    // conduct the search through the various candidate resolutions
</span>99 <span style=''>    val </span><span style='background: #AEF1AE'>(_, ghOpt)</span><span style=''> = </span><span style='background: #AEF1AE'>resolutions.range.foldRight((resolutions.minBitsResolution, Option.empty[GeoHash])){
</span>100 <span style=''></span><span style='background: #AEF1AE'>      case (bits, orig@(res, _)) =&gt;
</span>101 <span style=''></span><span style='background: #AEF1AE'>        val gh = GeoHash(centroid.getX, centroid.getY, bits)
</span>102 <span style=''></span><span style='background: #AEF1AE'>        if (gh.contains(env) &amp;&amp; bits &gt;= res) (bits, Some(gh)) else orig
</span>103 <span style=''></span><span style='background: #AEF1AE'>    }</span><span style=''>
</span>104 <span style=''>
</span>105 <span style=''>    // validate that you found a usable result
</span>106 <span style=''>    val gh = </span><span style='background: #AEF1AE'>ghOpt.getOrElse(</span><span style='background: #F0ADAD'>GeoHash(centroid.getX, centroid.getY, resolutions.minBitsResolution)</span><span style='background: #AEF1AE'>)</span><span style=''>
</span>107 <span style=''>    if (</span><span style='background: #AEF1AE'>!gh.contains(env) &amp;&amp; </span><span style='background: #F0ADAD'>!gh.geom.equals(env)</span><span style=''>)
</span>108 <span style=''>      </span><span style='background: #F0ADAD'>throw new Exception(&quot;ERROR:  Could not find a suitable &quot; +
</span>109 <span style=''></span><span style='background: #F0ADAD'>        resolutions.minBitsResolution + &quot;-bit MBR for the target geometry:  &quot; +
</span>110 <span style=''></span><span style='background: #F0ADAD'>        geom)</span><span style=''>
</span>111 <span style=''>
</span>112 <span style=''>    gh
</span>113 <span style=''>  }
</span>114 <span style=''>
</span>115 <span style=''>  /**
</span>116 <span style=''>   * Computes the centroid of the given geometry as a WGS84 point.
</span>117 <span style=''>   *
</span>118 <span style=''>   * @param geom the target geometry whose centroid is sought
</span>119 <span style=''>   * @return the centroid of the given geometry
</span>120 <span style=''>   */
</span>121 <span style=''>  private def getCentroid(geom:Geometry) : Point = {
</span>122 <span style=''>    val pt = </span><span style='background: #AEF1AE'>geom.safeCentroid()</span><span style=''>
</span>123 <span style=''>    </span><span style='background: #AEF1AE'>geom.getFactory.createPoint(new Coordinate(pt.getX, pt.getY))</span><span style=''>
</span>124 <span style=''>  }
</span>125 <span style=''>
</span>126 <span style=''>  // represents a degenerate (empty) geometry
</span>127 <span style=''>  private lazy val emptyGeometry: Geometry = WKTUtils.read(&quot;POLYGON((0 0,0 0,0 0,0 0,0 0))&quot;)
</span>128 <span style=''>
</span>129 <span style=''>  /**
</span>130 <span style=''>   * Utility class for the geometry-decomposition routines.  This represents
</span>131 <span style=''>   * one GeoHash-cell candidate within a decomposition.
</span>132 <span style=''>   *
</span>133 <span style=''>   * @param gh the associated GeoHash cell
</span>134 <span style=''>   * @param targetGeom the geometry being decomposed
</span>135 <span style=''>   */
</span>136 <span style=''>  abstract class DecompositionCandidate(val gh:GeoHash, val targetGeom:Geometry) {
</span>137 <span style=''>
</span>138 <span style=''>    lazy val area: Double = Try(gh.getArea).getOrElse(0.0)
</span>139 <span style=''>    val areaOutside: Double
</span>140 <span style=''>    lazy val resolution: Int = gh.prec
</span>141 <span style=''>    lazy val intersectsTarget: Boolean = Try(gh.intersects(targetGeom)).getOrElse(false)
</span>142 <span style=''>    lazy val intersection: Geometry = Try(gh.intersection(targetGeom)).getOrElse(emptyGeometry)
</span>143 <span style=''>    def isLT(than:DecompositionCandidate): Boolean = {
</span>144 <span style=''>      if (</span><span style='background: #AEF1AE'>areaOutside &gt; than.areaOutside</span><span style=''>) </span><span style='background: #AEF1AE'>true</span><span style=''>
</span>145 <span style=''>      else {
</span>146 <span style=''>        </span><span style='background: #AEF1AE'>if (areaOutside == than.areaOutside) area &lt; than.area
</span>147 <span style=''></span><span style='background: #AEF1AE'>        else false</span><span style=''>
</span>148 <span style=''>      }
</span>149 <span style=''>    }
</span>150 <span style=''>  }
</span>151 <span style=''>
</span>152 <span style=''>  private class PointDecompositionCandidate(gh:GeoHash, targetGeom:Point)
</span>153 <span style=''>    extends DecompositionCandidate(gh, targetGeom) {
</span>154 <span style=''>
</span>155 <span style=''>    /**
</span>156 <span style=''>     * If the GeoHash does not contain the point, then the entire cell's area is
</span>157 <span style=''>     * outside of the target.  If the GeoHash does contain the point, then be
</span>158 <span style=''>     * careful:  Only some fraction of the cell's area should count as overage
</span>159 <span style=''>     * (otherwise, we can't favor smaller GeoHash cells in the decomposer).
</span>160 <span style=''>     */
</span>161 <span style=''>    override lazy val areaOutside: Double = area * (if (intersectsTarget) 0.75 else 1.0)
</span>162 <span style=''>  }
</span>163 <span style=''>
</span>164 <span style=''>  private class LineDecompositionCandidate(gh:GeoHash, targetGeom:MultiLineString, targetArea:Double)
</span>165 <span style=''>    extends DecompositionCandidate(gh, targetGeom) {
</span>166 <span style=''>
</span>167 <span style=''>    /**
</span>168 <span style=''>     * If the GeoHash intersects the target lines, then the overlap is the
</span>169 <span style=''>     * area of the GeoHash cell less the length of the intersection.  Otherwise,
</span>170 <span style=''>     * they are disjoint, and the overlap is the entire area of the GeoHash cell.
</span>171 <span style=''>     *
</span>172 <span style=''>     * Yes, this mixes units, but it observes two trends:
</span>173 <span style=''>     * 1.  the longer a segment intersects, the smaller the area outside will be;
</span>174 <span style=''>     * 2.  the smaller a GeoHash cell, the smaller the area outside will be
</span>175 <span style=''>     */
</span>176 <span style=''>    override lazy val areaOutside : Double =
</span>177 <span style=''>      if (intersectsTarget) area * (1.0 - intersection.getLength / targetArea)
</span>178 <span style=''>      else area
</span>179 <span style=''>  }
</span>180 <span style=''>
</span>181 <span style=''>  private class PolygonDecompositionCandidate(gh:GeoHash, targetGeom:MultiPolygon)
</span>182 <span style=''>    extends DecompositionCandidate(gh, targetGeom) {
</span>183 <span style=''>
</span>184 <span style=''>    /**
</span>185 <span style=''>     * If the GeoHash intersects the target polygon, then the overlap is the
</span>186 <span style=''>     * area of the GeoHash cell less the area of the intersection.  Otherwise,
</span>187 <span style=''>     * they are disjoint, and the overlap is the entire area of the GeoHash cell.
</span>188 <span style=''>     */
</span>189 <span style=''>    override lazy val areaOutside : Double =
</span>190 <span style=''>      if (intersectsTarget) area - intersection.getArea
</span>191 <span style=''>      else area
</span>192 <span style=''>  }
</span>193 <span style=''>
</span>194 <span style=''>  private def decompositionCandidateSorter(a:DecompositionCandidate, b:DecompositionCandidate): Boolean = </span><span style='background: #AEF1AE'>a.isLT(b)</span><span style=''>
</span>195 <span style=''>
</span>196 <span style=''>  /**
</span>197 <span style=''>   * Decomposes the given polygon into a collection of disjoint GeoHash cells
</span>198 <span style=''>   * so that these constraints are satisfied:
</span>199 <span style=''>   * 1.  the total number of decomposed GeoHashes does not exceed the maximum
</span>200 <span style=''>   *     specified as an argument
</span>201 <span style=''>   * 2.  the resolution of the GeoHashes falls within the given range
</span>202 <span style=''>   * 3.  when replacing larger boxes with smaller boxes, always decompose first
</span>203 <span style=''>   *     the box that contains the most area outside the target polygon
</span>204 <span style=''>   *
</span>205 <span style=''>   * @param targetGeom the polygon to be decomposed
</span>206 <span style=''>   * @param maxSize the maximum number of GeoHash cells into which this polygon
</span>207 <span style=''>   *                should be decomposed
</span>208 <span style=''>   * @param resolutions the list of acceptable resolutions for the GeoHash cells
</span>209 <span style=''>   * @return the list of GeoHash cells into which this polygon was decomposed
</span>210 <span style=''>   *         under the given constraints
</span>211 <span style=''>   */
</span>212 <span style=''>  private def decomposeGeometry_(targetGeom: Geometry, maxSize: Int, resolutions: ResolutionRange): List[GeoHash] = {
</span>213 <span style=''>    lazy val geomCatcher = catching(classOf[Exception])
</span>214 <span style=''>    lazy val targetLength : Double = geomCatcher.opt { targetGeom.getLength }.getOrElse(0.0)
</span>215 <span style=''>
</span>216 <span style=''>    // qua factory
</span>217 <span style=''>    def createDecompositionCandidate(gh: GeoHash): DecompositionCandidate = {
</span>218 <span style=''>      // simple switch based on the geometry type
</span>219 <span style=''>      targetGeom match {
</span>220 <span style=''>        case multipoly: MultiPolygon    =&gt;
</span>221 <span style=''>          </span><span style='background: #F0ADAD'>new PolygonDecompositionCandidate(gh, multipoly)</span><span style=''>
</span>222 <span style=''>        case polygon: Polygon           =&gt;
</span>223 <span style=''>          </span><span style='background: #AEF1AE'>new PolygonDecompositionCandidate(
</span>224 <span style=''></span><span style='background: #AEF1AE'>            gh, new MultiPolygon(Array(polygon), polygon.getFactory))</span><span style=''>
</span>225 <span style=''>        case line: LineString           =&gt;
</span>226 <span style=''>          </span><span style='background: #AEF1AE'>new LineDecompositionCandidate(  // promote to a multi-line string of one element
</span>227 <span style=''></span><span style='background: #AEF1AE'>            gh, new MultiLineString(Array(line), line.getFactory), targetLength)</span><span style=''>
</span>228 <span style=''>        case multiLine: MultiLineString =&gt;
</span>229 <span style=''>          </span><span style='background: #F0ADAD'>new LineDecompositionCandidate(gh, multiLine, targetLength)</span><span style=''>
</span>230 <span style=''>        case point: Point               =&gt;
</span>231 <span style=''>          </span><span style='background: #F0ADAD'>new PointDecompositionCandidate(gh, point)</span><span style=''>  // should never be called, but it works
</span>232 <span style=''>        case _                          =&gt;
</span>233 <span style=''>          </span><span style='background: #F0ADAD'>throw new Exception(s&quot;Unsupported Geometry type for decomposition:  ${targetGeom.getClass.getName}&quot;)</span><span style=''>
</span>234 <span style=''>      }
</span>235 <span style=''>    }
</span>236 <span style=''>
</span>237 <span style=''>    // recursive routine that will do the actual decomposition
</span>238 <span style=''>    @tailrec
</span>239 <span style=''>    def decomposeStep(candidates: List[DecompositionCandidate]): List[DecompositionCandidate] = {
</span>240 <span style=''>      // complain, if needed
</span>241 <span style=''>      if (</span><span style='background: #AEF1AE'>candidates.size &gt; maxSize</span><span style=''>) </span><span style='background: #F0ADAD'>throw new Exception(&quot;Too many candidates upon entry.&quot;)</span><span style=''>
</span>242 <span style=''>      else </span><span style='background: #AEF1AE'>{
</span>243 <span style=''></span><span style='background: #AEF1AE'>        // identify the partial to replace...
</span>244 <span style=''></span><span style='background: #AEF1AE'>        // which of the single candidates contains the least overlap (area outside the target geometry)?
</span>245 <span style=''></span><span style='background: #AEF1AE'>        // assume that these are always sorted so that they are in descending order of overlap-area
</span>246 <span style=''></span><span style='background: #AEF1AE'>        val candidate : DecompositionCandidate = candidates.head
</span>247 <span style=''></span><span style='background: #AEF1AE'>        val childResolution : Int = candidate.gh.prec+resolutions.numBitsIncrement
</span>248 <span style=''></span><span style='background: #AEF1AE'>
</span>249 <span style=''></span><span style='background: #AEF1AE'>        // decompose this (worst) candidate into its four children
</span>250 <span style=''></span><span style='background: #AEF1AE'>        val candidateBitSet : BitSet = candidate.gh.bitset
</span>251 <span style=''></span><span style='background: #AEF1AE'>        val children:List[DecompositionCandidate] = resolutions.getNextChildren(candidateBitSet, candidate.gh.prec).map(childBitSet =&gt; {
</span>252 <span style=''></span><span style='background: #AEF1AE'>          createDecompositionCandidate(GeoHash(childBitSet, childResolution))
</span>253 <span style=''></span><span style='background: #AEF1AE'>        }).filter(child =&gt; child.intersectsTarget)
</span>254 <span style=''></span><span style='background: #AEF1AE'>
</span>255 <span style=''></span><span style='background: #AEF1AE'>        // build the next iteration of candidates
</span>256 <span style=''></span><span style='background: #AEF1AE'>        val newCandidates : List[DecompositionCandidate] = (candidates.tail ++ children).sortWith(decompositionCandidateSorter)
</span>257 <span style=''></span><span style='background: #AEF1AE'>
</span>258 <span style=''></span><span style='background: #AEF1AE'>        // recurse, if appropriate
</span>259 <span style=''></span><span style='background: #AEF1AE'>        if ((newCandidates.size &lt;= maxSize) &amp;&amp; (childResolution &lt;= resolutions.maxBitsResolution)) {
</span>260 <span style=''></span><span style='background: #AEF1AE'>          decomposeStep(newCandidates)
</span>261 <span style=''></span><span style='background: #AEF1AE'>        } else candidates
</span>262 <span style=''></span><span style='background: #AEF1AE'>      }</span><span style=''>
</span>263 <span style=''>    }
</span>264 <span style=''>
</span>265 <span style=''>    // identify the smallest GeoHash that contains the entire polygon
</span>266 <span style=''>    val ghMBR = </span><span style='background: #AEF1AE'>getMinimumBoundingGeohash(targetGeom, resolutions)</span><span style=''>
</span>267 <span style=''>    val candidateMBR = </span><span style='background: #AEF1AE'>createDecompositionCandidate(ghMBR)</span><span style=''>
</span>268 <span style=''>
</span>269 <span style=''>    // recursively decompose worst choices
</span>270 <span style=''>    val (keepers:List[DecompositionCandidate]) = </span><span style='background: #AEF1AE'>decomposeStep(List(candidateMBR))</span><span style=''>
</span>271 <span style=''>
</span>272 <span style=''>    // return only the keepers
</span>273 <span style=''>    </span><span style='background: #AEF1AE'>(for (keeper:DecompositionCandidate &lt;- keepers) yield keeper.gh).toList</span><span style=''>
</span>274 <span style=''>  }
</span>275 <span style=''>
</span>276 <span style=''>  private def getDecomposableGeometry(targetGeom: Geometry): Geometry = targetGeom match {
</span>277 <span style=''>    case _: Point                                            =&gt; </span><span style='background: #F0ADAD'>targetGeom</span><span style=''>
</span>278 <span style=''>    case _: Polygon                                          =&gt; </span><span style='background: #AEF1AE'>targetGeom</span><span style=''>
</span>279 <span style=''>    case _: LineString      if </span><span style='background: #AEF1AE'>targetGeom.getNumPoints &lt; 100</span><span style=''> =&gt; </span><span style='background: #AEF1AE'>targetGeom</span><span style=''>
</span>280 <span style=''>    case _: MultiLineString if </span><span style='background: #F0ADAD'>targetGeom.getNumPoints &lt; 100</span><span style=''> =&gt; </span><span style='background: #F0ADAD'>targetGeom</span><span style=''>
</span>281 <span style=''>    case _                                                   =&gt; </span><span style='background: #F0ADAD'>targetGeom.convexHull</span><span style=''>
</span>282 <span style=''>  }
</span>283 <span style=''>
</span>284 <span style=''>  /**
</span>285 <span style=''>   * Transforms a geometry with lon in (-inf, inf) and lat in [-90,90] to a geometry in whole earth BBOX
</span>286 <span style=''>   * 1) any coords of geometry outside lon [-180,180] are transformed to be within [-180,180]
</span>287 <span style=''>   *    (to avoid spatial4j validation errors)
</span>288 <span style=''>   * 2) use spatial4j to create a geometry with inferred International Date Line crossings
</span>289 <span style=''>   *    (if successive coordinates longitudinal difference is greater than 180)
</span>290 <span style=''>   * Parts of geometries with lat outside [-90,90] are ignored.
</span>291 <span style=''>   * To represent a geometry with successive coordinates having lon diff &gt; 180 and not wrapping
</span>292 <span style=''>   * the IDL, you must insert a waypoint such that the difference is less than 180
</span>293 <span style=''>   */
</span>294 <span style=''>  def getInternationalDateLineSafeGeometry(targetGeom: Geometry): Try[Geometry] = {
</span>295 <span style=''>
</span>296 <span style=''>    def degreesLonTranslation(lon: Double): Double = </span><span style='background: #AEF1AE'>(((lon + 180) / 360.0).floor * -360).toInt</span><span style=''>
</span>297 <span style=''>
</span>298 <span style=''>    def translateCoord(coord: Coordinate): Coordinate = {
</span>299 <span style=''>      </span><span style='background: #AEF1AE'>new Coordinate(coord.x + degreesLonTranslation(coord.x), coord.y)</span><span style=''>
</span>300 <span style=''>    }
</span>301 <span style=''>
</span>302 <span style=''>    def translatePolygon(geometry: Geometry): Geometry =
</span>303 <span style=''>      </span><span style='background: #AEF1AE'>defaultGeometryFactory.createPolygon(geometry.getCoordinates.map(c =&gt; translateCoord(c)))</span><span style=''>
</span>304 <span style=''>
</span>305 <span style=''>    def translateLineString(geometry: Geometry): Geometry =
</span>306 <span style=''>      </span><span style='background: #AEF1AE'>defaultGeometryFactory.createLineString(geometry.getCoordinates.map(c =&gt; translateCoord(c)))</span><span style=''>
</span>307 <span style=''>
</span>308 <span style=''>    def translateMultiLineString(geometry: Geometry): Geometry = {
</span>309 <span style=''>      val coords = </span><span style='background: #AEF1AE'>Seq.tabulate(geometry.getNumGeometries)(geometry.getGeometryN)</span><span style=''>
</span>310 <span style=''>      val translated = </span><span style='background: #AEF1AE'>coords.map { c =&gt; translateLineString(c).asInstanceOf[LineString] }</span><span style=''>
</span>311 <span style=''>      </span><span style='background: #AEF1AE'>defaultGeometryFactory.createMultiLineString(translated.toArray)</span><span style=''>
</span>312 <span style=''>    }
</span>313 <span style=''>
</span>314 <span style=''>    def translateMultiPolygon(geometry: Geometry): Geometry = {
</span>315 <span style=''>      val coords = </span><span style='background: #AEF1AE'>Seq.tabulate(geometry.getNumGeometries)(geometry.getGeometryN)</span><span style=''>
</span>316 <span style=''>      val translated = </span><span style='background: #AEF1AE'>coords.map { c =&gt; translatePolygon(c).asInstanceOf[Polygon] }</span><span style=''>
</span>317 <span style=''>      </span><span style='background: #AEF1AE'>defaultGeometryFactory.createMultiPolygon(translated.toArray)</span><span style=''>
</span>318 <span style=''>    }
</span>319 <span style=''>
</span>320 <span style=''>    def translateMultiPoint(geometry: Geometry): Geometry =
</span>321 <span style=''>      </span><span style='background: #AEF1AE'>defaultGeometryFactory.createMultiPointFromCoords(geometry.getCoordinates.map(c =&gt; translateCoord(c)))</span><span style=''>
</span>322 <span style=''>
</span>323 <span style=''>    def translatePoint(geometry: Geometry): Geometry = {
</span>324 <span style=''>      </span><span style='background: #AEF1AE'>defaultGeometryFactory.createPoint(translateCoord(geometry.getCoordinate))</span><span style=''>
</span>325 <span style=''>    }
</span>326 <span style=''>
</span>327 <span style=''>    def translateGeometry(geometry: Geometry): Geometry = {
</span>328 <span style=''>      geometry match {
</span>329 <span style=''>        case _: Polygon =&gt;          </span><span style='background: #AEF1AE'>translatePolygon(geometry)</span><span style=''>
</span>330 <span style=''>        case _: LineString =&gt;       </span><span style='background: #AEF1AE'>translateLineString(geometry)</span><span style=''>
</span>331 <span style=''>        case _: MultiLineString =&gt;  </span><span style='background: #AEF1AE'>translateMultiLineString(geometry)</span><span style=''>
</span>332 <span style=''>        case _: MultiPolygon =&gt;     </span><span style='background: #AEF1AE'>translateMultiPolygon(geometry)</span><span style=''>
</span>333 <span style=''>        case _: MultiPoint =&gt;       </span><span style='background: #AEF1AE'>translateMultiPoint(geometry)</span><span style=''>
</span>334 <span style=''>        case _: Point =&gt;            </span><span style='background: #AEF1AE'>translatePoint(geometry)</span><span style=''>
</span>335 <span style=''>      }
</span>336 <span style=''>    }
</span>337 <span style=''>
</span>338 <span style=''>    </span><span style='background: #AEF1AE'>Try {
</span>339 <span style=''></span><span style='background: #AEF1AE'>      // copy the geometry so that we don't modify the input - JTS mutates the geometry
</span>340 <span style=''></span><span style='background: #AEF1AE'>      // don't use the defaultGeometryFactory as it has limited precision
</span>341 <span style=''></span><span style='background: #AEF1AE'>      val copy = GeometryUtils.geoFactory.createGeometry(targetGeom)
</span>342 <span style=''></span><span style='background: #AEF1AE'>      val withinBoundsGeom =
</span>343 <span style=''></span><span style='background: #AEF1AE'>        if (targetGeom.getEnvelopeInternal.getMinX &lt; -180 || targetGeom.getEnvelopeInternal.getMaxX &gt; 180)
</span>344 <span style=''></span><span style='background: #AEF1AE'>          translateGeometry(copy)
</span>345 <span style=''></span><span style='background: #AEF1AE'>        else
</span>346 <span style=''></span><span style='background: #AEF1AE'>          copy
</span>347 <span style=''></span><span style='background: #AEF1AE'>
</span>348 <span style=''></span><span style='background: #AEF1AE'>      JtsSpatialContext.GEO.getShapeFactory.makeShape(withinBoundsGeom, true, true).getGeom
</span>349 <span style=''></span><span style='background: #AEF1AE'>    }</span><span style=''>
</span>350 <span style=''>  }
</span>351 <span style=''>
</span>352 <span style=''>  /**
</span>353 <span style=''>   * Quick-and-dirty sieve that ensures that we don't waste time decomposing
</span>354 <span style=''>   * single points.
</span>355 <span style=''>   */
</span>356 <span style=''>  def decomposeGeometry(targetGeom: Geometry,
</span>357 <span style=''>                        maxSize: Int = 100,
</span>358 <span style=''>                        resolutions: ResolutionRange = ResolutionRange(0, 40, 5)): List[(Double, Double, Double, Double)] = {
</span>359 <span style=''>  // quick hit to avoid wasting time for single points
</span>360 <span style=''>    targetGeom match {
</span>361 <span style=''>      case point: Point </span><span style='background: #AEF1AE'>=&gt;
</span>362 <span style=''></span><span style='background: #AEF1AE'>        val gh = GeoHash(point.getX, point.getY, resolutions.maxBitsResolution)
</span>363 <span style=''></span><span style='background: #AEF1AE'>        List((gh.bbox.ll.getX, gh.bbox.ll.getY, gh.bbox.ur.getX, gh.bbox.ur.getY))</span><span style=''>
</span>364 <span style=''>      case gc: GeometryCollection =&gt;
</span>365 <span style=''>        </span><span style='background: #AEF1AE'>List.tabulate(gc.getNumGeometries)(gc.getGeometryN).flatMap(decomposeGeometry(_, maxSize, resolutions)).distinct</span><span style=''>
</span>366 <span style=''>      case _ </span><span style='background: #AEF1AE'>=&gt;
</span>367 <span style=''></span><span style='background: #AEF1AE'>        val safeGeom = getInternationalDateLineSafeGeometry(targetGeom).getOrElse(targetGeom)
</span>368 <span style=''></span><span style='background: #AEF1AE'>        val relaxed = getDecomposableGeometry(safeGeom)
</span>369 <span style=''></span><span style='background: #AEF1AE'>        decomposeGeometry_(relaxed, maxSize, resolutions)
</span>370 <span style=''></span><span style='background: #AEF1AE'>          .map(gh =&gt; (gh.bbox.ll.getX, gh.bbox.ll.getY, gh.bbox.ur.getX, gh.bbox.ur.getY))</span><span style=''>
</span>371 <span style=''>    }
</span>372 <span style=''>  }
</span>373 <span style=''>}
</span></pre>
          </div>
          <div class="tab-pane" id="statementlist">
            <table cellspacing="0" cellpadding="0" class="table statementlist">
      <tr>
        <th>Line</th>
        <th>Stmt Id</th>
        <th>Pos</th>
        <th>Tree</th>
        <th>Symbol</th>
        <th>Tests</th>
        <th>Code</th>
      </tr><tr>
        <td>
          46
        </td>
        <td>
          3938
        </td>
        <td>
          2010
          -
          2027
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.ResolutionRange.maxBitsResolution
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ResolutionRange.this.maxBitsResolution
        </td>
      </tr><tr>
        <td>
          46
        </td>
        <td>
          3939
        </td>
        <td>
          1989
          -
          2027
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Int.&gt;=
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ResolutionRange.this.minBitsResolution.&gt;=(ResolutionRange.this.maxBitsResolution)
        </td>
      </tr><tr>
        <td>
          46
        </td>
        <td>
          3942
        </td>
        <td>
          1985
          -
          1985
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ()
        </td>
      </tr><tr>
        <td>
          46
        </td>
        <td>
          3943
        </td>
        <td>
          1985
          -
          1985
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ()
        </td>
      </tr><tr>
        <td>
          47
        </td>
        <td>
          3940
        </td>
        <td>
          2035
          -
          2141
        </td>
        <td>
          Throw
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          throw new scala.`package`.IllegalArgumentException(&quot;Minimum resolution must be strictly greater than maximum resolution.&quot;)
        </td>
      </tr><tr>
        <td>
          47
        </td>
        <td>
          3941
        </td>
        <td>
          2035
          -
          2141
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          throw new scala.`package`.IllegalArgumentException(&quot;Minimum resolution must be strictly greater than maximum resolution.&quot;)
        </td>
      </tr><tr>
        <td>
          50
        </td>
        <td>
          3944
        </td>
        <td>
          2277
          -
          2381
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.+
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          &quot;{&quot;.+(ResolutionRange.this.minBitsResolution.toString()).+(&quot;, +&quot;).+(ResolutionRange.this.numBitsIncrement).+(&quot;..., &quot;).+(ResolutionRange.this.maxBitsResolution.toString()).+(&quot;}&quot;)
        </td>
      </tr><tr>
        <td>
          52
        </td>
        <td>
          3945
        </td>
        <td>
          2421
          -
          2422
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          1
        </td>
      </tr><tr>
        <td>
          52
        </td>
        <td>
          3946
        </td>
        <td>
          2426
          -
          2442
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.ResolutionRange.numBitsIncrement
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ResolutionRange.this.numBitsIncrement
        </td>
      </tr><tr>
        <td>
          52
        </td>
        <td>
          3947
        </td>
        <td>
          2421
          -
          2442
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Int.&lt;&lt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          1.&lt;&lt;(ResolutionRange.this.numBitsIncrement)
        </td>
      </tr><tr>
        <td>
          55
        </td>
        <td>
          3948
        </td>
        <td>
          2530
          -
          2531
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          0
        </td>
      </tr><tr>
        <td>
          55
        </td>
        <td>
          3949
        </td>
        <td>
          2533
          -
          2547
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.ResolutionRange.getNumChildren
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ResolutionRange.this.getNumChildren
        </td>
      </tr><tr>
        <td>
          55
        </td>
        <td>
          3966
        </td>
        <td>
          2553
          -
          2553
        </td>
        <td>
          TypeApply
        </td>
        <td>
          scala.collection.immutable.IndexedSeq.canBuildFrom
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          immutable.this.IndexedSeq.canBuildFrom[scala.collection.BitSet]
        </td>
      </tr><tr>
        <td>
          58
        </td>
        <td>
          3950
        </td>
        <td>
          2706
          -
          2722
        </td>
        <td>
          Select
        </td>
        <td>
          scala.runtime.RichInt.toBinaryString
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Predef.intWrapper(i).toBinaryString
        </td>
      </tr><tr>
        <td>
          60
        </td>
        <td>
          3951
        </td>
        <td>
          2738
          -
          2739
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          0
        </td>
      </tr><tr>
        <td>
          60
        </td>
        <td>
          3952
        </td>
        <td>
          2741
          -
          2757
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.ResolutionRange.numBitsIncrement
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ResolutionRange.this.numBitsIncrement
        </td>
      </tr><tr>
        <td>
          60
        </td>
        <td>
          3964
        </td>
        <td>
          2791
          -
          2955
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          {
  val c: Char = if (j.&lt;(bitString.length()))
    bitString.charAt(j)
  else
    '0';
  if (c.==('1'))
    bs.+(oldPrecision.+(bitString.length()).-(1).-(j))
  else
    bs
}
        </td>
      </tr><tr>
        <td>
          60
        </td>
        <td>
          3965
        </td>
        <td>
          2732
          -
          2965
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.TraversableOnce.foldLeft
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.`package`.Range.apply(0, ResolutionRange.this.numBitsIncrement).foldLeft[scala.collection.BitSet](parent)(((x0$1: scala.collection.BitSet, x1$1: Int) =&gt; scala.Tuple2.apply[scala.collection.BitSet, Int](x0$1, x1$1) match {
  case (_1: scala.collection.BitSet, _2: Int)(scala.collection.BitSet, Int)((bs @ _), (j @ _)) =&gt; {
    val c: Char = if (j.&lt;(bitString.length()))
      bitString.charAt(j)
    else
      '0';
    if (c.==('1'))
      bs.+(oldPrecision.+(bitString.length()).-(1).-(j))
    else
      bs
  }
}))
        </td>
      </tr><tr>
        <td>
          61
        </td>
        <td>
          3953
        </td>
        <td>
          2820
          -
          2836
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.length
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          bitString.length()
        </td>
      </tr><tr>
        <td>
          61
        </td>
        <td>
          3954
        </td>
        <td>
          2816
          -
          2836
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Int.&lt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          j.&lt;(bitString.length())
        </td>
      </tr><tr>
        <td>
          61
        </td>
        <td>
          3955
        </td>
        <td>
          2838
          -
          2857
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.charAt
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          bitString.charAt(j)
        </td>
      </tr><tr>
        <td>
          61
        </td>
        <td>
          3956
        </td>
        <td>
          2838
          -
          2857
        </td>
        <td>
          Block
        </td>
        <td>
          java.lang.String.charAt
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          bitString.charAt(j)
        </td>
      </tr><tr>
        <td>
          61
        </td>
        <td>
          3957
        </td>
        <td>
          2863
          -
          2866
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          '0'
        </td>
      </tr><tr>
        <td>
          61
        </td>
        <td>
          3958
        </td>
        <td>
          2863
          -
          2866
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          '0'
        </td>
      </tr><tr>
        <td>
          62
        </td>
        <td>
          3959
        </td>
        <td>
          2881
          -
          2889
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Char.==
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          c.==('1')
        </td>
      </tr><tr>
        <td>
          62
        </td>
        <td>
          3960
        </td>
        <td>
          2897
          -
          2936
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Int.-
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          oldPrecision.+(bitString.length()).-(1).-(j)
        </td>
      </tr><tr>
        <td>
          62
        </td>
        <td>
          3961
        </td>
        <td>
          2891
          -
          2937
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.SetLike.+
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          bs.+(oldPrecision.+(bitString.length()).-(1).-(j))
        </td>
      </tr><tr>
        <td>
          62
        </td>
        <td>
          3962
        </td>
        <td>
          2891
          -
          2937
        </td>
        <td>
          Block
        </td>
        <td>
          scala.collection.SetLike.+
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          bs.+(oldPrecision.+(bitString.length()).-(1).-(j))
        </td>
      </tr><tr>
        <td>
          63
        </td>
        <td>
          3963
        </td>
        <td>
          2953
          -
          2955
        </td>
        <td>
          Ident
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.ResolutionRange.bs
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          bs
        </td>
      </tr><tr>
        <td>
          65
        </td>
        <td>
          3967
        </td>
        <td>
          2524
          -
          2980
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.TraversableOnce.toList
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.`package`.Range.apply(0, ResolutionRange.this.getNumChildren).map[scala.collection.BitSet, scala.collection.immutable.IndexedSeq[scala.collection.BitSet]](((i: Int) =&gt; {
  val bitString: String = scala.Predef.intWrapper(i).toBinaryString;
  scala.`package`.Range.apply(0, ResolutionRange.this.numBitsIncrement).foldLeft[scala.collection.BitSet](parent)(((x0$1: scala.collection.BitSet, x1$1: Int) =&gt; scala.Tuple2.apply[scala.collection.BitSet, Int](x0$1, x1$1) match {
    case (_1: scala.collection.BitSet, _2: Int)(scala.collection.BitSet, Int)((bs @ _), (j @ _)) =&gt; {
      val c: Char = if (j.&lt;(bitString.length()))
        bitString.charAt(j)
      else
        '0';
      if (c.==('1'))
        bs.+(oldPrecision.+(bitString.length()).-(1).-(j))
      else
        bs
    }
  }))
}))(immutable.this.IndexedSeq.canBuildFrom[scala.collection.BitSet]).toList
        </td>
      </tr><tr>
        <td>
          70
        </td>
        <td>
          3968
        </td>
        <td>
          3067
          -
          3069
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          45
        </td>
      </tr><tr>
        <td>
          71
        </td>
        <td>
          3969
        </td>
        <td>
          3114
          -
          3116
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          1L
        </td>
      </tr><tr>
        <td>
          71
        </td>
        <td>
          3970
        </td>
        <td>
          3151
          -
          3152
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          1
        </td>
      </tr><tr>
        <td>
          71
        </td>
        <td>
          3971
        </td>
        <td>
          3154
          -
          3155
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          2
        </td>
      </tr><tr>
        <td>
          71
        </td>
        <td>
          3972
        </td>
        <td>
          3120
          -
          3163
        </td>
        <td>
          Select
        </td>
        <td>
          scala.Int.toLong
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          GeohashUtils.this.maxRealisticGeoHashPrecision.+(1)./(2).toLong
        </td>
      </tr><tr>
        <td>
          71
        </td>
        <td>
          3973
        </td>
        <td>
          3114
          -
          3163
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Long.&lt;&lt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          1L.&lt;&lt;(GeohashUtils.this.maxRealisticGeoHashPrecision.+(1)./(2).toLong)
        </td>
      </tr><tr>
        <td>
          72
        </td>
        <td>
          3974
        </td>
        <td>
          3221
          -
          3251
        </td>
        <td>
          Select
        </td>
        <td>
          scala.Long.toDouble
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          GeohashUtils.this.numDistinctGridPoints.toDouble
        </td>
      </tr><tr>
        <td>
          72
        </td>
        <td>
          3975
        </td>
        <td>
          3202
          -
          3252
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.PrecisionModel.&lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          new org.locationtech.jts.geom.PrecisionModel(GeohashUtils.this.numDistinctGridPoints.toDouble)
        </td>
      </tr><tr>
        <td>
          75
        </td>
        <td>
          3976
        </td>
        <td>
          3362
          -
          3383
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.defaultPrecisionModel
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          GeohashUtils.this.defaultPrecisionModel
        </td>
      </tr><tr>
        <td>
          75
        </td>
        <td>
          3977
        </td>
        <td>
          3385
          -
          3389
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          4326
        </td>
      </tr><tr>
        <td>
          75
        </td>
        <td>
          3978
        </td>
        <td>
          3342
          -
          3390
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.GeometryFactory.&lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          new org.locationtech.jts.geom.GeometryFactory(GeohashUtils.this.defaultPrecisionModel, 4326)
        </td>
      </tr><tr>
        <td>
          95
        </td>
        <td>
          3979
        </td>
        <td>
          4439
          -
          4456
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.getCentroid
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          GeohashUtils.this.getCentroid(geom)
        </td>
      </tr><tr>
        <td>
          96
        </td>
        <td>
          3980
        </td>
        <td>
          4505
          -
          4529
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Geometry.getEnvelopeInternal
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          geom.getEnvelopeInternal()
        </td>
      </tr><tr>
        <td>
          96
        </td>
        <td>
          3981
        </td>
        <td>
          4471
          -
          4530
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.GeometryFactory.toGeometry
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          GeohashUtils.this.defaultGeometryFactory.toGeometry(geom.getEnvelopeInternal())
        </td>
      </tr><tr>
        <td>
          99
        </td>
        <td>
          3982
        </td>
        <td>
          4650
          -
          4679
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.ResolutionRange.minBitsResolution
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          resolutions.minBitsResolution
        </td>
      </tr><tr>
        <td>
          99
        </td>
        <td>
          3983
        </td>
        <td>
          4681
          -
          4702
        </td>
        <td>
          TypeApply
        </td>
        <td>
          scala.Option.empty
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Option.empty[org.locationtech.geomesa.utils.geohash.GeoHash]
        </td>
      </tr><tr>
        <td>
          99
        </td>
        <td>
          3984
        </td>
        <td>
          4649
          -
          4703
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Tuple2.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Tuple2.apply[Int, Option[org.locationtech.geomesa.utils.geohash.GeoHash]](resolutions.minBitsResolution, scala.Option.empty[org.locationtech.geomesa.utils.geohash.GeoHash])
        </td>
      </tr><tr>
        <td>
          99
        </td>
        <td>
          3995
        </td>
        <td>
          4621
          -
          4880
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.foldRight
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          resolutions.range.foldRight[(Int, Option[org.locationtech.geomesa.utils.geohash.GeoHash])](scala.Tuple2.apply[Int, Option[org.locationtech.geomesa.utils.geohash.GeoHash]](resolutions.minBitsResolution, scala.Option.empty[org.locationtech.geomesa.utils.geohash.GeoHash]))(((x0$1: Int, x1$1: (Int, Option[org.locationtech.geomesa.utils.geohash.GeoHash])) =&gt; scala.Tuple2.apply[Int, (Int, Option[org.locationtech.geomesa.utils.geohash.GeoHash])](x0$1, x1$1) match {
  case (_1: Int, _2: (Int, Option[org.locationtech.geomesa.utils.geohash.GeoHash]))(Int, (Int, Option[org.locationtech.geomesa.utils.geohash.GeoHash]))((bits @ _), (orig @ (_1: Int, _2: Option[org.locationtech.geomesa.utils.geohash.GeoHash])(Int, Option[org.locationtech.geomesa.utils.geohash.GeoHash])((res @ _), _))) =&gt; {
    val gh: org.locationtech.geomesa.utils.geohash.GeoHash = GeoHash.apply(centroid.getX(), centroid.getY(), bits);
    if (geohash.this.GeoHash.toGeometry(gh).contains(env).&amp;&amp;(bits.&gt;=(res)))
      scala.Tuple2.apply[Int, Some[org.locationtech.geomesa.utils.geohash.GeoHash]](bits, scala.Some.apply[org.locationtech.geomesa.utils.geohash.GeoHash](gh))
    else
      orig
  }
}))
        </td>
      </tr><tr>
        <td>
          99
        </td>
        <td>
          3996
        </td>
        <td>
          4608
          -
          4618
        </td>
        <td>
          Ident
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.ghOpt
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ghOpt
        </td>
      </tr><tr>
        <td>
          100
        </td>
        <td>
          3994
        </td>
        <td>
          4739
          -
          4874
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          {
  val gh: org.locationtech.geomesa.utils.geohash.GeoHash = GeoHash.apply(centroid.getX(), centroid.getY(), bits);
  if (geohash.this.GeoHash.toGeometry(gh).contains(env).&amp;&amp;(bits.&gt;=(res)))
    scala.Tuple2.apply[Int, Some[org.locationtech.geomesa.utils.geohash.GeoHash]](bits, scala.Some.apply[org.locationtech.geomesa.utils.geohash.GeoHash](gh))
  else
    orig
}
        </td>
      </tr><tr>
        <td>
          101
        </td>
        <td>
          3985
        </td>
        <td>
          4767
          -
          4780
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Point.getX
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          centroid.getX()
        </td>
      </tr><tr>
        <td>
          101
        </td>
        <td>
          3986
        </td>
        <td>
          4782
          -
          4795
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Point.getY
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          centroid.getY()
        </td>
      </tr><tr>
        <td>
          101
        </td>
        <td>
          3987
        </td>
        <td>
          4759
          -
          4802
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeoHash.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          GeoHash.apply(centroid.getX(), centroid.getY(), bits)
        </td>
      </tr><tr>
        <td>
          102
        </td>
        <td>
          3988
        </td>
        <td>
          4835
          -
          4846
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Int.&gt;=
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          bits.&gt;=(res)
        </td>
      </tr><tr>
        <td>
          102
        </td>
        <td>
          3989
        </td>
        <td>
          4815
          -
          4846
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Boolean.&amp;&amp;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          geohash.this.GeoHash.toGeometry(gh).contains(env).&amp;&amp;(bits.&gt;=(res))
        </td>
      </tr><tr>
        <td>
          102
        </td>
        <td>
          3990
        </td>
        <td>
          4855
          -
          4863
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Some.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Some.apply[org.locationtech.geomesa.utils.geohash.GeoHash](gh)
        </td>
      </tr><tr>
        <td>
          102
        </td>
        <td>
          3991
        </td>
        <td>
          4848
          -
          4864
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Tuple2.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Tuple2.apply[Int, Some[org.locationtech.geomesa.utils.geohash.GeoHash]](bits, scala.Some.apply[org.locationtech.geomesa.utils.geohash.GeoHash](gh))
        </td>
      </tr><tr>
        <td>
          102
        </td>
        <td>
          3992
        </td>
        <td>
          4848
          -
          4864
        </td>
        <td>
          Block
        </td>
        <td>
          scala.Tuple2.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Tuple2.apply[Int, Some[org.locationtech.geomesa.utils.geohash.GeoHash]](bits, scala.Some.apply[org.locationtech.geomesa.utils.geohash.GeoHash](gh))
        </td>
      </tr><tr>
        <td>
          102
        </td>
        <td>
          3993
        </td>
        <td>
          4870
          -
          4874
        </td>
        <td>
          Ident
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.orig
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          orig
        </td>
      </tr><tr>
        <td>
          106
        </td>
        <td>
          3997
        </td>
        <td>
          4966
          -
          4979
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Point.getX
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          centroid.getX()
        </td>
      </tr><tr>
        <td>
          106
        </td>
        <td>
          3998
        </td>
        <td>
          4981
          -
          4994
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Point.getY
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          centroid.getY()
        </td>
      </tr><tr>
        <td>
          106
        </td>
        <td>
          3999
        </td>
        <td>
          4996
          -
          5025
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.ResolutionRange.minBitsResolution
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          resolutions.minBitsResolution
        </td>
      </tr><tr>
        <td>
          106
        </td>
        <td>
          4000
        </td>
        <td>
          4958
          -
          5026
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeoHash.apply
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          GeoHash.apply(centroid.getX(), centroid.getY(), resolutions.minBitsResolution)
        </td>
      </tr><tr>
        <td>
          106
        </td>
        <td>
          4001
        </td>
        <td>
          4942
          -
          5027
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Option.getOrElse
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ghOpt.getOrElse[org.locationtech.geomesa.utils.geohash.GeoHash](GeoHash.apply(centroid.getX(), centroid.getY(), resolutions.minBitsResolution))
        </td>
      </tr><tr>
        <td>
          107
        </td>
        <td>
          4002
        </td>
        <td>
          5057
          -
          5077
        </td>
        <td>
          Select
        </td>
        <td>
          scala.Boolean.unary_!
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          gh.geom.equals(env).unary_!
        </td>
      </tr><tr>
        <td>
          107
        </td>
        <td>
          4003
        </td>
        <td>
          5036
          -
          5077
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Boolean.&amp;&amp;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          geohash.this.GeoHash.toGeometry(gh).contains(env).unary_!.&amp;&amp;(gh.geom.equals(env).unary_!)
        </td>
      </tr><tr>
        <td>
          107
        </td>
        <td>
          4006
        </td>
        <td>
          5032
          -
          5032
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ()
        </td>
      </tr><tr>
        <td>
          107
        </td>
        <td>
          4007
        </td>
        <td>
          5032
          -
          5032
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          ()
        </td>
      </tr><tr>
        <td>
          108
        </td>
        <td>
          4004
        </td>
        <td>
          5085
          -
          5237
        </td>
        <td>
          Throw
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          throw new scala.`package`.Exception(&quot;ERROR:  Could not find a suitable &quot;.+(resolutions.minBitsResolution).+(&quot;-bit MBR for the target geometry:  &quot;).+(geom))
        </td>
      </tr><tr>
        <td>
          108
        </td>
        <td>
          4005
        </td>
        <td>
          5085
          -
          5237
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          throw new scala.`package`.Exception(&quot;ERROR:  Could not find a suitable &quot;.+(resolutions.minBitsResolution).+(&quot;-bit MBR for the target geometry:  &quot;).+(geom))
        </td>
      </tr><tr>
        <td>
          122
        </td>
        <td>
          4008
        </td>
        <td>
          5511
          -
          5530
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geotools.Conversions.RichGeometry.safeCentroid
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.geomesa.utils.geotools.Conversions.RichGeometry(geom).safeCentroid()
        </td>
      </tr><tr>
        <td>
          123
        </td>
        <td>
          4009
        </td>
        <td>
          5578
          -
          5585
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Point.getX
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          pt.getX()
        </td>
      </tr><tr>
        <td>
          123
        </td>
        <td>
          4010
        </td>
        <td>
          5587
          -
          5594
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Point.getY
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          pt.getY()
        </td>
      </tr><tr>
        <td>
          123
        </td>
        <td>
          4011
        </td>
        <td>
          5563
          -
          5595
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Coordinate.&lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          new org.locationtech.jts.geom.Coordinate(pt.getX(), pt.getY())
        </td>
      </tr><tr>
        <td>
          123
        </td>
        <td>
          4012
        </td>
        <td>
          5535
          -
          5596
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.GeometryFactory.createPoint
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          geom.getFactory().createPoint(new org.locationtech.jts.geom.Coordinate(pt.getX(), pt.getY()))
        </td>
      </tr><tr>
        <td>
          144
        </td>
        <td>
          4013
        </td>
        <td>
          6462
          -
          6478
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate.areaOutside
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          than.areaOutside
        </td>
      </tr><tr>
        <td>
          144
        </td>
        <td>
          4014
        </td>
        <td>
          6448
          -
          6478
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Double.&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          DecompositionCandidate.this.areaOutside.&gt;(than.areaOutside)
        </td>
      </tr><tr>
        <td>
          144
        </td>
        <td>
          4015
        </td>
        <td>
          6480
          -
          6484
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          true
        </td>
      </tr><tr>
        <td>
          144
        </td>
        <td>
          4016
        </td>
        <td>
          6480
          -
          6484
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          true
        </td>
      </tr><tr>
        <td>
          146
        </td>
        <td>
          4017
        </td>
        <td>
          6525
          -
          6541
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate.areaOutside
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          than.areaOutside
        </td>
      </tr><tr>
        <td>
          146
        </td>
        <td>
          4018
        </td>
        <td>
          6510
          -
          6541
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Double.==
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          DecompositionCandidate.this.areaOutside.==(than.areaOutside)
        </td>
      </tr><tr>
        <td>
          146
        </td>
        <td>
          4019
        </td>
        <td>
          6543
          -
          6559
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Double.&lt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          DecompositionCandidate.this.area.&lt;(than.area)
        </td>
      </tr><tr>
        <td>
          146
        </td>
        <td>
          4020
        </td>
        <td>
          6543
          -
          6559
        </td>
        <td>
          Block
        </td>
        <td>
          scala.Double.&lt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          DecompositionCandidate.this.area.&lt;(than.area)
        </td>
      </tr><tr>
        <td>
          146
        </td>
        <td>
          4023
        </td>
        <td>
          6506
          -
          6578
        </td>
        <td>
          If
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          if (DecompositionCandidate.this.areaOutside.==(than.areaOutside))
  DecompositionCandidate.this.area.&lt;(than.area)
else
  false
        </td>
      </tr><tr>
        <td>
          147
        </td>
        <td>
          4021
        </td>
        <td>
          6573
          -
          6578
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          false
        </td>
      </tr><tr>
        <td>
          147
        </td>
        <td>
          4022
        </td>
        <td>
          6573
          -
          6578
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          false
        </td>
      </tr><tr>
        <td>
          194
        </td>
        <td>
          4024
        </td>
        <td>
          8547
          -
          8556
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate.isLT
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          a.isLT(b)
        </td>
      </tr><tr>
        <td>
          221
        </td>
        <td>
          4025
        </td>
        <td>
          9899
          -
          9947
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.PolygonDecompositionCandidate.&lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          new GeohashUtils.this.PolygonDecompositionCandidate(gh, multipoly)
        </td>
      </tr><tr>
        <td>
          221
        </td>
        <td>
          4026
        </td>
        <td>
          9899
          -
          9947
        </td>
        <td>
          Block
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.PolygonDecompositionCandidate.&lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          new GeohashUtils.this.PolygonDecompositionCandidate(gh, multipoly)
        </td>
      </tr><tr>
        <td>
          223
        </td>
        <td>
          4030
        </td>
        <td>
          10001
          -
          10105
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.PolygonDecompositionCandidate.&lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          new GeohashUtils.this.PolygonDecompositionCandidate(gh, new org.locationtech.jts.geom.MultiPolygon(scala.Array.apply[org.locationtech.jts.geom.Polygon](polygon)((ClassTag.apply[org.locationtech.jts.geom.Polygon](classOf[org.locationtech.jts.geom.Polygon]): scala.reflect.ClassTag[org.locationtech.jts.geom.Polygon])), polygon.getFactory()))
        </td>
      </tr><tr>
        <td>
          223
        </td>
        <td>
          4031
        </td>
        <td>
          10001
          -
          10105
        </td>
        <td>
          Block
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.PolygonDecompositionCandidate.&lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          new GeohashUtils.this.PolygonDecompositionCandidate(gh, new org.locationtech.jts.geom.MultiPolygon(scala.Array.apply[org.locationtech.jts.geom.Polygon](polygon)((ClassTag.apply[org.locationtech.jts.geom.Polygon](classOf[org.locationtech.jts.geom.Polygon]): scala.reflect.ClassTag[org.locationtech.jts.geom.Polygon])), polygon.getFactory()))
        </td>
      </tr><tr>
        <td>
          224
        </td>
        <td>
          4027
        </td>
        <td>
          10069
          -
          10083
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.Array.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Array.apply[org.locationtech.jts.geom.Polygon](polygon)((ClassTag.apply[org.locationtech.jts.geom.Polygon](classOf[org.locationtech.jts.geom.Polygon]): scala.reflect.ClassTag[org.locationtech.jts.geom.Polygon]))
        </td>
      </tr><tr>
        <td>
          224
        </td>
        <td>
          4028
        </td>
        <td>
          10085
          -
          10103
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Geometry.getFactory
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          polygon.getFactory()
        </td>
      </tr><tr>
        <td>
          224
        </td>
        <td>
          4029
        </td>
        <td>
          10052
          -
          10104
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.MultiPolygon.&lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          new org.locationtech.jts.geom.MultiPolygon(scala.Array.apply[org.locationtech.jts.geom.Polygon](polygon)((ClassTag.apply[org.locationtech.jts.geom.Polygon](classOf[org.locationtech.jts.geom.Polygon]): scala.reflect.ClassTag[org.locationtech.jts.geom.Polygon])), polygon.getFactory())
        </td>
      </tr><tr>
        <td>
          226
        </td>
        <td>
          4035
        </td>
        <td>
          10159
          -
          10321
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.LineDecompositionCandidate.&lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          new GeohashUtils.this.LineDecompositionCandidate(gh, new org.locationtech.jts.geom.MultiLineString(scala.Array.apply[org.locationtech.jts.geom.LineString](line)((ClassTag.apply[org.locationtech.jts.geom.LineString](classOf[org.locationtech.jts.geom.LineString]): scala.reflect.ClassTag[org.locationtech.jts.geom.LineString])), line.getFactory()), targetLength)
        </td>
      </tr><tr>
        <td>
          226
        </td>
        <td>
          4036
        </td>
        <td>
          10159
          -
          10321
        </td>
        <td>
          Block
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.LineDecompositionCandidate.&lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          new GeohashUtils.this.LineDecompositionCandidate(gh, new org.locationtech.jts.geom.MultiLineString(scala.Array.apply[org.locationtech.jts.geom.LineString](line)((ClassTag.apply[org.locationtech.jts.geom.LineString](classOf[org.locationtech.jts.geom.LineString]): scala.reflect.ClassTag[org.locationtech.jts.geom.LineString])), line.getFactory()), targetLength)
        </td>
      </tr><tr>
        <td>
          227
        </td>
        <td>
          4032
        </td>
        <td>
          10277
          -
          10288
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.Array.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Array.apply[org.locationtech.jts.geom.LineString](line)((ClassTag.apply[org.locationtech.jts.geom.LineString](classOf[org.locationtech.jts.geom.LineString]): scala.reflect.ClassTag[org.locationtech.jts.geom.LineString]))
        </td>
      </tr><tr>
        <td>
          227
        </td>
        <td>
          4033
        </td>
        <td>
          10290
          -
          10305
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Geometry.getFactory
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          line.getFactory()
        </td>
      </tr><tr>
        <td>
          227
        </td>
        <td>
          4034
        </td>
        <td>
          10257
          -
          10306
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.MultiLineString.&lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          new org.locationtech.jts.geom.MultiLineString(scala.Array.apply[org.locationtech.jts.geom.LineString](line)((ClassTag.apply[org.locationtech.jts.geom.LineString](classOf[org.locationtech.jts.geom.LineString]): scala.reflect.ClassTag[org.locationtech.jts.geom.LineString])), line.getFactory())
        </td>
      </tr><tr>
        <td>
          229
        </td>
        <td>
          4037
        </td>
        <td>
          10375
          -
          10434
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.LineDecompositionCandidate.&lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          new GeohashUtils.this.LineDecompositionCandidate(gh, multiLine, targetLength)
        </td>
      </tr><tr>
        <td>
          229
        </td>
        <td>
          4038
        </td>
        <td>
          10375
          -
          10434
        </td>
        <td>
          Block
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.LineDecompositionCandidate.&lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          new GeohashUtils.this.LineDecompositionCandidate(gh, multiLine, targetLength)
        </td>
      </tr><tr>
        <td>
          231
        </td>
        <td>
          4039
        </td>
        <td>
          10488
          -
          10530
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.PointDecompositionCandidate.&lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          new GeohashUtils.this.PointDecompositionCandidate(gh, point)
        </td>
      </tr><tr>
        <td>
          231
        </td>
        <td>
          4040
        </td>
        <td>
          10488
          -
          10530
        </td>
        <td>
          Block
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.PointDecompositionCandidate.&lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          new GeohashUtils.this.PointDecompositionCandidate(gh, point)
        </td>
      </tr><tr>
        <td>
          233
        </td>
        <td>
          4041
        </td>
        <td>
          10625
          -
          10725
        </td>
        <td>
          Throw
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          throw new scala.`package`.Exception(scala.StringContext.apply(&quot;Unsupported Geometry type for decomposition:  &quot;, &quot;&quot;).s(targetGeom.getClass().getName()))
        </td>
      </tr><tr>
        <td>
          233
        </td>
        <td>
          4042
        </td>
        <td>
          10625
          -
          10725
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          throw new scala.`package`.Exception(scala.StringContext.apply(&quot;Unsupported Geometry type for decomposition:  &quot;, &quot;&quot;).s(targetGeom.getClass().getName()))
        </td>
      </tr><tr>
        <td>
          241
        </td>
        <td>
          4043
        </td>
        <td>
          10954
          -
          10979
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Int.&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          candidates.size.&gt;(maxSize)
        </td>
      </tr><tr>
        <td>
          241
        </td>
        <td>
          4044
        </td>
        <td>
          10981
          -
          11035
        </td>
        <td>
          Throw
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          throw new scala.`package`.Exception(&quot;Too many candidates upon entry.&quot;)
        </td>
      </tr><tr>
        <td>
          241
        </td>
        <td>
          4045
        </td>
        <td>
          10981
          -
          11035
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          throw new scala.`package`.Exception(&quot;Too many candidates upon entry.&quot;)
        </td>
      </tr><tr>
        <td>
          242
        </td>
        <td>
          4064
        </td>
        <td>
          11047
          -
          12229
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          {
  val candidate: org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate = candidates.head;
  val childResolution: Int = candidate.gh.prec.+(resolutions.numBitsIncrement);
  val candidateBitSet: scala.collection.BitSet = candidate.gh.bitset;
  val children: List[org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate] = resolutions.getNextChildren(candidateBitSet, candidate.gh.prec).map[org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate, List[org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate]](((childBitSet: scala.collection.BitSet) =&gt; createDecompositionCandidate(GeoHash.apply(childBitSet, childResolution))))(immutable.this.List.canBuildFrom[org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate]).filter(((child: org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate) =&gt; child.intersectsTarget));
  val newCandidates: List[org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate] = candidates.tail.++[org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate, List[org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate]](children)(immutable.this.List.canBuildFrom[org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate]).sortWith({
    ((a: org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate, b: org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate) =&gt; GeohashUtils.this.decompositionCandidateSorter(a, b))
  });
  if (newCandidates.size.&lt;=(maxSize).&amp;&amp;(childResolution.&lt;=(resolutions.maxBitsResolution)))
    decomposeStep(newCandidates)
  else
    candidates
}
        </td>
      </tr><tr>
        <td>
          246
        </td>
        <td>
          4046
        </td>
        <td>
          11349
          -
          11364
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.IterableLike.head
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          candidates.head
        </td>
      </tr><tr>
        <td>
          247
        </td>
        <td>
          4047
        </td>
        <td>
          11419
          -
          11447
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.ResolutionRange.numBitsIncrement
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          resolutions.numBitsIncrement
        </td>
      </tr><tr>
        <td>
          247
        </td>
        <td>
          4048
        </td>
        <td>
          11401
          -
          11447
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Int.+
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          candidate.gh.prec.+(resolutions.numBitsIncrement)
        </td>
      </tr><tr>
        <td>
          250
        </td>
        <td>
          4049
        </td>
        <td>
          11555
          -
          11574
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeoHash.bitset
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          candidate.gh.bitset
        </td>
      </tr><tr>
        <td>
          251
        </td>
        <td>
          4050
        </td>
        <td>
          11672
          -
          11689
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeoHash.prec
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          candidate.gh.prec
        </td>
      </tr><tr>
        <td>
          251
        </td>
        <td>
          4053
        </td>
        <td>
          11694
          -
          11694
        </td>
        <td>
          TypeApply
        </td>
        <td>
          scala.collection.immutable.List.canBuildFrom
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          immutable.this.List.canBuildFrom[org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate]
        </td>
      </tr><tr>
        <td>
          252
        </td>
        <td>
          4051
        </td>
        <td>
          11751
          -
          11788
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeoHash.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          GeoHash.apply(childBitSet, childResolution)
        </td>
      </tr><tr>
        <td>
          252
        </td>
        <td>
          4052
        </td>
        <td>
          11722
          -
          11789
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.createDecompositionCandidate
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          createDecompositionCandidate(GeoHash.apply(childBitSet, childResolution))
        </td>
      </tr><tr>
        <td>
          253
        </td>
        <td>
          4054
        </td>
        <td>
          11627
          -
          11840
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.TraversableLike.filter
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          resolutions.getNextChildren(candidateBitSet, candidate.gh.prec).map[org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate, List[org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate]](((childBitSet: scala.collection.BitSet) =&gt; createDecompositionCandidate(GeoHash.apply(childBitSet, childResolution))))(immutable.this.List.canBuildFrom[org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate]).filter(((child: org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate) =&gt; child.intersectsTarget))
        </td>
      </tr><tr>
        <td>
          256
        </td>
        <td>
          4055
        </td>
        <td>
          11968
          -
          11968
        </td>
        <td>
          TypeApply
        </td>
        <td>
          scala.collection.immutable.List.canBuildFrom
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          immutable.this.List.canBuildFrom[org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate]
        </td>
      </tr><tr>
        <td>
          256
        </td>
        <td>
          4056
        </td>
        <td>
          11990
          -
          12018
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.decompositionCandidateSorter
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          GeohashUtils.this.decompositionCandidateSorter(a, b)
        </td>
      </tr><tr>
        <td>
          256
        </td>
        <td>
          4057
        </td>
        <td>
          11951
          -
          12019
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.SeqLike.sortWith
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          candidates.tail.++[org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate, List[org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate]](children)(immutable.this.List.canBuildFrom[org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate]).sortWith({
  ((a: org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate, b: org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate) =&gt; GeohashUtils.this.decompositionCandidateSorter(a, b))
})
        </td>
      </tr><tr>
        <td>
          259
        </td>
        <td>
          4058
        </td>
        <td>
          12123
          -
          12152
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.ResolutionRange.maxBitsResolution
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          resolutions.maxBitsResolution
        </td>
      </tr><tr>
        <td>
          259
        </td>
        <td>
          4059
        </td>
        <td>
          12104
          -
          12152
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Int.&lt;=
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          childResolution.&lt;=(resolutions.maxBitsResolution)
        </td>
      </tr><tr>
        <td>
          259
        </td>
        <td>
          4060
        </td>
        <td>
          12068
          -
          12153
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Boolean.&amp;&amp;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          newCandidates.size.&lt;=(maxSize).&amp;&amp;(childResolution.&lt;=(resolutions.maxBitsResolution))
        </td>
      </tr><tr>
        <td>
          260
        </td>
        <td>
          4061
        </td>
        <td>
          12167
          -
          12195
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.decomposeStep
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          decomposeStep(newCandidates)
        </td>
      </tr><tr>
        <td>
          260
        </td>
        <td>
          4062
        </td>
        <td>
          12167
          -
          12195
        </td>
        <td>
          Block
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.decomposeStep
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          decomposeStep(newCandidates)
        </td>
      </tr><tr>
        <td>
          261
        </td>
        <td>
          4063
        </td>
        <td>
          12211
          -
          12221
        </td>
        <td>
          Ident
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.candidates
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          candidates
        </td>
      </tr><tr>
        <td>
          266
        </td>
        <td>
          4065
        </td>
        <td>
          12323
          -
          12373
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.getMinimumBoundingGeohash
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          GeohashUtils.this.getMinimumBoundingGeohash(targetGeom, resolutions)
        </td>
      </tr><tr>
        <td>
          267
        </td>
        <td>
          4066
        </td>
        <td>
          12397
          -
          12432
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.createDecompositionCandidate
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          createDecompositionCandidate(ghMBR)
        </td>
      </tr><tr>
        <td>
          270
        </td>
        <td>
          4067
        </td>
        <td>
          12540
          -
          12558
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.immutable.List.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.collection.immutable.List.apply[org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate](candidateMBR)
        </td>
      </tr><tr>
        <td>
          270
        </td>
        <td>
          4068
        </td>
        <td>
          12526
          -
          12559
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.decomposeStep
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          decomposeStep(scala.collection.immutable.List.apply[org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate](candidateMBR))
        </td>
      </tr><tr>
        <td>
          273
        </td>
        <td>
          4069
        </td>
        <td>
          12650
          -
          12659
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate.gh
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          keeper.gh
        </td>
      </tr><tr>
        <td>
          273
        </td>
        <td>
          4070
        </td>
        <td>
          12632
          -
          12632
        </td>
        <td>
          TypeApply
        </td>
        <td>
          scala.collection.immutable.List.canBuildFrom
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          immutable.this.List.canBuildFrom[org.locationtech.geomesa.utils.geohash.GeoHash]
        </td>
      </tr><tr>
        <td>
          273
        </td>
        <td>
          4071
        </td>
        <td>
          12596
          -
          12667
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.immutable.List.toList
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          keepers.withFilter(((check$ifrefutable$1: org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate) =&gt; (check$ifrefutable$1: org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate @unchecked) match {
  case (keeper @ (_: org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate)) =&gt; true
  case _ =&gt; false
})).map[org.locationtech.geomesa.utils.geohash.GeoHash, List[org.locationtech.geomesa.utils.geohash.GeoHash]](((keeper: org.locationtech.geomesa.utils.geohash.GeohashUtils.DecompositionCandidate) =&gt; keeper.gh))(immutable.this.List.canBuildFrom[org.locationtech.geomesa.utils.geohash.GeoHash]).toList
        </td>
      </tr><tr>
        <td>
          277
        </td>
        <td>
          4072
        </td>
        <td>
          12828
          -
          12838
        </td>
        <td>
          Ident
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.targetGeom
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          targetGeom
        </td>
      </tr><tr>
        <td>
          278
        </td>
        <td>
          4073
        </td>
        <td>
          12903
          -
          12913
        </td>
        <td>
          Ident
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.targetGeom
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          targetGeom
        </td>
      </tr><tr>
        <td>
          279
        </td>
        <td>
          4074
        </td>
        <td>
          12945
          -
          12974
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Int.&lt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          targetGeom.getNumPoints().&lt;(100)
        </td>
      </tr><tr>
        <td>
          279
        </td>
        <td>
          4075
        </td>
        <td>
          12978
          -
          12988
        </td>
        <td>
          Ident
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.targetGeom
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          targetGeom
        </td>
      </tr><tr>
        <td>
          280
        </td>
        <td>
          4076
        </td>
        <td>
          13020
          -
          13049
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Int.&lt;
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          targetGeom.getNumPoints().&lt;(100)
        </td>
      </tr><tr>
        <td>
          280
        </td>
        <td>
          4077
        </td>
        <td>
          13053
          -
          13063
        </td>
        <td>
          Ident
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.targetGeom
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          targetGeom
        </td>
      </tr><tr>
        <td>
          281
        </td>
        <td>
          4078
        </td>
        <td>
          13128
          -
          13149
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Geometry.convexHull
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          targetGeom.convexHull()
        </td>
      </tr><tr>
        <td>
          281
        </td>
        <td>
          4079
        </td>
        <td>
          13128
          -
          13149
        </td>
        <td>
          Block
        </td>
        <td>
          org.locationtech.jts.geom.Geometry.convexHull
        </td>
        <td>
          
        </td>
        <td style="background: #F0ADAD">
          targetGeom.convexHull()
        </td>
      </tr><tr>
        <td>
          296
        </td>
        <td>
          4080
        </td>
        <td>
          13967
          -
          13986
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Double./
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          lon.+(180)./(360.0)
        </td>
      </tr><tr>
        <td>
          296
        </td>
        <td>
          4081
        </td>
        <td>
          13996
          -
          14000
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          -360
        </td>
      </tr><tr>
        <td>
          296
        </td>
        <td>
          4082
        </td>
        <td>
          13965
          -
          14007
        </td>
        <td>
          Select
        </td>
        <td>
          scala.Int.toDouble
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Predef.doubleWrapper(lon.+(180)./(360.0)).floor.*(-360).toInt.toDouble
        </td>
      </tr><tr>
        <td>
          299
        </td>
        <td>
          4083
        </td>
        <td>
          14120
          -
          14127
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.jts.geom.Coordinate.x
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          coord.x
        </td>
      </tr><tr>
        <td>
          299
        </td>
        <td>
          4084
        </td>
        <td>
          14098
          -
          14128
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.degreesLonTranslation
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          degreesLonTranslation(coord.x)
        </td>
      </tr><tr>
        <td>
          299
        </td>
        <td>
          4085
        </td>
        <td>
          14088
          -
          14128
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Double.+
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          coord.x.+(degreesLonTranslation(coord.x))
        </td>
      </tr><tr>
        <td>
          299
        </td>
        <td>
          4086
        </td>
        <td>
          14130
          -
          14137
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.jts.geom.Coordinate.y
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          coord.y
        </td>
      </tr><tr>
        <td>
          299
        </td>
        <td>
          4087
        </td>
        <td>
          14073
          -
          14138
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Coordinate.&lt;init&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          new org.locationtech.jts.geom.Coordinate(coord.x.+(degreesLonTranslation(coord.x)), coord.y)
        </td>
      </tr><tr>
        <td>
          303
        </td>
        <td>
          4088
        </td>
        <td>
          14246
          -
          14269
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Geometry.getCoordinates
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          geometry.getCoordinates()
        </td>
      </tr><tr>
        <td>
          303
        </td>
        <td>
          4089
        </td>
        <td>
          14279
          -
          14296
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.translateCoord
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          translateCoord(c)
        </td>
      </tr><tr>
        <td>
          303
        </td>
        <td>
          4090
        </td>
        <td>
          14273
          -
          14273
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.Array.canBuildFrom
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.this.Array.canBuildFrom[org.locationtech.jts.geom.Coordinate]((ClassTag.apply[org.locationtech.jts.geom.Coordinate](classOf[org.locationtech.jts.geom.Coordinate]): scala.reflect.ClassTag[org.locationtech.jts.geom.Coordinate]))
        </td>
      </tr><tr>
        <td>
          303
        </td>
        <td>
          4091
        </td>
        <td>
          14246
          -
          14297
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.collection.TraversableLike.map
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Predef.refArrayOps[org.locationtech.jts.geom.Coordinate](geometry.getCoordinates()).map[org.locationtech.jts.geom.Coordinate, Array[org.locationtech.jts.geom.Coordinate]](((c: org.locationtech.jts.geom.Coordinate) =&gt; translateCoord(c)))(scala.this.Array.canBuildFrom[org.locationtech.jts.geom.Coordinate]((ClassTag.apply[org.locationtech.jts.geom.Coordinate](classOf[org.locationtech.jts.geom.Coordinate]): scala.reflect.ClassTag[org.locationtech.jts.geom.Coordinate])))
        </td>
      </tr><tr>
        <td>
          303
        </td>
        <td>
          4092
        </td>
        <td>
          14209
          -
          14298
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.GeometryFactory.createPolygon
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          GeohashUtils.this.defaultGeometryFactory.createPolygon(scala.Predef.refArrayOps[org.locationtech.jts.geom.Coordinate](geometry.getCoordinates()).map[org.locationtech.jts.geom.Coordinate, Array[org.locationtech.jts.geom.Coordinate]](((c: org.locationtech.jts.geom.Coordinate) =&gt; translateCoord(c)))(scala.this.Array.canBuildFrom[org.locationtech.jts.geom.Coordinate]((ClassTag.apply[org.locationtech.jts.geom.Coordinate](classOf[org.locationtech.jts.geom.Coordinate]): scala.reflect.ClassTag[org.locationtech.jts.geom.Coordinate]))))
        </td>
      </tr><tr>
        <td>
          306
        </td>
        <td>
          4093
        </td>
        <td>
          14406
          -
          14429
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Geometry.getCoordinates
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          geometry.getCoordinates()
        </td>
      </tr><tr>
        <td>
          306
        </td>
        <td>
          4094
        </td>
        <td>
          14439
          -
          14456
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.translateCoord
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          translateCoord(c)
        </td>
      </tr><tr>
        <td>
          306
        </td>
        <td>
          4095
        </td>
        <td>
          14433
          -
          14433
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.Array.canBuildFrom
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.this.Array.canBuildFrom[org.locationtech.jts.geom.Coordinate]((ClassTag.apply[org.locationtech.jts.geom.Coordinate](classOf[org.locationtech.jts.geom.Coordinate]): scala.reflect.ClassTag[org.locationtech.jts.geom.Coordinate]))
        </td>
      </tr><tr>
        <td>
          306
        </td>
        <td>
          4096
        </td>
        <td>
          14406
          -
          14457
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.collection.TraversableLike.map
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Predef.refArrayOps[org.locationtech.jts.geom.Coordinate](geometry.getCoordinates()).map[org.locationtech.jts.geom.Coordinate, Array[org.locationtech.jts.geom.Coordinate]](((c: org.locationtech.jts.geom.Coordinate) =&gt; translateCoord(c)))(scala.this.Array.canBuildFrom[org.locationtech.jts.geom.Coordinate]((ClassTag.apply[org.locationtech.jts.geom.Coordinate](classOf[org.locationtech.jts.geom.Coordinate]): scala.reflect.ClassTag[org.locationtech.jts.geom.Coordinate])))
        </td>
      </tr><tr>
        <td>
          306
        </td>
        <td>
          4097
        </td>
        <td>
          14366
          -
          14458
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.GeometryFactory.createLineString
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          GeohashUtils.this.defaultGeometryFactory.createLineString(scala.Predef.refArrayOps[org.locationtech.jts.geom.Coordinate](geometry.getCoordinates()).map[org.locationtech.jts.geom.Coordinate, Array[org.locationtech.jts.geom.Coordinate]](((c: org.locationtech.jts.geom.Coordinate) =&gt; translateCoord(c)))(scala.this.Array.canBuildFrom[org.locationtech.jts.geom.Coordinate]((ClassTag.apply[org.locationtech.jts.geom.Coordinate](classOf[org.locationtech.jts.geom.Coordinate]): scala.reflect.ClassTag[org.locationtech.jts.geom.Coordinate]))))
        </td>
      </tr><tr>
        <td>
          309
        </td>
        <td>
          4098
        </td>
        <td>
          14559
          -
          14584
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Geometry.getNumGeometries
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          geometry.getNumGeometries()
        </td>
      </tr><tr>
        <td>
          309
        </td>
        <td>
          4099
        </td>
        <td>
          14586
          -
          14607
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Geometry.getGeometryN
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          geometry.getGeometryN(x$1)
        </td>
      </tr><tr>
        <td>
          309
        </td>
        <td>
          4100
        </td>
        <td>
          14546
          -
          14608
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.generic.GenTraversableFactory.tabulate
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.collection.Seq.tabulate[org.locationtech.jts.geom.Geometry](geometry.getNumGeometries())({
  ((x$1: Int) =&gt; geometry.getGeometryN(x$1))
})
        </td>
      </tr><tr>
        <td>
          310
        </td>
        <td>
          4101
        </td>
        <td>
          14650
          -
          14697
        </td>
        <td>
          TypeApply
        </td>
        <td>
          scala.Any.asInstanceOf
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          translateLineString(c).asInstanceOf[org.locationtech.jts.geom.LineString]
        </td>
      </tr><tr>
        <td>
          310
        </td>
        <td>
          4102
        </td>
        <td>
          14643
          -
          14643
        </td>
        <td>
          TypeApply
        </td>
        <td>
          scala.collection.Seq.canBuildFrom
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          collection.this.Seq.canBuildFrom[org.locationtech.jts.geom.LineString]
        </td>
      </tr><tr>
        <td>
          310
        </td>
        <td>
          4103
        </td>
        <td>
          14632
          -
          14699
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.collection.TraversableLike.map
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          coords.map[org.locationtech.jts.geom.LineString, Seq[org.locationtech.jts.geom.LineString]](((c: org.locationtech.jts.geom.Geometry) =&gt; translateLineString(c).asInstanceOf[org.locationtech.jts.geom.LineString]))(collection.this.Seq.canBuildFrom[org.locationtech.jts.geom.LineString])
        </td>
      </tr><tr>
        <td>
          311
        </td>
        <td>
          4104
        </td>
        <td>
          14751
          -
          14769
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.collection.TraversableOnce.toArray
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          translated.toArray[org.locationtech.jts.geom.LineString]((ClassTag.apply[org.locationtech.jts.geom.LineString](classOf[org.locationtech.jts.geom.LineString]): scala.reflect.ClassTag[org.locationtech.jts.geom.LineString]))
        </td>
      </tr><tr>
        <td>
          311
        </td>
        <td>
          4105
        </td>
        <td>
          14706
          -
          14770
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.GeometryFactory.createMultiLineString
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          GeohashUtils.this.defaultGeometryFactory.createMultiLineString(translated.toArray[org.locationtech.jts.geom.LineString]((ClassTag.apply[org.locationtech.jts.geom.LineString](classOf[org.locationtech.jts.geom.LineString]): scala.reflect.ClassTag[org.locationtech.jts.geom.LineString])))
        </td>
      </tr><tr>
        <td>
          315
        </td>
        <td>
          4106
        </td>
        <td>
          14874
          -
          14899
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Geometry.getNumGeometries
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          geometry.getNumGeometries()
        </td>
      </tr><tr>
        <td>
          315
        </td>
        <td>
          4107
        </td>
        <td>
          14901
          -
          14922
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Geometry.getGeometryN
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          geometry.getGeometryN(x$1)
        </td>
      </tr><tr>
        <td>
          315
        </td>
        <td>
          4108
        </td>
        <td>
          14861
          -
          14923
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.generic.GenTraversableFactory.tabulate
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.collection.Seq.tabulate[org.locationtech.jts.geom.Geometry](geometry.getNumGeometries())({
  ((x$1: Int) =&gt; geometry.getGeometryN(x$1))
})
        </td>
      </tr><tr>
        <td>
          316
        </td>
        <td>
          4109
        </td>
        <td>
          14965
          -
          15006
        </td>
        <td>
          TypeApply
        </td>
        <td>
          scala.Any.asInstanceOf
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          translatePolygon(c).asInstanceOf[org.locationtech.jts.geom.Polygon]
        </td>
      </tr><tr>
        <td>
          316
        </td>
        <td>
          4110
        </td>
        <td>
          14958
          -
          14958
        </td>
        <td>
          TypeApply
        </td>
        <td>
          scala.collection.Seq.canBuildFrom
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          collection.this.Seq.canBuildFrom[org.locationtech.jts.geom.Polygon]
        </td>
      </tr><tr>
        <td>
          316
        </td>
        <td>
          4111
        </td>
        <td>
          14947
          -
          15008
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.collection.TraversableLike.map
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          coords.map[org.locationtech.jts.geom.Polygon, Seq[org.locationtech.jts.geom.Polygon]](((c: org.locationtech.jts.geom.Geometry) =&gt; translatePolygon(c).asInstanceOf[org.locationtech.jts.geom.Polygon]))(collection.this.Seq.canBuildFrom[org.locationtech.jts.geom.Polygon])
        </td>
      </tr><tr>
        <td>
          317
        </td>
        <td>
          4112
        </td>
        <td>
          15057
          -
          15075
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.collection.TraversableOnce.toArray
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          translated.toArray[org.locationtech.jts.geom.Polygon]((ClassTag.apply[org.locationtech.jts.geom.Polygon](classOf[org.locationtech.jts.geom.Polygon]): scala.reflect.ClassTag[org.locationtech.jts.geom.Polygon]))
        </td>
      </tr><tr>
        <td>
          317
        </td>
        <td>
          4113
        </td>
        <td>
          15015
          -
          15076
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.GeometryFactory.createMultiPolygon
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          GeohashUtils.this.defaultGeometryFactory.createMultiPolygon(translated.toArray[org.locationtech.jts.geom.Polygon]((ClassTag.apply[org.locationtech.jts.geom.Polygon](classOf[org.locationtech.jts.geom.Polygon]): scala.reflect.ClassTag[org.locationtech.jts.geom.Polygon])))
        </td>
      </tr><tr>
        <td>
          321
        </td>
        <td>
          4114
        </td>
        <td>
          15200
          -
          15223
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Geometry.getCoordinates
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          geometry.getCoordinates()
        </td>
      </tr><tr>
        <td>
          321
        </td>
        <td>
          4115
        </td>
        <td>
          15233
          -
          15250
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.translateCoord
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          translateCoord(c)
        </td>
      </tr><tr>
        <td>
          321
        </td>
        <td>
          4116
        </td>
        <td>
          15227
          -
          15227
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.Array.canBuildFrom
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.this.Array.canBuildFrom[org.locationtech.jts.geom.Coordinate]((ClassTag.apply[org.locationtech.jts.geom.Coordinate](classOf[org.locationtech.jts.geom.Coordinate]): scala.reflect.ClassTag[org.locationtech.jts.geom.Coordinate]))
        </td>
      </tr><tr>
        <td>
          321
        </td>
        <td>
          4117
        </td>
        <td>
          15200
          -
          15251
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.collection.TraversableLike.map
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Predef.refArrayOps[org.locationtech.jts.geom.Coordinate](geometry.getCoordinates()).map[org.locationtech.jts.geom.Coordinate, Array[org.locationtech.jts.geom.Coordinate]](((c: org.locationtech.jts.geom.Coordinate) =&gt; translateCoord(c)))(scala.this.Array.canBuildFrom[org.locationtech.jts.geom.Coordinate]((ClassTag.apply[org.locationtech.jts.geom.Coordinate](classOf[org.locationtech.jts.geom.Coordinate]): scala.reflect.ClassTag[org.locationtech.jts.geom.Coordinate])))
        </td>
      </tr><tr>
        <td>
          321
        </td>
        <td>
          4118
        </td>
        <td>
          15150
          -
          15252
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.GeometryFactory.createMultiPointFromCoords
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          GeohashUtils.this.defaultGeometryFactory.createMultiPointFromCoords(scala.Predef.refArrayOps[org.locationtech.jts.geom.Coordinate](geometry.getCoordinates()).map[org.locationtech.jts.geom.Coordinate, Array[org.locationtech.jts.geom.Coordinate]](((c: org.locationtech.jts.geom.Coordinate) =&gt; translateCoord(c)))(scala.this.Array.canBuildFrom[org.locationtech.jts.geom.Coordinate]((ClassTag.apply[org.locationtech.jts.geom.Coordinate](classOf[org.locationtech.jts.geom.Coordinate]): scala.reflect.ClassTag[org.locationtech.jts.geom.Coordinate]))))
        </td>
      </tr><tr>
        <td>
          324
        </td>
        <td>
          4119
        </td>
        <td>
          15367
          -
          15389
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Geometry.getCoordinate
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          geometry.getCoordinate()
        </td>
      </tr><tr>
        <td>
          324
        </td>
        <td>
          4120
        </td>
        <td>
          15352
          -
          15390
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.translateCoord
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          translateCoord(geometry.getCoordinate())
        </td>
      </tr><tr>
        <td>
          324
        </td>
        <td>
          4121
        </td>
        <td>
          15317
          -
          15391
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.GeometryFactory.createPoint
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          GeohashUtils.this.defaultGeometryFactory.createPoint(translateCoord(geometry.getCoordinate()))
        </td>
      </tr><tr>
        <td>
          329
        </td>
        <td>
          4122
        </td>
        <td>
          15518
          -
          15544
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.translatePolygon
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          translatePolygon(geometry)
        </td>
      </tr><tr>
        <td>
          329
        </td>
        <td>
          4123
        </td>
        <td>
          15518
          -
          15544
        </td>
        <td>
          Block
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.translatePolygon
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          translatePolygon(geometry)
        </td>
      </tr><tr>
        <td>
          330
        </td>
        <td>
          4124
        </td>
        <td>
          15581
          -
          15610
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.translateLineString
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          translateLineString(geometry)
        </td>
      </tr><tr>
        <td>
          330
        </td>
        <td>
          4125
        </td>
        <td>
          15581
          -
          15610
        </td>
        <td>
          Block
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.translateLineString
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          translateLineString(geometry)
        </td>
      </tr><tr>
        <td>
          331
        </td>
        <td>
          4126
        </td>
        <td>
          15647
          -
          15681
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.translateMultiLineString
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          translateMultiLineString(geometry)
        </td>
      </tr><tr>
        <td>
          331
        </td>
        <td>
          4127
        </td>
        <td>
          15647
          -
          15681
        </td>
        <td>
          Block
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.translateMultiLineString
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          translateMultiLineString(geometry)
        </td>
      </tr><tr>
        <td>
          332
        </td>
        <td>
          4128
        </td>
        <td>
          15718
          -
          15749
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.translateMultiPolygon
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          translateMultiPolygon(geometry)
        </td>
      </tr><tr>
        <td>
          332
        </td>
        <td>
          4129
        </td>
        <td>
          15718
          -
          15749
        </td>
        <td>
          Block
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.translateMultiPolygon
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          translateMultiPolygon(geometry)
        </td>
      </tr><tr>
        <td>
          333
        </td>
        <td>
          4130
        </td>
        <td>
          15786
          -
          15815
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.translateMultiPoint
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          translateMultiPoint(geometry)
        </td>
      </tr><tr>
        <td>
          333
        </td>
        <td>
          4131
        </td>
        <td>
          15786
          -
          15815
        </td>
        <td>
          Block
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.translateMultiPoint
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          translateMultiPoint(geometry)
        </td>
      </tr><tr>
        <td>
          334
        </td>
        <td>
          4132
        </td>
        <td>
          15852
          -
          15876
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.translatePoint
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          translatePoint(geometry)
        </td>
      </tr><tr>
        <td>
          334
        </td>
        <td>
          4133
        </td>
        <td>
          15852
          -
          15876
        </td>
        <td>
          Block
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.translatePoint
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          translatePoint(geometry)
        </td>
      </tr><tr>
        <td>
          338
        </td>
        <td>
          4142
        </td>
        <td>
          15896
          -
          16429
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.util.Try.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.util.Try.apply[org.locationtech.jts.geom.Geometry]({
  val copy: org.locationtech.jts.geom.Geometry = org.locationtech.geomesa.utils.geotools.GeometryUtils.geoFactory.createGeometry(targetGeom);
  val withinBoundsGeom: org.locationtech.jts.geom.Geometry = if (targetGeom.getEnvelopeInternal().getMinX().&lt;(-180).||(targetGeom.getEnvelopeInternal().getMaxX().&gt;(180)))
    translateGeometry(copy)
  else
    copy;
  org.locationtech.spatial4j.context.jts.JtsSpatialContext.GEO.getShapeFactory().makeShape(withinBoundsGeom, true, true).getGeom()
})
        </td>
      </tr><tr>
        <td>
          341
        </td>
        <td>
          4134
        </td>
        <td>
          16081
          -
          16132
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.GeometryFactory.createGeometry
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.geomesa.utils.geotools.GeometryUtils.geoFactory.createGeometry(targetGeom)
        </td>
      </tr><tr>
        <td>
          343
        </td>
        <td>
          4135
        </td>
        <td>
          16215
          -
          16219
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          -180
        </td>
      </tr><tr>
        <td>
          343
        </td>
        <td>
          4136
        </td>
        <td>
          16223
          -
          16267
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Double.&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          targetGeom.getEnvelopeInternal().getMaxX().&gt;(180)
        </td>
      </tr><tr>
        <td>
          343
        </td>
        <td>
          4137
        </td>
        <td>
          16174
          -
          16267
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Boolean.||
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          targetGeom.getEnvelopeInternal().getMinX().&lt;(-180).||(targetGeom.getEnvelopeInternal().getMaxX().&gt;(180))
        </td>
      </tr><tr>
        <td>
          344
        </td>
        <td>
          4138
        </td>
        <td>
          16279
          -
          16302
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.translateGeometry
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          translateGeometry(copy)
        </td>
      </tr><tr>
        <td>
          344
        </td>
        <td>
          4139
        </td>
        <td>
          16279
          -
          16302
        </td>
        <td>
          Block
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.translateGeometry
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          translateGeometry(copy)
        </td>
      </tr><tr>
        <td>
          346
        </td>
        <td>
          4140
        </td>
        <td>
          16326
          -
          16330
        </td>
        <td>
          Ident
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.copy
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          copy
        </td>
      </tr><tr>
        <td>
          348
        </td>
        <td>
          4141
        </td>
        <td>
          16338
          -
          16423
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.spatial4j.shape.jts.JtsGeometry.getGeom
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          org.locationtech.spatial4j.context.jts.JtsSpatialContext.GEO.getShapeFactory().makeShape(withinBoundsGeom, true, true).getGeom()
        </td>
      </tr><tr>
        <td>
          361
        </td>
        <td>
          4153
        </td>
        <td>
          16862
          -
          17027
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          {
  val gh: org.locationtech.geomesa.utils.geohash.GeoHash = GeoHash.apply(point.getX(), point.getY(), resolutions.maxBitsResolution);
  scala.collection.immutable.List.apply[(Double, Double, Double, Double)](scala.Tuple4.apply[Double, Double, Double, Double](gh.bbox.ll.getX(), gh.bbox.ll.getY(), gh.bbox.ur.getX(), gh.bbox.ur.getY()))
}
        </td>
      </tr><tr>
        <td>
          362
        </td>
        <td>
          4143
        </td>
        <td>
          16890
          -
          16900
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Point.getX
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          point.getX()
        </td>
      </tr><tr>
        <td>
          362
        </td>
        <td>
          4144
        </td>
        <td>
          16902
          -
          16912
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Point.getY
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          point.getY()
        </td>
      </tr><tr>
        <td>
          362
        </td>
        <td>
          4145
        </td>
        <td>
          16914
          -
          16943
        </td>
        <td>
          Select
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.ResolutionRange.maxBitsResolution
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          resolutions.maxBitsResolution
        </td>
      </tr><tr>
        <td>
          362
        </td>
        <td>
          4146
        </td>
        <td>
          16882
          -
          16944
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeoHash.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          GeoHash.apply(point.getX(), point.getY(), resolutions.maxBitsResolution)
        </td>
      </tr><tr>
        <td>
          363
        </td>
        <td>
          4147
        </td>
        <td>
          16959
          -
          16974
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Point.getX
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          gh.bbox.ll.getX()
        </td>
      </tr><tr>
        <td>
          363
        </td>
        <td>
          4148
        </td>
        <td>
          16976
          -
          16991
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Point.getY
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          gh.bbox.ll.getY()
        </td>
      </tr><tr>
        <td>
          363
        </td>
        <td>
          4149
        </td>
        <td>
          16993
          -
          17008
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Point.getX
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          gh.bbox.ur.getX()
        </td>
      </tr><tr>
        <td>
          363
        </td>
        <td>
          4150
        </td>
        <td>
          17010
          -
          17025
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Point.getY
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          gh.bbox.ur.getY()
        </td>
      </tr><tr>
        <td>
          363
        </td>
        <td>
          4151
        </td>
        <td>
          16958
          -
          17026
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Tuple4.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Tuple4.apply[Double, Double, Double, Double](gh.bbox.ll.getX(), gh.bbox.ll.getY(), gh.bbox.ur.getX(), gh.bbox.ur.getY())
        </td>
      </tr><tr>
        <td>
          363
        </td>
        <td>
          4152
        </td>
        <td>
          16953
          -
          17027
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.immutable.List.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.collection.immutable.List.apply[(Double, Double, Double, Double)](scala.Tuple4.apply[Double, Double, Double, Double](gh.bbox.ll.getX(), gh.bbox.ll.getY(), gh.bbox.ur.getX(), gh.bbox.ur.getY()))
        </td>
      </tr><tr>
        <td>
          365
        </td>
        <td>
          4154
        </td>
        <td>
          17087
          -
          17106
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.GeometryCollection.getNumGeometries
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          gc.getNumGeometries()
        </td>
      </tr><tr>
        <td>
          365
        </td>
        <td>
          4155
        </td>
        <td>
          17108
          -
          17123
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.GeometryCollection.getGeometryN
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          gc.getGeometryN(x$1)
        </td>
      </tr><tr>
        <td>
          365
        </td>
        <td>
          4156
        </td>
        <td>
          17133
          -
          17175
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.decomposeGeometry
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          GeohashUtils.this.decomposeGeometry(x$1, maxSize, resolutions)
        </td>
      </tr><tr>
        <td>
          365
        </td>
        <td>
          4157
        </td>
        <td>
          17132
          -
          17132
        </td>
        <td>
          TypeApply
        </td>
        <td>
          scala.collection.immutable.List.canBuildFrom
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          immutable.this.List.canBuildFrom[(Double, Double, Double, Double)]
        </td>
      </tr><tr>
        <td>
          365
        </td>
        <td>
          4158
        </td>
        <td>
          17073
          -
          17185
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.SeqLike.distinct
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.collection.immutable.List.tabulate[org.locationtech.jts.geom.Geometry](gc.getNumGeometries())({
  ((x$1: Int) =&gt; gc.getGeometryN(x$1))
}).flatMap[(Double, Double, Double, Double), List[(Double, Double, Double, Double)]](((x$1: org.locationtech.jts.geom.Geometry) =&gt; GeohashUtils.this.decomposeGeometry(x$1, maxSize, resolutions)))(immutable.this.List.canBuildFrom[(Double, Double, Double, Double)]).distinct
        </td>
      </tr><tr>
        <td>
          365
        </td>
        <td>
          4159
        </td>
        <td>
          17073
          -
          17185
        </td>
        <td>
          Block
        </td>
        <td>
          scala.collection.SeqLike.distinct
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.collection.immutable.List.tabulate[org.locationtech.jts.geom.Geometry](gc.getNumGeometries())({
  ((x$1: Int) =&gt; gc.getGeometryN(x$1))
}).flatMap[(Double, Double, Double, Double), List[(Double, Double, Double, Double)]](((x$1: org.locationtech.jts.geom.Geometry) =&gt; GeohashUtils.this.decomposeGeometry(x$1, maxSize, resolutions)))(immutable.this.List.canBuildFrom[(Double, Double, Double, Double)]).distinct
        </td>
      </tr><tr>
        <td>
          366
        </td>
        <td>
          4169
        </td>
        <td>
          17199
          -
          17500
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          {
  val safeGeom: org.locationtech.jts.geom.Geometry = GeohashUtils.this.getInternationalDateLineSafeGeometry(targetGeom).getOrElse[org.locationtech.jts.geom.Geometry](targetGeom);
  val relaxed: org.locationtech.jts.geom.Geometry = GeohashUtils.this.getDecomposableGeometry(safeGeom);
  GeohashUtils.this.decomposeGeometry_(relaxed, maxSize, resolutions).map[(Double, Double, Double, Double), List[(Double, Double, Double, Double)]](((gh: org.locationtech.geomesa.utils.geohash.GeoHash) =&gt; scala.Tuple4.apply[Double, Double, Double, Double](gh.bbox.ll.getX(), gh.bbox.ll.getY(), gh.bbox.ur.getX(), gh.bbox.ur.getY())))(immutable.this.List.canBuildFrom[(Double, Double, Double, Double)])
}
        </td>
      </tr><tr>
        <td>
          367
        </td>
        <td>
          4160
        </td>
        <td>
          17225
          -
          17295
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.util.Try.getOrElse
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          GeohashUtils.this.getInternationalDateLineSafeGeometry(targetGeom).getOrElse[org.locationtech.jts.geom.Geometry](targetGeom)
        </td>
      </tr><tr>
        <td>
          368
        </td>
        <td>
          4161
        </td>
        <td>
          17318
          -
          17351
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.geomesa.utils.geohash.GeohashUtils.getDecomposableGeometry
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          GeohashUtils.this.getDecomposableGeometry(safeGeom)
        </td>
      </tr><tr>
        <td>
          370
        </td>
        <td>
          4162
        </td>
        <td>
          17432
          -
          17447
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Point.getX
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          gh.bbox.ll.getX()
        </td>
      </tr><tr>
        <td>
          370
        </td>
        <td>
          4163
        </td>
        <td>
          17449
          -
          17464
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Point.getY
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          gh.bbox.ll.getY()
        </td>
      </tr><tr>
        <td>
          370
        </td>
        <td>
          4164
        </td>
        <td>
          17466
          -
          17481
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Point.getX
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          gh.bbox.ur.getX()
        </td>
      </tr><tr>
        <td>
          370
        </td>
        <td>
          4165
        </td>
        <td>
          17483
          -
          17498
        </td>
        <td>
          Apply
        </td>
        <td>
          org.locationtech.jts.geom.Point.getY
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          gh.bbox.ur.getY()
        </td>
      </tr><tr>
        <td>
          370
        </td>
        <td>
          4166
        </td>
        <td>
          17431
          -
          17499
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Tuple4.apply
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          scala.Tuple4.apply[Double, Double, Double, Double](gh.bbox.ll.getX(), gh.bbox.ll.getY(), gh.bbox.ur.getX(), gh.bbox.ur.getY())
        </td>
      </tr><tr>
        <td>
          370
        </td>
        <td>
          4167
        </td>
        <td>
          17424
          -
          17424
        </td>
        <td>
          TypeApply
        </td>
        <td>
          scala.collection.immutable.List.canBuildFrom
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          immutable.this.List.canBuildFrom[(Double, Double, Double, Double)]
        </td>
      </tr><tr>
        <td>
          370
        </td>
        <td>
          4168
        </td>
        <td>
          17360
          -
          17500
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          scala.collection.immutable.List.map
        </td>
        <td>
          
        </td>
        <td style="background: #AEF1AE">
          GeohashUtils.this.decomposeGeometry_(relaxed, maxSize, resolutions).map[(Double, Double, Double, Double), List[(Double, Double, Double, Double)]](((gh: org.locationtech.geomesa.utils.geohash.GeoHash) =&gt; scala.Tuple4.apply[Double, Double, Double, Double](gh.bbox.ll.getX(), gh.bbox.ll.getY(), gh.bbox.ur.getX(), gh.bbox.ur.getY())))(immutable.this.List.canBuildFrom[(Double, Double, Double, Double)])
        </td>
      </tr>
    </table>
          </div>
        </div>
      </body>
    </html>