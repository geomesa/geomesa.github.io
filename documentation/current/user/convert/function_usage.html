

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>9.18. Transformation Function Usage &mdash; GeoMesa 3.4.1 Manuals</title>
  

  
  
  
  
    <link rel="canonical" href="https://www.geomesa.org/documentation/user/convert/function_usage.html"/>
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme_custom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="9.19. Extending the Converter Library" href="extending.html" />
    <link rel="prev" title="9.17. Transformation Function Overview" href="function_overview.html" />

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-53087457-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-53087457-1');
</script>



  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> GeoMesa
          

          
          </a>

          
            
            
              <div class="version">
                3.5.0-SNAPSHOT
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../download.html">2. Versions and Downloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html">3. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html">4. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geotools.html">5. GeoTools Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html">6. Architecture Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datastores/index.html">7. GeoMesa Data Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/index.html">8. Command-Line Tools</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">9. GeoMesa Convert</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="common.html">9.1. Converter Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="parsing_and_validation.html">9.2. Parsing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="cache.html">9.3. Using Caches for Enrichment</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage_tools.html">9.4. Using Converters with the Command-Line Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage_code.html">9.5. Using Converters Programmatically</a></li>
<li class="toctree-l3"><a class="reference internal" href="delimited_text.html">9.6. Delimited Text Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="json.html">9.7. JSON Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="xml.html">9.8. XML Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="avro.html">9.9. Avro Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="avro_schema_registry.html">9.10. Avro Schema Registry Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="parquet.html">9.11. Parquet Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="shp.html">9.12. Shapefile Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="fixed_width.html">9.13. Fixed-Width Text Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="jdbc.html">9.14. JDBC Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="composite.html">9.15. Composite Converters</a></li>
<li class="toctree-l3"><a class="reference internal" href="premade/index.html">9.16. Prepackaged Converter Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="function_overview.html">9.17. Transformation Function Overview</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">9.18. Transformation Function Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#control-functions">9.18.1. Control Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#string-functions">9.18.2. String Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#date-functions">9.18.3. Date Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#geometry-functions">9.18.4. Geometry Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id-functions">9.18.5. ID Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#type-conversions">9.18.6. Type Conversions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#math-functions">9.18.7. Math Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#list-and-map-functions">9.18.8. List and Map Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#encoding-functions">9.18.9. Encoding Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#state-functions">9.18.10. State Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enrichment-functions">9.18.11. Enrichment Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="extending.html">9.19. Extending the Converter Library</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../geoserver.html">10. GeoServer Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spark/index.html">11. GeoMesa Spark</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nifi/index.html">12. GeoMesa NiFi Bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../process.html">13. GeoMesa Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hbase/index.html">14. HBase Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../accumulo/index.html">15. Accumulo Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cassandra/index.html">16. Cassandra Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bigtable/index.html">17. Bigtable Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kafka/index.html">18. Kafka Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../redis/index.html">19. Redis Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../filesystem/index.html">20. FileSystem Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kudu/index.html">21. Kudu Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../postgis/index.html">22. Partitioned PostGIS Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lambda/index.html">23. Lambda Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ds_views.html">24. Combined Data Store Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geojson.html">25. GeoMesa GeoJSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stream.html">26. GeoMesa Stream Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade.html">27. Upgrade Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#appendix">Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">Developer Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GeoMesa</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">User Manual</a> &raquo;</li>
        
          <li><a href="index.html">9. GeoMesa Convert</a> &raquo;</li>
        
      <li>9.18. Transformation Function Usage</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="transformation-function-usage">
<h1>9.18. Transformation Function Usage<a class="headerlink" href="#transformation-function-usage" title="Permalink to this headline">¶</a></h1>
<div class="section" id="control-functions">
<h2>9.18.1. Control Functions<a class="headerlink" href="#control-functions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="try">
<h3>9.18.1.1. try<a class="headerlink" href="#try" title="Permalink to this headline">¶</a></h3>
<p>Description: Execute another function - if it fails, instead use a
default value</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">try($1,</span> <span class="pre">$2)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">try(&quot;1&quot;::int,</span> <span class="pre">0)</span> <span class="pre">=</span> <span class="pre">1</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">try(&quot;abcd&quot;::int,</span> <span class="pre">0)</span> <span class="pre">=</span> <span class="pre">0</span></code></p>
</div>
<div class="section" id="withdefault">
<h3>9.18.1.2. withDefault<a class="headerlink" href="#withdefault" title="Permalink to this headline">¶</a></h3>
<p>Description: Replace a value with the first non-null alternative, if the value is null</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">withDefault($1,</span> <span class="pre">$2...)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">withDefault('foo',</span> <span class="pre">'bar')</span> <span class="pre">=</span> <span class="pre">foo</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">withDefault('foo',</span> <span class="pre">'bar',</span> <span class="pre">'baz')</span> <span class="pre">=</span> <span class="pre">foo</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">withDefault(null,</span> <span class="pre">'bar',</span> <span class="pre">'baz')</span> <span class="pre">=</span> <span class="pre">bar</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">withDefault(null,</span> <span class="pre">null,</span> <span class="pre">'baz')</span> <span class="pre">=</span> <span class="pre">baz</span></code></p>
</div>
<div class="section" id="require">
<h3>9.18.1.3. require<a class="headerlink" href="#require" title="Permalink to this headline">¶</a></h3>
<p>Description: Throw an exception if the value is null, otherwise return the value</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">require($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">require('foo')</span> <span class="pre">=</span> <span class="pre">foo</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">require(null)</span> <span class="pre">//</span> <span class="pre">throws</span> <span class="pre">an</span> <span class="pre">error</span></code></p>
</div>
</div>
<div class="section" id="string-functions">
<h2>9.18.2. String Functions<a class="headerlink" href="#string-functions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="strip">
<h3>9.18.2.1. strip<a class="headerlink" href="#strip" title="Permalink to this headline">¶</a></h3>
<p>Description: Removes characters from the start or end of a string. Defaults to whitespace.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">strip($1)</span></code> or <code class="docutils literal notranslate"><span class="pre">strip($1,</span> <span class="pre">$chars)</span></code></p>
<p>Examples: <code class="docutils literal notranslate"><span class="pre">strip('afoob',</span> <span class="pre">'abc')</span> <span class="pre">=</span> <span class="pre">foo</span></code>
<code class="docutils literal notranslate"><span class="pre">strip('foao',</span> <span class="pre">'abc')</span> <span class="pre">=</span> <span class="pre">foao</span></code>
<code class="docutils literal notranslate"><span class="pre">strip('\t</span> <span class="pre">foo</span> <span class="pre">')</span> <span class="pre">=</span> <span class="pre">foo</span></code></p>
</div>
<div class="section" id="stripquotes">
<h3>9.18.2.2. stripQuotes<a class="headerlink" href="#stripquotes" title="Permalink to this headline">¶</a></h3>
<p>Description: Remove double or single quotes from a the start or end of a string</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">stripQuotes($1)</span></code></p>
<p>Examples: <code class="docutils literal notranslate"><span class="pre">stripQuotes('&quot;foo&quot;')</span> <span class="pre">=</span> <span class="pre">foo</span></code>
<code class="docutils literal notranslate"><span class="pre">stripQuotes('\'foo\'')</span> <span class="pre">=</span> <span class="pre">foo</span></code>
<code class="docutils literal notranslate"><span class="pre">stripQuotes('fo&quot;o')</span> <span class="pre">=</span> <span class="pre">fo&quot;o</span></code></p>
</div>
<div class="section" id="stripprefix">
<h3>9.18.2.3. stripPrefix<a class="headerlink" href="#stripprefix" title="Permalink to this headline">¶</a></h3>
<p>Description: Removes characters from the start of a string. Whitespace is preserved.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">stripPrefix($1,</span> <span class="pre">$chars)</span></code></p>
<p>Examples: <code class="docutils literal notranslate"><span class="pre">stripPrefix('afoob',</span> <span class="pre">'abc')</span> <span class="pre">=</span> <span class="pre">foob</span></code></p>
</div>
<div class="section" id="stripsuffix">
<h3>9.18.2.4. stripSuffix<a class="headerlink" href="#stripsuffix" title="Permalink to this headline">¶</a></h3>
<p>Description: Removes characters from the end of a string. Whitespace is preserved.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">stripSuffix($1,</span> <span class="pre">$chars)</span></code></p>
<p>Examples: <code class="docutils literal notranslate"><span class="pre">stripSuffix('afoob',</span> <span class="pre">'abc')</span> <span class="pre">=</span> <span class="pre">afoo</span></code></p>
</div>
<div class="section" id="remove">
<h3>9.18.2.5. remove<a class="headerlink" href="#remove" title="Permalink to this headline">¶</a></h3>
<p>Description: Removes a substring from a string</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">remove($1,</span> <span class="pre">$substring)</span></code></p>
<p>Examples: <code class="docutils literal notranslate"><span class="pre">remove('foabco',</span> <span class="pre">'abc')</span> <span class="pre">=</span> <span class="pre">foo</span></code></p>
</div>
<div class="section" id="replace">
<h3>9.18.2.6. replace<a class="headerlink" href="#replace" title="Permalink to this headline">¶</a></h3>
<p>Description: Replaces a literal string with another string</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">replace($1,</span> <span class="pre">$toReplace,</span> <span class="pre">$replacement)</span></code></p>
<p>Examples: <code class="docutils literal notranslate"><span class="pre">replace('foobar',</span> <span class="pre">'ob',</span> <span class="pre">'ab')</span> <span class="pre">=</span> <span class="pre">foabar</span></code></p>
</div>
<div class="section" id="length">
<h3>9.18.2.7. length<a class="headerlink" href="#length" title="Permalink to this headline">¶</a></h3>
<p>Description: Returns the length of a string.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">length($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">length('foo')</span> <span class="pre">=</span> <span class="pre">3</span></code></p>
</div>
<div class="section" id="trim">
<h3>9.18.2.8. trim<a class="headerlink" href="#trim" title="Permalink to this headline">¶</a></h3>
<p>Description: Trim whitespace from around a string.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">trim($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">trim('</span>&#160; <span class="pre">foo</span> <span class="pre">')</span> <span class="pre">=</span> <span class="pre">foo</span></code></p>
</div>
<div class="section" id="capitalize">
<h3>9.18.2.9. capitalize<a class="headerlink" href="#capitalize" title="Permalink to this headline">¶</a></h3>
<p>Description: Capitalize a string.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">capitalize($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">capitalize('foo')</span> <span class="pre">=</span> <span class="pre">Foo</span></code></p>
</div>
<div class="section" id="lowercase">
<h3>9.18.2.10. lowercase<a class="headerlink" href="#lowercase" title="Permalink to this headline">¶</a></h3>
<p>Description: Lowercase a string.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">lowercase($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">lowercase('FOO')</span> <span class="pre">=</span> <span class="pre">foo</span></code></p>
</div>
<div class="section" id="uppercase">
<h3>9.18.2.11. uppercase<a class="headerlink" href="#uppercase" title="Permalink to this headline">¶</a></h3>
<p>Description: Uppercase a string.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">uppercase($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">uppercase('foo')</span> <span class="pre">=</span> <span class="pre">FOO</span></code></p>
</div>
<div class="section" id="regexreplace">
<h3>9.18.2.12. regexReplace<a class="headerlink" href="#regexreplace" title="Permalink to this headline">¶</a></h3>
<p>Description: Replace a given pattern with a target pattern in a string.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">regexReplace($regex,</span> <span class="pre">$replacement,</span> <span class="pre">$1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">regexReplace('foo'::r,</span> <span class="pre">'bar',</span> <span class="pre">'foobar')</span> <span class="pre">=</span> <span class="pre">barbar</span></code></p>
</div>
<div class="section" id="concatenate">
<h3>9.18.2.13. concatenate<a class="headerlink" href="#concatenate" title="Permalink to this headline">¶</a></h3>
<p>Description: Concatenate two strings.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">concatenate($0,</span> <span class="pre">$1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">concatenate('foo',</span> <span class="pre">'bar')</span> <span class="pre">=</span> <span class="pre">foobar</span></code></p>
</div>
<div class="section" id="substring">
<h3>9.18.2.14. substring<a class="headerlink" href="#substring" title="Permalink to this headline">¶</a></h3>
<p>Description: Return the substring of a string.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">substring($1,</span> <span class="pre">$startIndex,</span> <span class="pre">$endIndex)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">substring('foobarbaz',</span> <span class="pre">2,</span> <span class="pre">5)</span> <span class="pre">=</span> <span class="pre">oba</span></code></p>
</div>
<div class="section" id="tostring">
<h3>9.18.2.15. toString<a class="headerlink" href="#tostring" title="Permalink to this headline">¶</a></h3>
<p>Description: Convert another data type to a string.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">toString($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">concatenate(toString(5),</span> <span class="pre">toString(6))</span> <span class="pre">=</span> <span class="pre">'56'</span></code></p>
</div>
<div class="section" id="emptytonull">
<h3>9.18.2.16. emptyToNull<a class="headerlink" href="#emptytonull" title="Permalink to this headline">¶</a></h3>
<p>Description: Replace an empty string with <code class="docutils literal notranslate"><span class="pre">null</span></code>. Useful for setting optional attributes from delimited
text files, where inputs will never be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">emptyToNull($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">emptyToNull('')</span> <span class="pre">=</span> <span class="pre">null</span></code></p>
</div>
<div class="section" id="printf">
<h3>9.18.2.17. printf<a class="headerlink" href="#printf" title="Permalink to this headline">¶</a></h3>
<p>Description: Format custom strings.  As an implementation detail,
this function delegates to Java’s String <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html">formatting classes</a>.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">printf('patterns',</span> <span class="pre">$arg1,</span> <span class="pre">$arg2,</span> <span class="pre">...)'</span></code></p>
<dl class="docutils">
<dt>Examples: <code class="docutils literal notranslate"><span class="pre">printf('%s-%s-%sT00:00:00.000Z',</span> <span class="pre">'2015',</span> <span class="pre">'01',</span> <span class="pre">'01')</span> <span class="pre">=</span> <span class="pre">'2015-01-01T00:00:00.000Z'</span></code></dt>
<dd><code class="docutils literal notranslate"><span class="pre">printf('%2f',</span> <span class="pre">divide(-1,</span> <span class="pre">2,</span> <span class="pre">3))</span> <span class="pre">=</span> <span class="pre">'-0.17'</span></code></dd>
</dl>
</div>
</div>
<div class="section" id="date-functions">
<h2>9.18.3. Date Functions<a class="headerlink" href="#date-functions" title="Permalink to this headline">¶</a></h2>
<p>The following table summarizes the predefined date formats by name. For dates that don’t match any of these
formats, a custom format can be used with the <code class="docutils literal notranslate"><span class="pre">date</span></code> function. <code class="docutils literal notranslate"><span class="pre">secsToDate</span></code> and <code class="docutils literal notranslate"><span class="pre">millisToDate</span></code> can be used
for parsing intervals since the Java epoch. See below for full descriptions of each function.</p>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="38%" />
<col width="30%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Function</th>
<th class="head">Format</th>
<th class="head">Example</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>basicIsoDate</td>
<td><code class="docutils literal notranslate"><span class="pre">yyyyMMdd</span></code></td>
<td>20150101</td>
</tr>
<tr class="row-odd"><td>isoDate</td>
<td><code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd</span></code></td>
<td>2015-01-01</td>
</tr>
<tr class="row-even"><td>isoLocalDate</td>
<td><code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd</span></code></td>
<td>2015-01-01</td>
</tr>
<tr class="row-odd"><td>basicDateTimeNoMillis</td>
<td><code class="docutils literal notranslate"><span class="pre">yyyyMMdd'T'HHmmssZ</span></code></td>
<td>20150101T000000Z</td>
</tr>
<tr class="row-even"><td>basicDateTime</td>
<td><code class="docutils literal notranslate"><span class="pre">yyyyMMdd'T'HHmmss.SSSZ</span></code></td>
<td>20150101T000000.000Z</td>
</tr>
<tr class="row-odd"><td>isoDateTime</td>
<td><code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ss</span></code></td>
<td>2015-01-01T00:00:00</td>
</tr>
<tr class="row-even"><td>isoLocalDateTime</td>
<td><code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ss</span></code></td>
<td>2015-01-01T00:00:00</td>
</tr>
<tr class="row-odd"><td>isoOffsetDateTime</td>
<td><code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ssZ</span></code></td>
<td>2015-01-01T00:00:00Z</td>
</tr>
<tr class="row-even"><td>dateHourMinuteSecondMillis</td>
<td><code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ss.SSS</span></code></td>
<td>2015-01-01T00:00:00.000</td>
</tr>
<tr class="row-odd"><td>dateTime</td>
<td><code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ss.SSSZ</span></code></td>
<td>2015-01-01T00:00:00.000Z</td>
</tr>
</tbody>
</table>
<div class="section" id="now">
<h3>9.18.3.1. now<a class="headerlink" href="#now" title="Permalink to this headline">¶</a></h3>
<p>Description: Use the current system time.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">now()</span></code></p>
</div>
<div class="section" id="date">
<h3>9.18.3.2. date<a class="headerlink" href="#date" title="Permalink to this headline">¶</a></h3>
<p>Description: Custom date parser. The date format is defined by the Java 8 <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html">DateTimeFormatter</a> class.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">date($format,</span> <span class="pre">$1)</span></code></p>
<p>Example:
<code class="docutils literal notranslate"><span class="pre">date('yyyy-MM-dd\\'T\\'HH:mm:ss.SSSSSS',</span> <span class="pre">'2015-01-01T00:00:00.000000')</span></code></p>
</div>
<div class="section" id="basicisodate">
<h3>9.18.3.3. basicIsoDate<a class="headerlink" href="#basicisodate" title="Permalink to this headline">¶</a></h3>
<p>Description: A date format for <code class="docutils literal notranslate"><span class="pre">yyyyMMdd</span></code>, equivalent to java.time.format.DateTimeFormatter.BASIC_ISO_DATE.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">basicIsoDate($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">basicIsoDate('20150101')</span></code></p>
</div>
<div class="section" id="isodate">
<h3>9.18.3.4. isoDate<a class="headerlink" href="#isodate" title="Permalink to this headline">¶</a></h3>
<p>Description: A date format for <code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd</span></code>, equivalent to java.time.format.DateTimeFormatter.ISO_DATE.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">isoDate($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">isoDate('2015-01-01')</span></code></p>
</div>
<div class="section" id="basicdatetime">
<h3>9.18.3.5. basicDateTime<a class="headerlink" href="#basicdatetime" title="Permalink to this headline">¶</a></h3>
<p>Description: A date format that combines a basic date and time for <code class="docutils literal notranslate"><span class="pre">yyyyMMdd'T'HHmmss.SSSZ</span></code>.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">basicDateTime($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">basicDateTime('20150101T000000.000Z')</span></code></p>
</div>
<div class="section" id="basicdatetimenomillis">
<h3>9.18.3.6. basicDateTimeNoMillis<a class="headerlink" href="#basicdatetimenomillis" title="Permalink to this headline">¶</a></h3>
<p>Description: A basic format that combines a basic date and time with no
millis for format <code class="docutils literal notranslate"><span class="pre">yyyyMMdd'T'HHmmssZ</span></code>.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">basicDateTimeNoMillis($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">basicDateTimeNoMillis('20150101T000000Z')</span></code></p>
</div>
<div class="section" id="datetime">
<h3>9.18.3.7. dateTime<a class="headerlink" href="#datetime" title="Permalink to this headline">¶</a></h3>
<p>Description: A strict ISO 8601 Date parser for format
<code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ss.SSSZZ</span></code>.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">dateTime($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">dateTime('2015-01-01T00:00:00.000Z')</span></code></p>
</div>
<div class="section" id="datehourminutesecondmillis">
<h3>9.18.3.8. dateHourMinuteSecondMillis<a class="headerlink" href="#datehourminutesecondmillis" title="Permalink to this headline">¶</a></h3>
<p>Description: Formatter for full date, and time keeping the first 3
fractional seconds for format <code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ss.SSS</span></code>.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">dateHourMinuteSecondMillis($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">dateHourMinuteSecondMillis('2015-01-01T00:00:00.000')</span></code></p>
</div>
<div class="section" id="isodatetime">
<h3>9.18.3.9. isoDateTime<a class="headerlink" href="#isodatetime" title="Permalink to this headline">¶</a></h3>
<p>Description: A date format for <code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ss</span></code>, equivalent to
java.time.format.DateTimeFormatter.ISO_DATE_TIME.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">isoDateTime($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">isoDateTime('2015-01-01T00:00:00')</span></code></p>
</div>
<div class="section" id="isolocaldate">
<h3>9.18.3.10. isoLocalDate<a class="headerlink" href="#isolocaldate" title="Permalink to this headline">¶</a></h3>
<p>Description: A date format for <code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd</span></code>, equivalent to java.time.format.DateTimeFormatter.ISO_LOCAL_DATE.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">isoLocalDate($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">isoLocalDate('2015-01-01')</span></code></p>
</div>
<div class="section" id="isolocaldatetime">
<h3>9.18.3.11. isoLocalDateTime<a class="headerlink" href="#isolocaldatetime" title="Permalink to this headline">¶</a></h3>
<p>Description: A date format for <code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ss</span></code>, equivalent to
java.time.format.DateTimeFormatter.ISO_LOCAL_DATE_TIME.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">isoLocalDateTime($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">isoLocalDateTime('2015-01-01T00:00:00')</span></code></p>
</div>
<div class="section" id="isooffsetdatetime">
<h3>9.18.3.12. isoOffsetDateTime<a class="headerlink" href="#isooffsetdatetime" title="Permalink to this headline">¶</a></h3>
<p>Description: A date format for <code class="docutils literal notranslate"><span class="pre">yyyy-MM-dd'T'HH:mm:ssZ</span></code>, equivalent to
java.time.format.DateTimeFormatter.ISO_OFFSET_DATE_TIME.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">isoOffsetDateTime($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">isoOffsetDateTime('2015-01-01T00:00:00Z')</span></code></p>
</div>
<div class="section" id="millistodate">
<h3>9.18.3.13. millisToDate<a class="headerlink" href="#millistodate" title="Permalink to this headline">¶</a></h3>
<p>Description: Create a new date from a long representing milliseconds
since January 1, 1970.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">millisToDate($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">millisToDate('1449675054462'::long)</span></code></p>
</div>
<div class="section" id="secstodate">
<h3>9.18.3.14. secsToDate<a class="headerlink" href="#secstodate" title="Permalink to this headline">¶</a></h3>
<p>Description: Create a new date from a long representing seconds since
January 1, 1970.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">secsToDate($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">secsToDate(1449675054)</span></code></p>
</div>
<div class="section" id="datetostring">
<h3>9.18.3.15. dateToString<a class="headerlink" href="#datetostring" title="Permalink to this headline">¶</a></h3>
<p>Description: Formats a date as a string, based on a pattern as defined by Java’s
<a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html">DateTimeFormatter</a>.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">dateToString($pattern,</span> <span class="pre">$date)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">dateToString('yyyy-MM-dd\\'T\\'HH:mm:ss.SSSSSS',</span> <span class="pre">now())</span></code></p>
</div>
<div class="section" id="datetomillis">
<h3>9.18.3.16. dateToMillis<a class="headerlink" href="#datetomillis" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a date to milliseconds since the Java epoch (January 1, 1970).</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">dateToMillis($date)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">dateToMillis(now())</span></code></p>
</div>
</div>
<div class="section" id="geometry-functions">
<h2>9.18.4. Geometry Functions<a class="headerlink" href="#geometry-functions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="point">
<h3>9.18.4.1. point<a class="headerlink" href="#point" title="Permalink to this headline">¶</a></h3>
<p>Description: Parse a Point geometry from lon/lat/z/m, WKT or WKB. To create a point with measure but no z,
use <code class="docutils literal notranslate"><span class="pre">pointM</span></code>.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">point($lon,</span> <span class="pre">$lat)</span></code>, <code class="docutils literal notranslate"><span class="pre">point($lon,</span> <span class="pre">$lat,</span> <span class="pre">$z)</span></code>, <code class="docutils literal notranslate"><span class="pre">point($lon,</span> <span class="pre">$lat,</span> <span class="pre">$z,</span> <span class="pre">$m)</span></code> or <code class="docutils literal notranslate"><span class="pre">point($wkt)</span></code></p>
<p>Note: Ordering is important here…GeoMesa defaults to longitude first</p>
<p>Example: Parsing lon/lat from JSON:</p>
<p>Parsing lon/lat</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># config</span>
<span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;lon&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">-</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;double&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;$.lon&quot;</span> <span class="p">}</span>
<span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;lat&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">-</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;double&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;$.lat&quot;</span> <span class="p">}</span>
<span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;geom&quot;</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="s2">&quot;point($lon, $lat)&quot;</span> <span class="p">}</span>

<span class="c1"># data</span>
<span class="p">{</span>
    <span class="s2">&quot;lat&quot;</span><span class="p">:</span> <span class="mf">23.9</span><span class="p">,</span>
    <span class="s2">&quot;lon&quot;</span><span class="p">:</span> <span class="mf">24.2</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Example: Parsing lon/lat from text without creating lon/lat fields:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># config</span>
<span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;geom&quot;</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="s2">&quot;point($2::double, $3::double)&quot;</span> <span class="p">}</span>

<span class="c1"># data</span>
<span class="nb">id</span><span class="p">,</span><span class="n">lat</span><span class="p">,</span><span class="n">lon</span><span class="p">,</span><span class="n">date</span>
<span class="n">identity1</span><span class="p">,</span><span class="mf">23.9</span><span class="p">,</span><span class="mf">24.2</span><span class="p">,</span><span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">03</span>
</pre></div>
</div>
<p>Example: Parsing WKT as a point</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># config</span>
<span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;geom&quot;</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="s2">&quot;point($2)&quot;</span> <span class="p">}</span>

<span class="c1"># data</span>
<span class="n">ID</span><span class="p">,</span><span class="n">wkt</span><span class="p">,</span><span class="n">date</span>
<span class="mi">1</span><span class="p">,</span><span class="n">POINT</span><span class="p">(</span><span class="mi">2</span> <span class="mi">3</span><span class="p">),</span><span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span>
</pre></div>
</div>
</div>
<div class="section" id="pointm">
<h3>9.18.4.2. pointM<a class="headerlink" href="#pointm" title="Permalink to this headline">¶</a></h3>
<p>Description: Parse a Point geometry from lon/lat and measure</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">pointM($lon,</span> <span class="pre">$lat,</span> <span class="pre">$measure)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">pointM(10::double,20::double,30::double)</span></code></p>
</div>
<div class="section" id="multipoint">
<h3>9.18.4.3. multipoint<a class="headerlink" href="#multipoint" title="Permalink to this headline">¶</a></h3>
<p>Description: Parse a multi-point from a WKT string, WKB byte array, or two lists of coordinates.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">multipoint($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">multipoint('MULTIPOINT</span> <span class="pre">((10</span> <span class="pre">40),</span> <span class="pre">(40</span> <span class="pre">30),</span> <span class="pre">(20</span> <span class="pre">20),</span> <span class="pre">(30</span> <span class="pre">10))')</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">multipoint(list(10,40,20,30),list(40,30,20,10))</span></code></p>
</div>
<div class="section" id="linestring">
<h3>9.18.4.4. linestring<a class="headerlink" href="#linestring" title="Permalink to this headline">¶</a></h3>
<p>Description: Parse a linestring from a WKT string, WKB byte array, or two lists of coordinates.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">linestring($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">linestring('LINESTRING(102</span> <span class="pre">0,</span> <span class="pre">103</span> <span class="pre">1,</span> <span class="pre">104</span> <span class="pre">0,</span> <span class="pre">105</span> <span class="pre">1)')</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">linestring(list(102,103,104,105),list(0,1,0,1))</span></code></p>
</div>
<div class="section" id="multilinestring">
<h3>9.18.4.5. multilinestring<a class="headerlink" href="#multilinestring" title="Permalink to this headline">¶</a></h3>
<p>Description: Parse a multi-linestring from a WKT string or WKB byte array.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">multilinestring($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">multilinestring('MULTILINESTRING</span> <span class="pre">((10</span> <span class="pre">10,</span> <span class="pre">20</span> <span class="pre">20,</span> <span class="pre">10</span> <span class="pre">40),</span> <span class="pre">(40</span> <span class="pre">40,</span> <span class="pre">30</span> <span class="pre">30,</span> <span class="pre">40</span> <span class="pre">20,</span> <span class="pre">30</span> <span class="pre">10))')</span></code></p>
</div>
<div class="section" id="polygon">
<h3>9.18.4.6. polygon<a class="headerlink" href="#polygon" title="Permalink to this headline">¶</a></h3>
<p>Description: Parse a polygon from a WKT string or WKB byte array.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">polygon($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">polygon('POLYGON</span> <span class="pre">((30</span> <span class="pre">10,</span> <span class="pre">40</span> <span class="pre">40,</span> <span class="pre">20</span> <span class="pre">40,</span> <span class="pre">10</span> <span class="pre">20,</span> <span class="pre">30</span> <span class="pre">10))')</span></code></p>
</div>
<div class="section" id="multipolygon">
<h3>9.18.4.7. multipolygon<a class="headerlink" href="#multipolygon" title="Permalink to this headline">¶</a></h3>
<p>Description: Parse a multi-polygon from a WKT string or WKB byte array.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">multipolygon($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">multipolygon('MULTIPOLYGON</span> <span class="pre">(((30</span> <span class="pre">20,</span> <span class="pre">45</span> <span class="pre">40,</span> <span class="pre">10</span> <span class="pre">40,</span> <span class="pre">30</span> <span class="pre">20)),</span> <span class="pre">((15</span> <span class="pre">5,</span> <span class="pre">40</span> <span class="pre">10,</span> <span class="pre">10</span> <span class="pre">20,</span> <span class="pre">5</span> <span class="pre">10,</span> <span class="pre">15</span> <span class="pre">5)))')</span></code></p>
</div>
<div class="section" id="geometrycollection">
<h3>9.18.4.8. geometrycollection<a class="headerlink" href="#geometrycollection" title="Permalink to this headline">¶</a></h3>
<p>Description: Parse a geometry collection from a WKT string or WKB byte array.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">geometrycollection($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">geometrycollection('GEOMETRYCOLLECTION(POINT(4</span> <span class="pre">6),LINESTRING(4</span> <span class="pre">6,7</span> <span class="pre">10))')</span></code></p>
</div>
<div class="section" id="geometry">
<h3>9.18.4.9. geometry<a class="headerlink" href="#geometry" title="Permalink to this headline">¶</a></h3>
<p>Description: Parse a geometry from a WKT string or WKB byte array.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">geometry($0)</span></code></p>
<p>Example: Parsing WKT as a geometry</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># config</span>
<span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;geom&quot;</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="s2">&quot;geometry($2)&quot;</span> <span class="p">}</span>

<span class="c1"># data</span>
<span class="n">ID</span><span class="p">,</span><span class="n">wkt</span><span class="p">,</span><span class="n">date</span>
<span class="mi">1</span><span class="p">,</span><span class="n">POINT</span><span class="p">(</span><span class="mi">2</span> <span class="mi">3</span><span class="p">),</span><span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span>
<span class="mi">2</span><span class="p">,</span><span class="s2">&quot;LINESTRING(102 0, 103 1, 104 0, 105 1)&quot;</span><span class="p">,</span><span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">03</span>
</pre></div>
</div>
</div>
<div class="section" id="projectfrom">
<h3>9.18.4.10. projectFrom<a class="headerlink" href="#projectfrom" title="Permalink to this headline">¶</a></h3>
<p>Description: Project a geometry from its native CRS to EPSG:4326. GeoMesa only supports EPSG:4326,
so geometries must be transformed when ingesting from another CRS.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">projectFrom('EPSG:3857',$0)</span></code></p>
<p>Example: Reprojecting a parsed point from EPSG:3857 to EPSG:4326:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># config</span>
<span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;geom&quot;</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="s2">&quot;projectFrom(&#39;EPSG:3857&#39;,point($2::double, $3::double))&quot;</span> <span class="p">}</span>

<span class="c1"># data</span>
<span class="nb">id</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">date</span>
<span class="n">identity1</span><span class="p">,</span><span class="mf">1689200.14</span><span class="p">,</span><span class="mf">1113194.91</span><span class="p">,</span><span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">03</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id-functions">
<h2>9.18.5. ID Functions<a class="headerlink" href="#id-functions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="stringtobytes">
<h3>9.18.5.1. stringToBytes<a class="headerlink" href="#stringtobytes" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a string to a UTF-8 byte array (to pass to other functions like <code class="docutils literal notranslate"><span class="pre">md5()</span></code>).</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">stringToBytes($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">stringToBytes('row,of,data')</span></code></p>
</div>
<div class="section" id="md5">
<h3>9.18.5.2. md5<a class="headerlink" href="#md5" title="Permalink to this headline">¶</a></h3>
<p>Description: Creates an MD5 hash from a byte array.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">md5($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">md5(stringToBytes('row,of,data'))</span></code></p>
</div>
<div class="section" id="murmur3-32">
<h3>9.18.5.3. murmur3_32<a class="headerlink" href="#murmur3-32" title="Permalink to this headline">¶</a></h3>
<p>Description: Creates a 32-bit murmur3 hash from a string.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">murmur3_32($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">murmur3_32('row,of,data')</span></code></p>
</div>
<div class="section" id="murmur3-64">
<h3>9.18.5.4. murmur3_64<a class="headerlink" href="#murmur3-64" title="Permalink to this headline">¶</a></h3>
<p>Description: Creates a 64-bit murmur3 hash from a string. Note that previously this function was incorrectly
named <code class="docutils literal notranslate"><span class="pre">murmur3_128</span></code>, and can still be invoked by that name.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">murmur3_64($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">murmur3_64('row,of,data')</span></code></p>
</div>
<div class="section" id="murmurhash3">
<h3>9.18.5.5. murmurHash3<a class="headerlink" href="#murmurhash3" title="Permalink to this headline">¶</a></h3>
<p>Description: Creates a 128-bit murmur3 hash from a string or byte array, returned as a hex string.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">murmurHash3($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">murmurHash3('row,of,data')</span></code></p>
</div>
<div class="section" id="uuid">
<h3>9.18.5.6. uuid<a class="headerlink" href="#uuid" title="Permalink to this headline">¶</a></h3>
<p>Description: Generates a random UUID.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">uuid()</span></code></p>
</div>
<div class="section" id="uuidz3">
<h3>9.18.5.7. uuidZ3<a class="headerlink" href="#uuidz3" title="Permalink to this headline">¶</a></h3>
<p>Description: Generates a Z3-based UUID for point geometries.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">uuidZ3($geom,</span> <span class="pre">$date,</span> <span class="pre">$interval)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">uuidZ3(point('POINT</span> <span class="pre">(3</span> <span class="pre">2)'),</span> <span class="pre">dateTime('2015-01-01T00:00:00.000Z'),</span> <span class="pre">'week')</span></code></p>
<p>See <a class="reference internal" href="../datastores/index_config.html#customizing-z-index"><span class="std std-ref">Configuring Z-Index Time Interval</span></a> for details on Z3 intervals.</p>
</div>
<div class="section" id="uuidz3centroid">
<h3>9.18.5.8. uuidZ3Centroid<a class="headerlink" href="#uuidz3centroid" title="Permalink to this headline">¶</a></h3>
<p>Description: Generates a Z3-based UUID for non-point geometries.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">uuidZ3Centroid($geom,</span> <span class="pre">$date,</span> <span class="pre">$interval)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">uuidZ3Centroid(linestring('LINESTRING(102</span> <span class="pre">0,</span> <span class="pre">103</span> <span class="pre">1,</span> <span class="pre">104</span> <span class="pre">0,</span> <span class="pre">105</span> <span class="pre">1)',</span> <span class="pre">dateTime('2015-01-01T00:00:00.000Z'),</span> <span class="pre">'week')</span></code></p>
<p>See <a class="reference internal" href="../datastores/index_config.html#customizing-z-index"><span class="std std-ref">Configuring Z-Index Time Interval</span></a> for details on Z3 intervals.</p>
</div>
</div>
<div class="section" id="type-conversions">
<h2>9.18.6. Type Conversions<a class="headerlink" href="#type-conversions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="int-or-integer">
<h3>9.18.6.1. ::int or ::integer<a class="headerlink" href="#int-or-integer" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a string into an integer. Invalid values will
cause the record to fail.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">'1'::int</span> <span class="pre">=</span> <span class="pre">1</span></code></p>
</div>
<div class="section" id="long">
<h3>9.18.6.2. ::long<a class="headerlink" href="#long" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a string into a long. Invalid values will cause
the record to fail.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">'1'::long</span> <span class="pre">=</span> <span class="pre">1L</span></code></p>
</div>
<div class="section" id="float">
<h3>9.18.6.3. ::float<a class="headerlink" href="#float" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a string into a float. Invalid values will cause
the record to fail.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">'1.0'::float</span> <span class="pre">=</span> <span class="pre">1.0f</span></code></p>
</div>
<div class="section" id="double">
<h3>9.18.6.4. ::double<a class="headerlink" href="#double" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a string into a double. Invalid values will cause
the record to fail.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">'1.0'::double</span> <span class="pre">=</span> <span class="pre">1.0d</span></code></p>
</div>
<div class="section" id="boolean">
<h3>9.18.6.5. ::boolean<a class="headerlink" href="#boolean" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a string into a boolean. Invalid values will cause
the record to fail.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">'true'::boolean</span> <span class="pre">=</span> <span class="pre">true</span></code></p>
</div>
<div class="section" id="r">
<h3>9.18.6.6. ::r<a class="headerlink" href="#r" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a string into a Regex object.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">'f.*'::r</span> <span class="pre">=</span> <span class="pre">f.*:</span> <span class="pre">scala.util.matching.Regex</span></code></p>
</div>
<div class="section" id="toint-or-tointeger">
<h3>9.18.6.7. toInt or toInteger<a class="headerlink" href="#toint-or-tointeger" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a value into a integer. If the conversion fails, returns null unless a default value is defined.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">toInt($1,</span> <span class="pre">$2)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toInt('1',</span> <span class="pre">0)</span> <span class="pre">=</span> <span class="pre">1</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toInt('',</span> <span class="pre">0)</span> <span class="pre">=</span> <span class="pre">0</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toInt('')</span> <span class="pre">=</span> <span class="pre">null</span></code></p>
</div>
<div class="section" id="tolong">
<h3>9.18.6.8. toLong<a class="headerlink" href="#tolong" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a value into a long. If the conversion fails, returns null unless a default value is defined.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">toLong($1,</span> <span class="pre">$2)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toLong('1',</span> <span class="pre">0L)</span> <span class="pre">=</span> <span class="pre">1L</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toLong('',</span> <span class="pre">0L)</span> <span class="pre">=</span> <span class="pre">0L</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toLong('')</span> <span class="pre">=</span> <span class="pre">null</span></code></p>
</div>
<div class="section" id="tofloat">
<h3>9.18.6.9. toFloat<a class="headerlink" href="#tofloat" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a value into a float. If the conversion fails, returns null unless a default value is defined.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">toFloat($1,</span> <span class="pre">$2)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toFloat('1.0',</span> <span class="pre">0.0f)</span> <span class="pre">=</span> <span class="pre">1.0f</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toFloat('not</span> <span class="pre">a</span> <span class="pre">float',</span> <span class="pre">0.0f)</span> <span class="pre">=</span> <span class="pre">0.0f</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toFloat('')</span> <span class="pre">=</span> <span class="pre">null</span></code></p>
</div>
<div class="section" id="todouble">
<h3>9.18.6.10. toDouble<a class="headerlink" href="#todouble" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a value into a double. If the conversion fails, returns null unless a default value is defined.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">toDouble($1,</span> <span class="pre">$2)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toDouble('1.0',</span> <span class="pre">0.0)</span> <span class="pre">=</span> <span class="pre">1.0d</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toDouble(null,</span> <span class="pre">0.0)</span> <span class="pre">=</span> <span class="pre">0.0d</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toDouble('')</span> <span class="pre">=</span> <span class="pre">null</span></code></p>
</div>
<div class="section" id="toboolean">
<h3>9.18.6.11. toBoolean<a class="headerlink" href="#toboolean" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts a value into a boolean. If the conversion fails, returns null unless a default value is
defined. If the input is a number, it will evaluate to false if it is equal to zero, and true otherwise.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">toBoolean($1,</span> <span class="pre">$2)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toBoolean('true',</span> <span class="pre">false)</span> <span class="pre">=</span> <span class="pre">true</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toBoolean('foo',</span> <span class="pre">false)</span> <span class="pre">=</span> <span class="pre">false</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">toBoolean('')</span> <span class="pre">=</span> <span class="pre">null</span></code></p>
</div>
<div class="section" id="inttoboolean">
<h3>9.18.6.12. intToBoolean<a class="headerlink" href="#inttoboolean" title="Permalink to this headline">¶</a></h3>
<p>Description: Converts an integer to boolean. Follows the normal rules of conversion, where 0 is false and all
other values are true.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">intToBoolean($1)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">intToBoolean(1)</span> <span class="pre">=</span> <span class="pre">true</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">intToBoolean(0)</span> <span class="pre">=</span> <span class="pre">false</span></code></p>
</div>
</div>
<div class="section" id="math-functions">
<h2>9.18.7. Math Functions<a class="headerlink" href="#math-functions" title="Permalink to this headline">¶</a></h2>
<p>Usage:</p>
<p>The arguments to a math functions must be numbers - Integers, Doubles, Floats, Longs or numeric Strings.</p>
<p>All math functions return Doubles. If another data type is needed, convert the value afterwards,
e.g. <code class="docutils literal notranslate"><span class="pre">add($1,$2)::long</span></code></p>
<p>Math functions accept multiple arguments, or will accept a single java.util.List containing the arguments.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;value3&quot;</span><span class="p">,</span>   <span class="n">transform</span> <span class="o">=</span> <span class="s2">&quot;add($value1, multiply($value2, 1.2))::double&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<div class="section" id="add">
<h3>9.18.7.1. add<a class="headerlink" href="#add" title="Permalink to this headline">¶</a></h3>
<p>Description: Adds two or more values.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">add($1,$2)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">add($1,$2,&quot;10&quot;)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">add(list(1,2,3))</span></code></p>
</div>
<div class="section" id="subtract">
<h3>9.18.7.2. subtract<a class="headerlink" href="#subtract" title="Permalink to this headline">¶</a></h3>
<p>Description: Subtracts two or more values sequentially.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">subtract($1,$2)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">subtract($1,$2,1.0f)</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">($1</span> <span class="pre">-</span> <span class="pre">$2)</span> <span class="pre">-</span> <span class="pre">1.0f</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">subtract(list(3,1))</span></code></p>
</div>
<div class="section" id="multiply">
<h3>9.18.7.3. multiply<a class="headerlink" href="#multiply" title="Permalink to this headline">¶</a></h3>
<p>Description: Multiply two or more values.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">multiply($1,$2)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">multiply($1,$2,0.01d)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">multiply(list(3,2))</span></code></p>
</div>
<div class="section" id="divide">
<h3>9.18.7.4. divide<a class="headerlink" href="#divide" title="Permalink to this headline">¶</a></h3>
<p>Description: Divides two or more values sequentially.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">divide($1,$2)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">divide($1,$2,&quot;15&quot;)</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">($1/$2)/&quot;15&quot;</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">divide(list(3,2))</span></code></p>
</div>
<div class="section" id="mean">
<h3>9.18.7.5. mean<a class="headerlink" href="#mean" title="Permalink to this headline">¶</a></h3>
<p>Description: Takes the mean (average) of two or more numbers.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">mean($1,$2,$3)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">mean(list(1,2,3))</span></code></p>
</div>
<div class="section" id="min">
<h3>9.18.7.6. min<a class="headerlink" href="#min" title="Permalink to this headline">¶</a></h3>
<p>Description: Finds the minimum of two or more numbers.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">min($1,$2,$3)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">min(list(1,2,3))</span></code></p>
</div>
<div class="section" id="max">
<h3>9.18.7.7. max<a class="headerlink" href="#max" title="Permalink to this headline">¶</a></h3>
<p>Description: Finds the maximum of two or more numbers.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">max($1,$2,$3)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">max(list(1,2,3))</span></code></p>
</div>
</div>
<div class="section" id="list-and-map-functions">
<h2>9.18.8. List and Map Functions<a class="headerlink" href="#list-and-map-functions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="list">
<h3>9.18.8.1. list<a class="headerlink" href="#list" title="Permalink to this headline">¶</a></h3>
<p>Description: Creates a list from the input arguments</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">list(1,2,3)</span></code></p>
</div>
<div class="section" id="listitem">
<h3>9.18.8.2. listItem<a class="headerlink" href="#listitem" title="Permalink to this headline">¶</a></h3>
<p>Description: Selects an element out of a list</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">listItem(list('1','2','3'),0)</span></code></p>
</div>
<div class="section" id="mapvalue">
<h3>9.18.8.3. mapValue<a class="headerlink" href="#mapvalue" title="Permalink to this headline">¶</a></h3>
<p>Description: Read a value out of a map instance by key</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">mapValue($map,'key')</span></code></p>
</div>
<div class="section" id="parselist">
<h3>9.18.8.4. parseList<a class="headerlink" href="#parselist" title="Permalink to this headline">¶</a></h3>
<p>Description: Parse a <code class="docutils literal notranslate"><span class="pre">List[T]</span></code> type from a string.</p>
<p>If your SimpleFeatureType config contains a list or map you can easily
configure a transform function to parse it using the <code class="docutils literal notranslate"><span class="pre">parseList</span></code>
function which takes either 2 or 3 args</p>
<ol class="arabic simple">
<li>The primitive type of the list (int, string, double, float, boolean,
etc)</li>
<li>The reference to parse</li>
<li>Optionally, the list delimiter (defaults to a comma)</li>
</ol>
<p>Here’s some sample CSV data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ID</span><span class="p">,</span><span class="n">Name</span><span class="p">,</span><span class="n">Age</span><span class="p">,</span><span class="n">LastSeen</span><span class="p">,</span><span class="n">Friends</span><span class="p">,</span><span class="n">Lat</span><span class="p">,</span><span class="n">Lon</span>
<span class="mi">23623</span><span class="p">,</span><span class="n">Harry</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">2015</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">06</span><span class="p">,</span><span class="s2">&quot;Will, Mark, Suzan&quot;</span><span class="p">,</span><span class="o">-</span><span class="mf">100.236523</span><span class="p">,</span><span class="mi">23</span>
<span class="mi">26236</span><span class="p">,</span><span class="n">Hermione</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">2015</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="p">,</span><span class="s2">&quot;Edward, Bill, Harry&quot;</span><span class="p">,</span><span class="mf">40.232</span><span class="p">,</span><span class="o">-</span><span class="mf">53.2356</span>
<span class="mi">3233</span><span class="p">,</span><span class="n">Severus</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">2015</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span><span class="p">,</span><span class="s2">&quot;Tom, Riddle, Voldemort&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mf">62.23</span>
</pre></div>
</div>
<p>For example, an SFT may specific a field:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;friends&quot;</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;List[String]&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<p>And a transform to parse the quoted CSV field:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;friends&quot;</span><span class="p">,</span> <span class="n">transform</span> <span class="o">=</span> <span class="s2">&quot;parseList(&#39;string&#39;, $5)&quot;</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="parsemap">
<span id="converter-parse-map-fn"></span><h3>9.18.8.5. parseMap<a class="headerlink" href="#parsemap" title="Permalink to this headline">¶</a></h3>
<p>Description: Parse a <code class="docutils literal notranslate"><span class="pre">Map[T,V]</span></code> type from a string.</p>
<p>Parsing Maps is similar. Take for example this CSV data with a quoted
map field:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;1-&gt;a,2-&gt;b,3-&gt;c,4-&gt;d&quot;</span><span class="p">,</span><span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">17</span><span class="p">,</span><span class="o">-</span><span class="mf">90.368732</span><span class="p">,</span><span class="mf">35.3155</span>
<span class="mi">2</span><span class="p">,</span><span class="s2">&quot;5-&gt;e,6-&gt;f,7-&gt;g,8-&gt;h&quot;</span><span class="p">,</span><span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">17</span><span class="p">,</span><span class="o">-</span><span class="mf">70.970585</span><span class="p">,</span><span class="mf">42.36211</span>
<span class="mi">3</span><span class="p">,</span><span class="s2">&quot;9-&gt;i,10-&gt;j&quot;</span><span class="p">,</span><span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">17</span><span class="p">,</span><span class="o">-</span><span class="mf">97.599004</span><span class="p">,</span><span class="mf">30.50901</span>
</pre></div>
</div>
<p>Our field type is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span><span class="p">:</span><span class="n">Map</span><span class="p">[</span><span class="n">Integer</span><span class="p">,</span><span class="n">String</span><span class="p">]</span>
</pre></div>
</div>
<p>Then we specify a transform:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;numbers&quot;</span><span class="p">,</span> <span class="n">transform</span> <span class="o">=</span> <span class="s2">&quot;parseMap(&#39;int -&gt; string&#39;, $2)&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<p>Optionally we can also provide custom list/record and key-value
delimiters for a map:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;numbers&quot;</span><span class="p">,</span> <span class="n">transform</span> <span class="o">=</span> <span class="s2">&quot;parseMap(&#39;int -&gt; string&#39;, $2, &#39;-&gt;&#39;, &#39;,&#39;)&quot;</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="transformlistitems">
<h3>9.18.8.6. transformListItems<a class="headerlink" href="#transformlistitems" title="Permalink to this headline">¶</a></h3>
<p>Description: Applies a transform expression to every element of a list</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">transformListItems(list('1','2','3'),'stringToDouble($0)')</span></code></p>
<p>The expression to apply must be defined as a string. In the example shown, the list will be converted
from <code class="docutils literal notranslate"><span class="pre">List[String]</span></code> to <code class="docutils literal notranslate"><span class="pre">List[Double]</span></code>.</p>
</div>
</div>
<div class="section" id="encoding-functions">
<h2>9.18.9. Encoding Functions<a class="headerlink" href="#encoding-functions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="base64encode">
<h3>9.18.9.1. base64Encode<a class="headerlink" href="#base64encode" title="Permalink to this headline">¶</a></h3>
<p>Description: Encodes a byte array as a base-64 URL-safe string. This function can also be invoked as <code class="docutils literal notranslate"><span class="pre">base64</span></code>,
but that name has been deprecated and will be removed in future versions.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">base64Encode($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">base64Encode(stringToBytes('foo'))</span></code></p>
</div>
<div class="section" id="base64decode">
<h3>9.18.9.2. base64Decode<a class="headerlink" href="#base64decode" title="Permalink to this headline">¶</a></h3>
<p>Description: Decodes a base-64 URL-safe encoded string into a byte array.</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">base64Decode($0)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">base64Decode('Zm9v')</span></code></p>
</div>
</div>
<div class="section" id="state-functions">
<h2>9.18.10. State Functions<a class="headerlink" href="#state-functions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="inputfilepath">
<h3>9.18.10.1. inputFilePath<a class="headerlink" href="#inputfilepath" title="Permalink to this headline">¶</a></h3>
<p>Description: provides the absolute path to the file being operated on, if available</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">$inputFilePath</span></code></p>
<p>The file path is a variable, referenced through <code class="docutils literal notranslate"><span class="pre">$</span></code> notation.</p>
<p>The file path may not always be available, depending on how the converter is being invoked.
When invoked through the GeoMesa command-line tools or GeoMesa NiFi, it will be set appropriately.</p>
</div>
<div class="section" id="lineno">
<h3>9.18.10.2. lineNo<a class="headerlink" href="#lineno" title="Permalink to this headline">¶</a></h3>
<p>Description: provides the current line number in the file being operated on, if available</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">lineNo()</span></code></p>
<p>The line number may not always be available, depending on the converter being used. For some converters,
line number may be an abstract concept. For example, in the Avro converter line number will refer to the
number of the Avro record in the file.</p>
</div>
</div>
<div class="section" id="enrichment-functions">
<h2>9.18.11. Enrichment Functions<a class="headerlink" href="#enrichment-functions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="cachelookup">
<h3>9.18.11.1. cacheLookup<a class="headerlink" href="#cachelookup" title="Permalink to this headline">¶</a></h3>
<p>Description: Looks up a value from a cache</p>
<p>Usage: <code class="docutils literal notranslate"><span class="pre">cacheLookup(&lt;cacheName&gt;,</span> <span class="pre">&lt;entityKey&gt;,</span> <span class="pre">&lt;attributeKey&gt;)</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">cacheLookup('test',</span> <span class="pre">$id,</span> <span class="pre">'name')</span></code></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="extending.html" class="btn btn-neutral float-right" title="9.19. Extending the Converter Library" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="function_overview.html" class="btn btn-neutral" title="9.17. Transformation Function Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>

<div role="contentinfo">
  <p>
    &copy; Copyright 2013-2021 <a href="https://www.ccri.com/">Commonwealth Computer Research, Inc.</a>
    <br/>
    Licensed under the <a href="http://www.opensource.org/licenses/apache2.0.php">Apache License, Version 2.0</a>
  </p>
</div>

<div role="contentinfo">
  <p>
    Built with <a href="http://sphinx-doc.org/">Sphinx</a>
    using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>
    
    - view <a href="../../_sources/user/convert/function_usage.rst.txt" rel="nofollow">page source</a>
    
  </p>
</div>



</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
        <script type="text/javascript" src="../../_static/copybutton.js"></script>
    

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>