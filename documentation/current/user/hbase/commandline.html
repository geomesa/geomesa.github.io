

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>9.5. HBase Command-Line Tools &mdash; GeoMesa 1.4.0-SNAPSHOT Manuals</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme_custom.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="GeoMesa 1.4.0-SNAPSHOT Manuals" href="../../index.html"/>
        <link rel="up" title="9. HBase Data Store" href="index.html"/>
        <link rel="next" title="9.6. HBase Index Configuration" href="index_config.html"/>
        <link rel="prev" title="9.4. Using the HBase Data Store in GeoServer" href="geoserver.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> GeoMesa
          

          
          </a>

          
            
            
              <div class="version">
                1.4.0-SNAPSHOT
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../download.html">2. Versions and Downloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html">3. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html">4. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html">5. Architecture Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datastores/index.html">6. GeoMesa Data Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/index.html">7. Command-Line Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../accumulo/index.html">8. Accumulo Data Store</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">9. HBase Data Store</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="install.html">9.1. Installing GeoMesa HBase</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html">9.2. HBase Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage.html">9.3. Using the HBase Data Store Programmatically</a></li>
<li class="toctree-l3"><a class="reference internal" href="geoserver.html">9.4. Using the HBase Data Store in GeoServer</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">9.5. HBase Command-Line Tools</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#general-arguments">9.5.1. General Arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="#commands">9.5.2. Commands</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="index_config.html">9.6. HBase Index Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="heatmaps.html">9.7. HBase Heatmaps</a></li>
<li class="toctree-l3"><a class="reference internal" href="visibilities.html">9.8. HBase Visibilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="kerberos.html">9.9. Kerberos</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bigtable/index.html">10. Bigtable Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cassandra/index.html">11. Cassandra Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kafka/index.html">12. Kafka Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lambda/index.html">13. Lambda Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../filesystem/index.html">14. FileSystem Datastore (Amazon S3, HDFS Datastore)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geoserver.html">15. GeoServer Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blobstore.html">16. GeoMesa Blob Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../convert/index.html">17. GeoMesa Convert</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geojson.html">18. GeoMesa GeoJSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics.html">19. GeoMesa Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../native_api.html">20. GeoMesa Native API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nifi.html">21. GeoMesa NiFi Bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../process.html">22. GeoMesa Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spark/index.html">23. GeoMesa Spark</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stream.html">24. GeoMesa Stream Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../web_data.html">25. GeoMesa Web Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade.html">26. Upgrade Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#appendix">Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">Developer Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">GeoMesa</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">User Manual</a> &raquo;</li>
      
          <li><a href="index.html">9. HBase Data Store</a> &raquo;</li>
      
    <li>9.5. HBase Command-Line Tools</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/user/hbase/commandline.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="hbase-command-line-tools">
<span id="hbase-tools"></span><h1>9.5. HBase Command-Line Tools<a class="headerlink" href="#hbase-command-line-tools" title="Permalink to this headline">¶</a></h1>
<p>The GeoMesa HBase distribution includes a set of command-line tools for feature
management, ingest, export and debugging.</p>
<p>To install the tools, see <a class="reference internal" href="install.html#setting-up-hbase-commandline"><span class="std std-ref">Installing the Binary Distribution</span></a>.</p>
<p>Once installed, the tools should be available through the command <code class="docutils literal"><span class="pre">geomesa-hbase</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ geomesa-hbase
INFO  Usage: geomesa-hbase [command] [command options]
  Commands:
    ...
</pre></div>
</div>
<p>Commands that are common to multiple back ends are described in <a class="reference internal" href="../cli/index.html"><span class="doc">Command-Line Tools</span></a>. The commands
here are HBase-specific.</p>
<div class="section" id="general-arguments">
<h2>9.5.1. General Arguments<a class="headerlink" href="#general-arguments" title="Permalink to this headline">¶</a></h2>
<p>The HBase tools commands do not require connection arguments; instead they rely on an appropriate
<code class="docutils literal"><span class="pre">hbase-site.xml</span></code> to be available on the classpath, as described in <a class="reference internal" href="install.html#setting-up-hbase-commandline"><span class="std std-ref">Installing the Binary Distribution</span></a>.</p>
</div>
<div class="section" id="commands">
<h2>9.5.2. Commands<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h2>
<div class="section" id="bulk-ingest">
<h3>9.5.2.1. <code class="docutils literal"><span class="pre">bulk-ingest</span></code><a class="headerlink" href="#bulk-ingest" title="Permalink to this headline">¶</a></h3>
<p>Ingest data and write out HFiles, suitable for bulk loading into a cluster. Writing to offline HFiles instead
of directly to a running cluster can reduce the load on your cluster, and avoid costly data compactions.
See <a class="reference external" href="http://hbase.apache.org/book.html#arch.bulk.load">Bulk Loading</a> in the HBase documentation for more details
on the general concept.</p>
<p>A bulk ingest must be run as a map/reduce job. As such, ensure that your input files are staged in HDFS. Currently
only the GeoMesa converter framework is supported for bulk ingestion.</p>
<p>When running a bulk ingest, you should ensure that the data tables have appropriate splits, based on
your input. This will avoid creating extremely large files during the ingest, and will also prevent the cluster
from having to subsequently split the HFiles. See <a class="reference internal" href="../datastores/index_config.html#table-split-config"><span class="std std-ref">Configuring Index Splits</span></a> for more information.</p>
<p>Currently HBase only supports writing out to a single table at one time. Because of this, a complete bulk load
will consist of running this command multiple times, once for each index table (e.g. <code class="docutils literal"><span class="pre">z3</span></code>, <code class="docutils literal"><span class="pre">id</span></code>, etc).</p>
<p>Once the files have been generated, use the <code class="docutils literal"><span class="pre">bulk-load</span></code> command (described below) to load them into the cluster.</p>
</div>
<div class="section" id="bulk-load">
<h3>9.5.2.2. <code class="docutils literal"><span class="pre">bulk-load</span></code><a class="headerlink" href="#bulk-load" title="Permalink to this headline">¶</a></h3>
<p>Load HFiles into an HBase cluster. This command uses the HBase <code class="docutils literal"><span class="pre">LoadIncrementalHFiles</span></code> class to load the
data into the region servers. See the <code class="docutils literal"><span class="pre">bulk-ingest</span></code> command, above, for details on creating HFiles.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This command may corrupt your cluster data. If possible, you should always back up your cluster before
attempting a bulk load. If there are any errors or timeouts during the bulk load, you may need to use
the HBase <code class="docutils literal"><span class="pre">hbck</span></code> command to repair the cluster.</p>
</div>
<p>Depending on the size of your data, you may need to modify the default HBase configuration settings
in order to successfully bulk load the files. This is done by modifying the <code class="docutils literal"><span class="pre">hbase-site.xml</span></code> file on the
GeoMesa tools classpath. The following properties are particularly relevant:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">hbase.rpc.timeout</span></code> - may need to increase, especially if dealing with large HFiles or if using HBase on S3</li>
<li><code class="docutils literal"><span class="pre">hbase.mapreduce.bulkload.max.hfiles.perRegion.perFamily</span></code> - may need to increase, if ingesting a large
number of HFiles</li>
<li><code class="docutils literal"><span class="pre">hbase.loadincremental.threads.max</span></code> - can increase to speed up the bulk load. Increasing to match the number of
region servers may be appropriate.</li>
</ul>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="index_config.html" class="btn btn-neutral float-right" title="9.6. HBase Index Configuration" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="geoserver.html" class="btn btn-neutral" title="9.4. Using the HBase Data Store in GeoServer" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>

<div role="contentinfo">
  <p>
    &copy; Copyright 2013-2017 <a href="https://www.ccri.com/">Commonwealth Computer Research, Inc.</a>
    <br/>
    Licensed under the <a href="http://www.opensource.org/licenses/apache2.0.php">Apache License, Version 2.0</a>
  </p>
</div>

Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>



</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.4.0-SNAPSHOT',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>