<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>20.6. FileSystem DataStore Configuration &mdash; GeoMesa 5.4.0 Manuals</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme_custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="canonical" href="https://www.geomesa.org/documentation/stable/user/filesystem/configuration.html"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="20.7. Index Configuration" href="index_config.html" />
    <link rel="prev" title="20.5. FileSystem Command-Line Tools" href="commandline.html" />


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> GeoMesa
          </a>
              <div class="version">
                5.4.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html">2. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../download.html">3. Versions and Downloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html">4. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html">5. Architecture Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geotools.html">6. GeoTools Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datastores/index.html">7. GeoMesa Data Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/index.html">8. Command-Line Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../convert/index.html">9. GeoMesa Converters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geoserver.html">10. GeoServer Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spark/index.html">11. GeoMesa Spark</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nifi/index.html">12. GeoMesa NiFi Bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../process.html">13. GeoMesa Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../accumulo/index.html">14. Accumulo Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hbase/index.html">15. HBase Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cassandra/index.html">16. Cassandra Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../postgis/index.html">17. Partitioned PostGIS Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kafka/index.html">18. Kafka Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../redis/index.html">19. Redis Data Store</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">20. FileSystem Data Store</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="architecture.html">20.1. Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html">20.2. Installing GeoMesa FileSystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage.html">20.3. FileSystem Data Store Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="geoserver.html">20.4. Using the FileSystem Data Store in GeoServer</a></li>
<li class="toctree-l3"><a class="reference internal" href="commandline.html">20.5. FileSystem Command-Line Tools</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">20.6. FileSystem DataStore Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#system-properties">20.6.1. System Properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hadoop-configuration-properties">20.6.2. Hadoop Configuration Properties</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="index_config.html">20.7. Index Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="partition_schemes.html">20.8. Partition Schemes</a></li>
<li class="toctree-l3"><a class="reference internal" href="metadata.html">20.9. FileSystem Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="modify_features.html">20.10. Modifying Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="example.html">20.11. FileSystem Data Store Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="spark_example.html">20.12. FileSystem Data Store Spark SQL Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lambda/index.html">21. Lambda Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ds_views.html">22. Combined Data Store Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade.html">23. Upgrade Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#appendix">Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GeoMesa</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">User Manual</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">20. </span>FileSystem Data Store</a></li>
      <li class="breadcrumb-item active"><span class="section-number">20.6. </span>FileSystem DataStore Configuration</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="filesystem-datastore-configuration">
<span id="fsds-config-props"></span><h1><span class="section-number">20.6. </span>FileSystem DataStore Configuration<a class="headerlink" href="#filesystem-datastore-configuration" title="Permalink to this headline">¶</a></h1>
<section id="system-properties">
<h2><span class="section-number">20.6.1. </span>System Properties<a class="headerlink" href="#system-properties" title="Permalink to this headline">¶</a></h2>
<p>This section details configuration properties specific to the FileSystem data store. For general properties,
see <a class="reference internal" href="../datastores/runtime_config.html#geomesa-site-xml"><span class="std std-ref">Runtime Configuration</span></a>.</p>
<section id="geomesa-fs-file-cache-duration">
<h3><span class="section-number">20.6.1.1. </span>geomesa.fs.file.cache.duration<a class="headerlink" href="#geomesa-fs-file-cache-duration" title="Permalink to this headline">¶</a></h3>
<p>To avoid repeated reads from disk, GeoMesa will cache the results of disk operations for a certain period of time.
This has the side effect that files modified by external processes may not be visible until after the cache timeout.</p>
<p>The property is defined as a duration, e.g. <code class="docutils literal notranslate"><span class="pre">60</span> <span class="pre">seconds</span></code> or <code class="docutils literal notranslate"><span class="pre">100</span> <span class="pre">millis</span></code>. By default it is <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">minutes</span></code>.</p>
</section>
<section id="geomesa-fs-size-threshold">
<span id="fsds-size-threshold-prop"></span><h3><span class="section-number">20.6.1.2. </span>geomesa.fs.size.threshold<a class="headerlink" href="#geomesa-fs-size-threshold" title="Permalink to this headline">¶</a></h3>
<p>When specifying a target size for data files, this property controls the error margin that is considered acceptable.
Files which are outside of the margin may be merged or split during compactions. See <a class="reference internal" href="index_config.html#fsds-file-size-config"><span class="std std-ref">Configuring Target File Size</span></a>
for more information.</p>
<p>The threshold is specified as a float greater than <code class="docutils literal notranslate"><span class="pre">0</span></code> and less than <code class="docutils literal notranslate"><span class="pre">1</span></code>, with a default value of <code class="docutils literal notranslate"><span class="pre">0.05</span></code>.
For example, if the target file size is 100 bytes, then an error threshold of <code class="docutils literal notranslate"><span class="pre">0.05</span></code> means that files will not
be compacted if they are between 95 and 105 bytes.</p>
</section>
<section id="geomesa-fs-validate-file">
<h3><span class="section-number">20.6.1.3. </span>geomesa.fs.validate.file<a class="headerlink" href="#geomesa-fs-validate-file" title="Permalink to this headline">¶</a></h3>
<p>This property is implemented only for Parquet files. If set, it checks a file for any potential data corruption
upon closing the file writer.</p>
</section>
<section id="geomesa-fs-writer-partition-timeout">
<h3><span class="section-number">20.6.1.4. </span>geomesa.fs.writer.partition.timeout<a class="headerlink" href="#geomesa-fs-writer-partition-timeout" title="Permalink to this headline">¶</a></h3>
<p>When writing to multiple partitions, each partition writer is kept open until the overall feature writer is closed.
When writing to many partitions at once, this may cause memory problems due to the large number of writers. To
mitigate this, idle partitions can be closed after a configurable timeout.</p>
<p>The timeout is defined as a duration, e.g. <code class="docutils literal notranslate"><span class="pre">60</span> <span class="pre">seconds</span></code> or <code class="docutils literal notranslate"><span class="pre">100</span> <span class="pre">millis</span></code>.</p>
</section>
</section>
<section id="hadoop-configuration-properties">
<h2><span class="section-number">20.6.2. </span>Hadoop Configuration Properties<a class="headerlink" href="#hadoop-configuration-properties" title="Permalink to this headline">¶</a></h2>
<p>Some properties are configured through Hadoop’s <code class="docutils literal notranslate"><span class="pre">hdfs-site.xml</span></code>. Additional configuration files can be passed in through the
<a class="reference internal" href="usage.html#fsds-parameters"><span class="std std-ref">FileSystem Data Store Parameters</span></a> <code class="docutils literal notranslate"><span class="pre">fs.config.paths</span></code> and <code class="docutils literal notranslate"><span class="pre">fs.config.xml</span></code>.</p>
<section id="geomesa-fs-visibilities">
<h3><span class="section-number">20.6.2.1. </span>geomesa.fs.visibilities<a class="headerlink" href="#geomesa-fs-visibilities" title="Permalink to this headline">¶</a></h3>
<p>This property can be used to skip writing visibility labels, by setting it to <code class="docutils literal notranslate"><span class="pre">false</span></code>. If the data being written is known to
not have any labels, the visibility column can be removed. See <a class="reference internal" href="../datastores/security.html#data-security"><span class="std std-ref">Data Security</span></a> for an overview of security labels.</p>
</section>
<section id="geomesa-parquet-bounding-boxes">
<h3><span class="section-number">20.6.2.2. </span>geomesa.parquet.bounding-boxes<a class="headerlink" href="#geomesa-parquet-bounding-boxes" title="Permalink to this headline">¶</a></h3>
<p>This property can be used to skip writing bounding boxes for geometry-type columns when using Parquet, by setting
it to <code class="docutils literal notranslate"><span class="pre">false</span></code>. By default, each geometry will include an array-type column that includes the minimum and maximum extents
of the geometry. This can be used to accelerate queries through push-down filtering.</p>
</section>
<section id="geomesa-parquet-geometries">
<span id="fsds-parquet-geometries-prop"></span><h3><span class="section-number">20.6.2.3. </span>geomesa.parquet.geometries<a class="headerlink" href="#geomesa-parquet-geometries" title="Permalink to this headline">¶</a></h3>
<p>This property can be used to control the encoding schema used for geometry-type columns when using Parquet. The available options
are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GeoParquetWkb</span></code> (default) - This schema uses <a class="reference external" href="https://geoparquet.org/releases/v1.1.0/">GeoParquet 1.1.0</a> with geometries
encoded as WKB. This format is supported by most 3rd party libraries that can read GeoParquet.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GeoParquetNative</span></code> - This schema uses <a class="reference external" href="https://geoparquet.org/releases/v1.1.0/">GeoParquet 1.1.0</a> with geometries
encoded “natively”. This format doesn’t require special libraries to read, but isn’t as widely supported as WKB.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GeoMesaV1</span></code> (deprecated) - This schema is similar to <code class="docutils literal notranslate"><span class="pre">GeoParquetNative</span></code>, but is not an official specification that other
libraries can read. It may be useful if interoperability is required with older versions of GeoMesa (prior to 5.3.0),
as those versions are not able to read GeoParquet files.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GeoMesaV0</span></code> (deprecated) - This schema is similar to <code class="docutils literal notranslate"><span class="pre">GeoMesaV1</span></code>, but only supports point-type geometries and has other
minor inconsistencies.</p></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="commandline.html" class="btn btn-neutral float-left" title="20.5. FileSystem Command-Line Tools" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="index_config.html" class="btn btn-neutral float-right" title="20.7. Index Configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  

<div role="contentinfo">
  <p>
    &copy; Copyright 2013-2025 <a href="https://www.ga-ccri.com/">General Atomics</a>
    <br/>
    Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>
  </p>
</div>

<div role="contentinfo">
  <p>
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
    using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>
    - contribute to this page on
    <a href="https://github.com/locationtech/geomesa/edit/main/docs/user/filesystem/configuration.rst">GitHub <img src="../../_static/launch.svg"/></a>
  </p>

</div>



</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>